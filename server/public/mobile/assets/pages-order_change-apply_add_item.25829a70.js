import{d as e,s as a,M as l,c as t,v as s,O as c,o as u,h as i,e as r,w as d,g as o,b as f,j as n,t as v,y as _,F as p,i as m,f as y,aP as g,aq as k,aD as h,aV as x,b5 as b,r as C,a as w,m as z,G as j,a_ as F,l as P,b0 as $,aJ as D,I as S,b6 as T,b7 as V}from"./index-e3492752.js";import{_ as A}from"./navigation-bar.2687311c.js";import{_ as Y}from"./page-meta.a4be6114.js";import{h as I,o as M}from"./orderChange.66dcaaa9.js";import{e as O}from"./order.1e435880.js";import{g as U}from"./service.e2327710.js";import{g as q,a as B}from"./staff.2454008a.js";import{_ as G}from"./_plugin-vue_export-helper.1b428a4d.js";const J=G(e({__name:"apply_add_item",setup(e){const G=a(0),J=a(null),N=a(!1),Z=a("package"),E=a([]),H=a([]),K=a([]),L=a(null),Q=a(null),R=a(null),W=a(!1),X=a(!1),ee=a(!1),ae=l({service_date:"",time_slot:null,reason:"",attach_images:[]}),le=[{value:0,label:"全天"},{value:1,label:"早礼"},{value:2,label:"午宴"},{value:3,label:"晚宴"}],te=a(),se=a(),ce=a(),ue=a(),ie=a(),re=a([0,0,0]),de=a(0),oe=(new Date).getFullYear(),fe=Array.from({length:3},((e,a)=>oe+a)),ne=Array.from({length:12},((e,a)=>a+1)),ve=t((()=>{const e=fe[re.value[0]],a=ne[re.value[1]],l=new Date(e,a,0).getDate();return Array.from({length:l},((e,a)=>a+1))})),_e=t((()=>{var e,a;return"package"===Z.value?(null==(e=L.value)?void 0:e.price)||0:(null==(a=Q.value)?void 0:a.price)||0})),pe=t((()=>{var e,a,l;if("package"===Z.value)return(null==(e=L.value)?void 0:e.price)||0;return((null==(a=Q.value)?void 0:a.price)||0)+((null==(l=R.value)?void 0:l.price)||0)})),me=t((()=>"package"===Z.value?L.value&&ae.service_date&&null!==ae.time_slot:Q.value&&R.value&&ae.service_date&&null!==ae.time_slot)),ye=e=>{var a;Q.value=e,R.value=null,K.value=[],(async e=>{try{const a=await B({staff_id:e});K.value=a.lists||[]}catch(a){console.error(a)}})(e.id),null==(a=se.value)||a.close()},ge=e=>{re.value=e.detail.value},ke=()=>{var e;const a=new Date,l=fe.indexOf(a.getFullYear()),t=a.getMonth(),s=a.getDate()-1;re.value=[l>=0?l:0,t,s],null==(e=ue.value)||e.open()},he=()=>{var e;const a=fe[re.value[0]],l=String(ne[re.value[1]]).padStart(2,"0"),t=String(ve.value[re.value[2]]).padStart(2,"0");ae.service_date=`${a}-${l}-${t}`,null==(e=ue.value)||e.close()},xe=()=>{var e;de.value=ae.time_slot??0,null==(e=ie.value)||e.open()},be=()=>{var e;ae.time_slot=de.value,null==(e=ie.value)||e.close()},Ce=()=>{x({count:5-ae.attach_images.length,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{ae.attach_images.push(...e.tempFilePaths)}})},we=async()=>{if(me.value){N.value=!0;try{const e={order_id:G.value,add_type:Z.value,service_date:ae.service_date,time_slot:ae.time_slot,reason:ae.reason,attach_images:ae.attach_images};"package"===Z.value?e.package_id=L.value.id:(e.staff_id=Q.value.id,e.package_id=R.value.id);const a=await M(e);h({title:"申请已提交"}),setTimeout((()=>{b({url:`/pages/order_change/change_detail?id=${a.change_id}`})}),1500)}catch(e){h({title:e.message||"提交失败",icon:"none"})}finally{N.value=!1}}else h({title:"请完善申请信息",icon:"none"})};return s((()=>W.value),(e=>{var a;e&&(null==(a=te.value)||a.open())})),s((()=>X.value),(e=>{var a;e&&(null==(a=se.value)||a.open())})),s((()=>ee.value),(e=>{var a;e&&(null==(a=ce.value)||a.open())})),s(Z,(()=>{L.value=null,Q.value=null,R.value=null})),c((e=>{e.order_id&&(G.value=Number(e.order_id),(async()=>{try{const e=await O({id:G.value});J.value=e}catch(e){console.error(e)}})(),(async()=>{try{const e=await I({order_id:G.value});e.can_change||g({title:"提示",content:e.message,showCancel:!1,success:()=>{k()}})}catch(e){h({title:e.message||"检查失败",icon:"none"})}})()),(async()=>{try{const e=await U({});E.value=e.lists||e||[]}catch(e){console.error(e)}})(),(async()=>{try{const e=await q({page:1,limit:100});H.value=e.lists||e||[]}catch(e){console.error(e)}})()})),(e,a)=>{const l=C(w("navigation-bar"),A),t=C(w("page-meta"),Y),s=z,c=j,g=F("uni-icons"),k=P,h=$,x=D,b=S,I=F("uni-popup"),M=T,O=V;return u(),i(p,null,[r(t,{"page-style":e.$theme.pageStyle},{default:d((()=>[r(l,{title:"加项申请","front-color":e.$theme.navColor,"background-color":e.$theme.navBgColor},null,8,["front-color","background-color"])])),_:1},8,["page-style"]),r(s,{class:"apply-page"},{default:d((()=>[o(" 订单信息 "),J.value?(u(),f(s,{key:0,class:"bg-white p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("当前订单")])),_:1}),r(s,{class:"order-card"},{default:d((()=>[r(s,{class:"text-sm text-gray-500"},{default:d((()=>[n("订单号: "+v(J.value.order_sn),1)])),_:1}),J.value.items&&J.value.items.length>0?(u(),f(s,{key:0,class:"flex items-center mt-2"},{default:d((()=>{var e;return[r(c,{src:(null==(e=J.value.items[0].staff)?void 0:e.avatar)||"/static/images/default-avatar.png",class:"w-12 h-12 rounded-lg mr-3",mode:"aspectFill"},null,8,["src"]),r(s,{class:"flex-1"},{default:d((()=>[r(s,{class:"text-sm font-medium"},{default:d((()=>[n(v(J.value.items[0].staff_name),1)])),_:1}),r(s,{class:"text-xs text-gray-400"},{default:d((()=>[n(v(J.value.items[0].package_name),1)])),_:1})])),_:1})]})),_:1})):o("v-if",!0),r(s,{class:"mt-2 text-sm text-gray-500"},{default:d((()=>[n(" 服务日期: "+v(J.value.service_date),1)])),_:1})])),_:1})])),_:1})):o("v-if",!0),o(" 选择加项类型 "),r(s,{class:"bg-white mt-3 p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("加项类型")])),_:1}),r(s,{class:"type-options"},{default:d((()=>[r(s,{class:_(["type-option",{active:"package"===Z.value}]),onClick:a[0]||(a[0]=e=>Z.value="package")},{default:d((()=>[r(g,{type:"shop",size:"28",color:"package"===Z.value?"#ff6b35":"#999"},null,8,["color"]),r(k,null,{default:d((()=>[n("添加套餐")])),_:1})])),_:1},8,["class"]),r(s,{class:_(["type-option",{active:"staff"===Z.value}]),onClick:a[1]||(a[1]=e=>Z.value="staff")},{default:d((()=>[r(g,{type:"person",size:"28",color:"staff"===Z.value?"#ff6b35":"#999"},null,8,["color"]),r(k,null,{default:d((()=>[n("添加人员")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1}),o(" 选择套餐 (当 addType === 'package') "),"package"===Z.value?(u(),f(s,{key:1,class:"bg-white mt-3 p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("选择套餐")])),_:1}),r(s,{class:"form-item",onClick:a[2]||(a[2]=e=>W.value=!0)},{default:d((()=>[r(k,{class:"label"},{default:d((()=>[n("套餐")])),_:1}),r(s,{class:"value-area"},{default:d((()=>[L.value?(u(),f(k,{key:0,class:"text-primary"},{default:d((()=>[n(v(L.value.name),1)])),_:1})):(u(),f(k,{key:1,class:"placeholder"},{default:d((()=>[n("请选择要添加的套餐")])),_:1})),r(g,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1}),L.value?(u(),f(s,{key:0,class:"selected-item mt-3"},{default:d((()=>[r(s,{class:"flex items-center"},{default:d((()=>[r(c,{src:L.value.image||"/static/images/default-package.png",class:"w-16 h-16 rounded-lg mr-3",mode:"aspectFill"},null,8,["src"]),r(s,{class:"flex-1"},{default:d((()=>[r(s,{class:"text-sm font-medium"},{default:d((()=>[n(v(L.value.name),1)])),_:1}),r(s,{class:"text-xs text-gray-400 mt-1"},{default:d((()=>[n(v(L.value.description),1)])),_:1})])),_:1})])),_:1}),r(s,{class:"flex justify-between items-center mt-2 pt-2 border-t border-gray-100"},{default:d((()=>[r(k,{class:"text-sm text-gray-500"},{default:d((()=>[n("套餐价格")])),_:1}),r(k,{class:"text-lg font-bold text-primary"},{default:d((()=>[n("¥"+v(L.value.price),1)])),_:1})])),_:1})])),_:1})):o("v-if",!0)])),_:1})):o("v-if",!0),o(" 选择人员 (当 addType === 'staff') "),"staff"===Z.value?(u(),f(s,{key:2,class:"bg-white mt-3 p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("选择服务人员")])),_:1}),r(s,{class:"form-item",onClick:a[3]||(a[3]=e=>X.value=!0)},{default:d((()=>[r(k,{class:"label"},{default:d((()=>[n("人员")])),_:1}),r(s,{class:"value-area"},{default:d((()=>[Q.value?(u(),f(k,{key:0,class:"text-primary"},{default:d((()=>[n(v(Q.value.name),1)])),_:1})):(u(),f(k,{key:1,class:"placeholder"},{default:d((()=>[n("请选择要添加的服务人员")])),_:1})),r(g,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1}),Q.value?(u(),f(s,{key:0,class:"selected-item mt-3"},{default:d((()=>[r(s,{class:"flex items-center"},{default:d((()=>[r(c,{src:Q.value.avatar||"/static/images/default-avatar.png",class:"w-16 h-16 rounded-full mr-3",mode:"aspectFill"},null,8,["src"]),r(s,{class:"flex-1"},{default:d((()=>[r(s,{class:"text-sm font-medium"},{default:d((()=>[n(v(Q.value.name),1)])),_:1}),r(s,{class:"text-xs text-gray-400 mt-1"},{default:d((()=>[n(v(Q.value.level_name||"普通级别"),1)])),_:1}),r(s,{class:"flex items-center mt-1"},{default:d((()=>[r(g,{type:"star-filled",size:"14",color:"#ffc107"}),r(k,{class:"text-xs text-yellow-500 ml-1"},{default:d((()=>[n(v(Q.value.score||"5.0"),1)])),_:1})])),_:1})])),_:1})])),_:1}),r(s,{class:"flex justify-between items-center mt-2 pt-2 border-t border-gray-100"},{default:d((()=>[r(k,{class:"text-sm text-gray-500"},{default:d((()=>[n("服务价格")])),_:1}),r(k,{class:"text-lg font-bold text-primary"},{default:d((()=>[n("¥"+v(Q.value.price),1)])),_:1})])),_:1})])),_:1})):o("v-if",!0),o(" 选择套餐（为人员选择套餐） "),Q.value?(u(),f(s,{key:1,class:"form-item mt-3",onClick:a[4]||(a[4]=e=>ee.value=!0)},{default:d((()=>[r(k,{class:"label"},{default:d((()=>[n("关联套餐")])),_:1}),r(s,{class:"value-area"},{default:d((()=>[R.value?(u(),f(k,{key:0,class:"text-primary"},{default:d((()=>[n(v(R.value.name),1)])),_:1})):(u(),f(k,{key:1,class:"placeholder"},{default:d((()=>[n("请选择服务套餐")])),_:1})),r(g,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1})):o("v-if",!0)])),_:1})):o("v-if",!0),o(" 选择服务日期 "),r(s,{class:"bg-white mt-3 p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("服务日期")])),_:1}),r(s,{class:"form-item",onClick:ke},{default:d((()=>[r(k,{class:"label"},{default:d((()=>[n("服务日期")])),_:1}),r(s,{class:"value-area"},{default:d((()=>[ae.service_date?(u(),f(k,{key:0,class:"text-primary"},{default:d((()=>[n(v(ae.service_date),1)])),_:1})):(u(),f(k,{key:1,class:"placeholder"},{default:d((()=>[n("请选择服务日期")])),_:1})),r(g,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1}),r(s,{class:"form-item",onClick:xe},{default:d((()=>[r(k,{class:"label"},{default:d((()=>[n("时间段")])),_:1}),r(s,{class:"value-area"},{default:d((()=>[null!==ae.time_slot?(u(),f(k,{key:0,class:"text-primary"},{default:d((()=>{var e;return[n(v(null==(e=le[ae.time_slot])?void 0:e.label),1)]})),_:1})):(u(),f(k,{key:1,class:"placeholder"},{default:d((()=>[n("请选择时间段")])),_:1})),r(g,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1}),r(s,{class:"tip-box mt-3"},{default:d((()=>[r(g,{type:"info",size:"14",color:"#ff9800"}),r(k,{class:"text-xs text-orange-500 ml-1"},{default:d((()=>[n("加项服务日期可与原订单日期不同")])),_:1})])),_:1})])),_:1}),o(" 申请原因 "),r(s,{class:"bg-white mt-3 p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("申请原因")])),_:1}),r(h,{modelValue:ae.reason,"onUpdate:modelValue":a[5]||(a[5]=e=>ae.reason=e),class:"reason-input",placeholder:"请填写加项原因（选填）",maxlength:"200"},null,8,["modelValue"]),r(s,{class:"text-right text-xs text-gray-400"},{default:d((()=>[n(v(ae.reason.length)+"/200",1)])),_:1})])),_:1}),o(" 附件图片 "),r(s,{class:"bg-white mt-3 p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("附件图片（选填）")])),_:1}),r(s,{class:"image-uploader"},{default:d((()=>[(u(!0),i(p,null,m(ae.attach_images,((e,a)=>(u(),f(s,{key:a,class:"image-item"},{default:d((()=>[r(c,{src:e,class:"upload-image",mode:"aspectFill"},null,8,["src"]),r(s,{class:"delete-btn",onClick:e=>(e=>{ae.attach_images.splice(e,1)})(a)},{default:d((()=>[r(g,{type:"close",size:"14",color:"#fff"})])),_:2},1032,["onClick"])])),_:2},1024)))),128)),ae.attach_images.length<5?(u(),f(s,{key:0,class:"add-image",onClick:Ce},{default:d((()=>[r(g,{type:"plusempty",size:"40",color:"#ccc"}),r(k,{class:"text-xs text-gray-400 mt-1"},{default:d((()=>[n("上传图片")])),_:1})])),_:1})):o("v-if",!0)])),_:1}),r(s,{class:"text-xs text-gray-400 mt-2"},{default:d((()=>[n("最多上传5张图片，支持jpg、png格式")])),_:1})])),_:1}),o(" 费用预览 "),y(pe)>0?(u(),f(s,{key:3,class:"bg-white mt-3 p-4"},{default:d((()=>[r(s,{class:"section-title"},{default:d((()=>[n("费用预览")])),_:1}),r(s,{class:"price-preview"},{default:d((()=>[r(s,{class:"price-item"},{default:d((()=>[r(k,{class:"text-sm text-gray-500"},{default:d((()=>[n(v("package"===Z.value?"套餐费用":"人员费用"),1)])),_:1}),r(k,{class:"text-sm"},{default:d((()=>[n("¥"+v(y(_e)),1)])),_:1})])),_:1}),"staff"===Z.value&&R.value?(u(),f(s,{key:0,class:"price-item"},{default:d((()=>[r(k,{class:"text-sm text-gray-500"},{default:d((()=>[n("套餐费用")])),_:1}),r(k,{class:"text-sm"},{default:d((()=>[n("¥"+v(R.value.price),1)])),_:1})])),_:1})):o("v-if",!0),r(s,{class:"price-item total"},{default:d((()=>[r(k,{class:"text-sm font-medium"},{default:d((()=>[n("预计费用")])),_:1}),r(k,{class:"text-lg font-bold text-primary"},{default:d((()=>[n("¥"+v(y(pe)),1)])),_:1})])),_:1})])),_:1}),r(s,{class:"tip-box mt-3"},{default:d((()=>[r(g,{type:"info",size:"14",color:"#999"}),r(k,{class:"text-xs text-gray-400 ml-1"},{default:d((()=>[n("最终费用以审核结果为准")])),_:1})])),_:1})])),_:1})):o("v-if",!0),o(" 提交按钮 "),r(s,{class:"bottom-actions"},{default:d((()=>[r(x,{class:"btn-submit",disabled:N.value||!y(me),onClick:we},{default:d((()=>[n(v(N.value?"提交中...":"提交申请"),1)])),_:1},8,["disabled"])])),_:1}),o(" 套餐选择弹窗 "),r(I,{ref_key:"packagePopup",ref:te,type:"bottom","safe-area":!1},{default:d((()=>[r(s,{class:"picker-popup"},{default:d((()=>[r(s,{class:"picker-header"},{default:d((()=>[r(k,{class:"cancel",onClick:a[6]||(a[6]=e=>{var a;return null==(a=te.value)?void 0:a.close()})},{default:d((()=>[n("取消")])),_:1}),r(k,{class:"title"},{default:d((()=>[n("选择套餐")])),_:1}),r(k,{class:"placeholder-btn"})])),_:1}),r(b,{class:"picker-list","scroll-y":""},{default:d((()=>[(u(!0),i(p,null,m(E.value,(e=>{var a;return u(),f(s,{key:e.id,class:_(["picker-item-card",{active:(null==(a=L.value)?void 0:a.id)===e.id}]),onClick:a=>(e=>{var a;L.value=e,null==(a=te.value)||a.close()})(e)},{default:d((()=>{var a;return[r(c,{src:e.image||"/static/images/default-package.png",class:"item-image",mode:"aspectFill"},null,8,["src"]),r(s,{class:"item-info"},{default:d((()=>[r(s,{class:"item-name"},{default:d((()=>[n(v(e.name),1)])),_:2},1024),r(s,{class:"item-desc"},{default:d((()=>[n(v(e.description),1)])),_:2},1024),r(s,{class:"item-price"},{default:d((()=>[n("¥"+v(e.price),1)])),_:2},1024)])),_:2},1024),(null==(a=L.value)?void 0:a.id)===e.id?(u(),f(g,{key:0,type:"checkmarkempty",size:"20",color:"#ff6b35"})):o("v-if",!0)]})),_:2},1032,["class","onClick"])})),128)),0===E.value.length?(u(),f(s,{key:0,class:"empty-tip"},{default:d((()=>[r(k,null,{default:d((()=>[n("暂无可选套餐")])),_:1})])),_:1})):o("v-if",!0)])),_:1})])),_:1})])),_:1},512),o(" 人员选择弹窗 "),r(I,{ref_key:"staffPopup",ref:se,type:"bottom","safe-area":!1},{default:d((()=>[r(s,{class:"picker-popup"},{default:d((()=>[r(s,{class:"picker-header"},{default:d((()=>[r(k,{class:"cancel",onClick:a[7]||(a[7]=e=>{var a;return null==(a=se.value)?void 0:a.close()})},{default:d((()=>[n("取消")])),_:1}),r(k,{class:"title"},{default:d((()=>[n("选择人员")])),_:1}),r(k,{class:"placeholder-btn"})])),_:1}),r(b,{class:"picker-list","scroll-y":""},{default:d((()=>[(u(!0),i(p,null,m(H.value,(e=>{var a;return u(),f(s,{key:e.id,class:_(["picker-item-card",{active:(null==(a=Q.value)?void 0:a.id)===e.id}]),onClick:a=>ye(e)},{default:d((()=>{var a;return[r(c,{src:e.avatar||"/static/images/default-avatar.png",class:"item-avatar",mode:"aspectFill"},null,8,["src"]),r(s,{class:"item-info"},{default:d((()=>[r(s,{class:"item-name"},{default:d((()=>[n(v(e.name),1)])),_:2},1024),r(s,{class:"item-desc"},{default:d((()=>[n(v(e.level_name||"普通级别"),1)])),_:2},1024),r(s,{class:"item-price"},{default:d((()=>[n("¥"+v(e.price),1)])),_:2},1024)])),_:2},1024),(null==(a=Q.value)?void 0:a.id)===e.id?(u(),f(g,{key:0,type:"checkmarkempty",size:"20",color:"#ff6b35"})):o("v-if",!0)]})),_:2},1032,["class","onClick"])})),128)),0===H.value.length?(u(),f(s,{key:0,class:"empty-tip"},{default:d((()=>[r(k,null,{default:d((()=>[n("暂无可选人员")])),_:1})])),_:1})):o("v-if",!0)])),_:1})])),_:1})])),_:1},512),o(" 人员关联套餐选择弹窗 "),r(I,{ref_key:"staffPackagePopup",ref:ce,type:"bottom","safe-area":!1},{default:d((()=>[r(s,{class:"picker-popup"},{default:d((()=>[r(s,{class:"picker-header"},{default:d((()=>[r(k,{class:"cancel",onClick:a[8]||(a[8]=e=>{var a;return null==(a=ce.value)?void 0:a.close()})},{default:d((()=>[n("取消")])),_:1}),r(k,{class:"title"},{default:d((()=>[n("选择套餐")])),_:1}),r(k,{class:"placeholder-btn"})])),_:1}),r(b,{class:"picker-list","scroll-y":""},{default:d((()=>[(u(!0),i(p,null,m(K.value,(e=>{var a;return u(),f(s,{key:e.id,class:_(["picker-item-card",{active:(null==(a=R.value)?void 0:a.id)===e.id}]),onClick:a=>(e=>{var a;R.value=e,null==(a=ce.value)||a.close()})(e)},{default:d((()=>{var a;return[r(s,{class:"item-info flex-1"},{default:d((()=>[r(s,{class:"item-name"},{default:d((()=>[n(v(e.name),1)])),_:2},1024),r(s,{class:"item-desc"},{default:d((()=>[n(v(e.description),1)])),_:2},1024),r(s,{class:"item-price"},{default:d((()=>[n("¥"+v(e.price),1)])),_:2},1024)])),_:2},1024),(null==(a=R.value)?void 0:a.id)===e.id?(u(),f(g,{key:0,type:"checkmarkempty",size:"20",color:"#ff6b35"})):o("v-if",!0)]})),_:2},1032,["class","onClick"])})),128)),0===K.value.length?(u(),f(s,{key:0,class:"empty-tip"},{default:d((()=>[r(k,null,{default:d((()=>[n("暂无可选套餐")])),_:1})])),_:1})):o("v-if",!0)])),_:1})])),_:1})])),_:1},512),o(" 日期选择器 "),r(I,{ref_key:"datePopup",ref:ue,type:"bottom","safe-area":!1},{default:d((()=>[r(s,{class:"picker-popup"},{default:d((()=>[r(s,{class:"picker-header"},{default:d((()=>[r(k,{class:"cancel",onClick:a[9]||(a[9]=e=>{var a;return null==(a=ue.value)?void 0:a.close()})},{default:d((()=>[n("取消")])),_:1}),r(k,{class:"title"},{default:d((()=>[n("选择日期")])),_:1}),r(k,{class:"confirm",onClick:he},{default:d((()=>[n("确定")])),_:1})])),_:1}),r(O,{value:re.value,onChange:ge,class:"picker-view"},{default:d((()=>[r(M,null,{default:d((()=>[(u(!0),i(p,null,m(y(fe),(e=>(u(),f(s,{key:e,class:"picker-item"},{default:d((()=>[n(v(e)+"年",1)])),_:2},1024)))),128))])),_:1}),r(M,null,{default:d((()=>[(u(!0),i(p,null,m(y(ne),(e=>(u(),f(s,{key:e,class:"picker-item"},{default:d((()=>[n(v(e)+"月",1)])),_:2},1024)))),128))])),_:1}),r(M,null,{default:d((()=>[(u(!0),i(p,null,m(y(ve),(e=>(u(),f(s,{key:e,class:"picker-item"},{default:d((()=>[n(v(e)+"日",1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},512),o(" 时间段选择器 "),r(I,{ref_key:"timePopup",ref:ie,type:"bottom","safe-area":!1},{default:d((()=>[r(s,{class:"picker-popup"},{default:d((()=>[r(s,{class:"picker-header"},{default:d((()=>[r(k,{class:"cancel",onClick:a[10]||(a[10]=e=>{var a;return null==(a=ie.value)?void 0:a.close()})},{default:d((()=>[n("取消")])),_:1}),r(k,{class:"title"},{default:d((()=>[n("选择时间段")])),_:1}),r(k,{class:"confirm",onClick:be},{default:d((()=>[n("确定")])),_:1})])),_:1}),r(s,{class:"time-options"},{default:d((()=>[(u(),i(p,null,m(le,(e=>r(s,{key:e.value,class:_(["time-option",{active:de.value===e.value}]),onClick:a=>de.value=e.value},{default:d((()=>[n(v(e.label),1)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1})])),_:1},512)])),_:1})],64)}}}),[["__scopeId","data-v-bf0ef5df"]]);export{J as default};
