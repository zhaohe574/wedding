import{aZ as e,as as l,q as a,c as t,s as o,v as s,x as r,d as n,o as u,b as c,w as i,g as d,e as p,y as h,f as v,n as f,z as m,j as y,t as B,h as C,F as b,au as x,A as g,m as k,a5 as S}from"./index-e3492752.js";import{f as _,_ as E}from"./icon.e613abcd.js";import{U as V,C as j}from"./event.5568c9d8.js";import{b as F,u as T,a as w}from"./index.f1be293a.js";import"./index.89b6df5d.js";import{d as I}from"./debounce.096fb07a.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";const A=F({modelValue:{type:String,default:""},placeholder:{type:String,default:"请输入搜索内容"},placeholderIcon:{type:String,default:"search"},shape:{type:String,values:["square","round"],default:"square"},size:_,textColor:String,placeholderColor:String,textAlign:{type:String,values:["left","center","right"],default:"left"},border:{type:Boolean,default:!0},borderColor:String,focus:Boolean,disabled:Boolean,clearable:{type:Boolean,default:!0},searchButton:{type:Boolean,default:!0},searchButtonText:{type:String,default:"搜 索"},searchButtonTextColor:String,searchButtonBgColor:String,throllte:{type:Boolean,default:!0},throllteTime:{type:Number,default:1e3}}),q=(l,a)=>{const t=o(!l.modelValue),n=o(l.modelValue);s((()=>l.modelValue),(e=>{l.modelValue!==n.value&&(n.value=e,t.value=!e)}));const u=o(!1);l.focus&&(t.value=!1,r((()=>{u.value=!0})));const c=()=>{a(V,n.value),r((()=>{a(j,n.value),a("input",n.value)}))},i=l.throllte?function(l,a,t){let o=!0,s=!0;if("function"!=typeof l)throw new TypeError("Expected a function");return e(t)&&(o="leading"in t?!!t.leading:o,s="trailing"in t?!!t.trailing:s),I(l,a,{leading:o,maxWait:a,trailing:s})}(c,l.throllteTime):c,d=I((()=>{l.disabled||a("search",n.value)}),250);return{showPlaceholder:t,inputValue:n,inputFocus:u,searchBoxClickEvent:()=>{a("click"),l.disabled||(t.value=!1,u.value=!0)},inputFocusEvent:()=>{a("focus")},inputBlurEvent:()=>{t.value=!n.value,u.value=!1,a("blur")},inputValueEvent:i,clearClickEvent:()=>{n.value="",a(V,""),r((()=>{u.value=!0,a(j,""),a("clear")}))},searchBtnClickEvent:d}},P=z(n({__name:"search-box",props:A,emits:{[V]:e=>l(e),[j]:e=>l(e),input:e=>l(e),click:()=>!0,focus:()=>!0,blur:()=>!0,search:e=>l(e),clear:()=>!0},setup(e,{emit:l}){const o=e,{showPlaceholder:s,inputValue:r,inputFocus:n,searchBoxClickEvent:_,inputFocusEvent:V,inputBlurEvent:j,inputValueEvent:F,clearClickEvent:I,searchBtnClickEvent:z}=q(o,l),{ns:A,searchBoxClass:P,searchBoxStyle:U,placeholderClass:$,placeholderStyle:N,searchButtonClass:W,searchButtonStyle:Z}=(e=>{const l=T("search-box"),[o,s]=w(a(e,"textColor"),"text"),[r,n]=w(a(e,"borderColor"),"border"),[u,c]=w(a(e,"placeholderColor"),"text"),[i,d]=w(a(e,"searchButtonTextColor"),"text"),[p,h]=w(a(e,"searchButtonBgColor"),"bg"),v=t((()=>{const a=[l.b(),l.m(e.shape),l.is("no-search-btn",!e.searchButton),l.is("disabled",e.disabled)];return e.border&&(a.push(l.m("border")),r.value&&a.push(r.value)),e.size&&a.push(l.m(e.size)),o.value&&a.push(o.value),a.join(" ")})),f=t((()=>{const l={};return o.value||(l.color=s.value||"var(--tn-text-color-primary)"),e.border&&(r.value||(l.borderColor=n.value||"var(--tn-color-gray)")),l})),m=t((()=>{const a=[l.e("placeholder"),l.em("placeholder",e.textAlign)];return u.value&&a.push(u.value),a.join(" ")})),y=t((()=>{const e={};return u.value||(e.color=c.value||"var(--tn-text-color-secondary)"),e})),B=t((()=>{const e=[l.e("search-button")];return p.value&&e.push(p.value),i.value&&e.push(i.value),e.join(" ")})),C=t((()=>{const e={};return p.value||(e.backgroundColor=h.value||"var(--tn-color-primary)"),d.value?e.color=d.value:p.value||i.value||(e.color="var(--tn-color-white)"),e}));return{ns:l,searchBoxClass:v,searchBoxStyle:f,placeholderClass:m,placeholderStyle:y,searchButtonClass:B,searchButtonStyle:C}})(o);return(e,l)=>{const a=k,t=S;return u(),c(a,{class:h([v(P)]),style:f(v(U)),onClick:g(v(_),["stop"])},{default:i((()=>[d(" 搜索框内容输入区 "),p(a,{class:h([v(A).e("content")])},{default:i((()=>[v(s)?(u(),c(a,{key:0,class:h([v($)]),style:f(v(N))},{default:i((()=>[m(e.$slots,"placeholder",{},(()=>[e.placeholderIcon?(u(),c(a,{key:0,class:h([v(A).e("placeholder-icon")])},{default:i((()=>[p(E,{name:e.placeholderIcon},null,8,["name"])])),_:1},8,["class"])):d("v-if",!0),e.placeholder?(u(),c(a,{key:1,class:h([v(A).e("placeholder-text")])},{default:i((()=>[y(B(e.placeholder),1)])),_:1},8,["class"])):d("v-if",!0)]),!0)])),_:3},8,["class","style"])):(u(),C(b,{key:1},[d(" input输入框 "),p(t,{modelValue:v(r),"onUpdate:modelValue":l[0]||(l[0]=e=>x(r)?r.value=e:null),class:h([v(A).e("input"),v(A).em("input",e.textAlign)]),focus:v(n),"confirm-type":"search",onFocus:v(V),onBlur:v(j),onInput:v(F),onConfirm:v(z)},null,8,["modelValue","class","focus","onFocus","onBlur","onInput","onConfirm"]),d(" 清除按钮 "),e.clearable&&v(r)?(u(),c(a,{key:0,class:h([v(A).e("clear-button")]),onClick:g(v(I),["stop"])},{default:i((()=>[p(E,{name:"close-fill"})])),_:1},8,["class","onClick"])):d("v-if",!0)],64))])),_:3},8,["class"]),d(" 搜索按钮 "),e.searchButton?(u(),c(a,{key:0,class:h([v(W)]),style:f(v(Z)),"hover-class":"tn-u-btn-hover","hover-stay-time":150,onClick:g(v(z),["stop"])},{default:i((()=>[m(e.$slots,"search",{},(()=>[y(B(e.searchButtonText),1)]),!0)])),_:3},8,["class","style","onClick"])):d("v-if",!0)])),_:3},8,["class","style","onClick"])}}}),[["__scopeId","data-v-d25b03d6"]]);export{P as _};
