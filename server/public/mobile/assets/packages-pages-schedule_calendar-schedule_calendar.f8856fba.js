import{a4 as e,d as a,s as l,c as t,v as s,O as u,aD as i,aq as n,o as c,h as r,e as o,w as d,g as v,b as f,j as _,t as m,f as g,n as p,F as y,i as k,y as h,k as b,r as F,a as w,G as C,l as N,m as $,bN as x,a1 as D}from"./index-e3492752.js";import{_ as j}from"./navigation-bar.2687311c.js";import{_ as S}from"./page-meta.a4be6114.js";import{_ as z}from"./icon.e613abcd.js";import{g as A,j as M}from"./schedule.38544613.js";import{a as Y}from"./cart.c9c79b39.js";import{b as I,g as O}from"./staff.2454008a.js";import{_ as T}from"./_plugin-vue_export-helper.1b428a4d.js";import"./index.f1be293a.js";async function q(a){try{const l=await function(a){return e.get("/subscribe/checkSceneSubscribe",{params:{scene:a}})}(a);return l.need_subscribe?await async function(){return{success:!1,errMsg:"当前平台不支持订阅消息"}}(l.template_id):{success:!0,templateId:l.template_id||"",errMsg:""}}catch(l){return{success:!1,errMsg:l.message||"检查订阅状态失败"}}}const B=T(a({__name:"schedule_calendar",setup(e){const a=["日","一","二","三","四","五","六"],T=e=>{const[a,l,t]=e.split("-").map((e=>Number(e)));return a&&l&&t?new Date(a,l-1,t):new Date(NaN)},B=`${(G=new Date).getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}-${String(G.getDate()).padStart(2,"0")}`;var G;const L=e=>T(e)<=T(B),V=l(0),E=l(null),H=l([]),J=l(null),K=l((new Date).getFullYear()),P=l((new Date).getMonth()+1),Q=l({}),R=l(""),U=l([]),W=l([]),X=l(!1),Z=l(!1),ee={0:"全天套餐",1:"分场次套餐"},ae={0:"全天",1:"早礼",2:"午宴",3:"晚宴"},le={0:"wea-sun",1:"sunrise",2:"wea-sun",3:"moon"},te=t((()=>H.value.find((e=>e.package_id===J.value))||null)),se=t((()=>{var e,a;return(null==(a=null==(e=te.value)?void 0:e.package)?void 0:a.name)||""})),ue=t((()=>{var e,a,l;return(null==(a=null==(e=E.value)?void 0:e.category)?void 0:a.id)||(null==(l=E.value)?void 0:l.category_id)||""})),ie=t((()=>{var e,a;return(null==(a=null==(e=E.value)?void 0:e.category)?void 0:a.name)||"同类型"})),ne=e=>Array.isArray(e)?e.map((e=>Number(e))).filter((e=>Number.isFinite(e))):[],ce=e=>{var a;if(!e)return 0;const l=e.booking_type;if(null!=l&&""!==l)return Number(l);const t=null==(a=e.package)?void 0:a.booking_type;return null!=t&&""!==t?Number(t):0},re=t((()=>te.value?ce(te.value):null)),oe=e=>{var a;if(!e)return[];if(0===ce(e))return[0];const l=ne(e.allowed_time_slots);if(l.length>0)return l;const t=ne(null==(a=e.package)?void 0:a.allowed_time_slots);return t.length>0?t:[1,2,3]},de=t((()=>{if(!te.value)return[];return oe(te.value).filter((e=>e>=1&&e<=3))})),ve=t((()=>{if(!te.value)return[];return(0===re.value?[0]:de.value.length?de.value:[1,2,3]).map((e=>({value:e,label:ae[e],icon:le[e],price:Ne(e)})))})),fe=t((()=>{var e;return R.value&&(null==(e=Q.value.days)?void 0:e[R.value])||null})),_e=t((()=>!fe.value||!!fe.value.is_available)),me=t((()=>!!R.value&&!_e.value)),ge=t((()=>!!R.value&&!_e.value&&!L(R.value))),pe=t((()=>!(!te.value||!R.value)&&(!L(R.value)&&(1!==re.value||U.value.length>0)))),ye=t((()=>te.value?0===re.value?Ne(0):0===U.value.length?0:U.value.reduce(((e,a)=>e+Ne(a)),0):0)),ke=e=>U.value.includes(e),he=e=>{const a=fe.value;return!a||!a.slot_availability||(1!==re.value||!1!==a.slot_availability[0])&&!!a.slot_availability[e]},be=e=>{const a=ce(e);return ee[a]||"未知类型"},Fe=e=>0===ce(e)?[]:oe(e).filter((e=>e>=1&&e<=3)).map((e=>ae[e])),we=e=>{var a;return null!==(null==e?void 0:e.custom_price)&&void 0!==(null==e?void 0:e.custom_price)&&""!==(null==e?void 0:e.custom_price)?Number(e.custom_price):null!==(null==e?void 0:e.price)&&void 0!==(null==e?void 0:e.price)&&""!==(null==e?void 0:e.price)?Number(e.price):Number((null==(a=null==e?void 0:e.package)?void 0:a.price)||0)},Ce=e=>{var a,l,t;return null!==(null==e?void 0:e.original_price)&&void 0!==(null==e?void 0:e.original_price)&&""!==(null==e?void 0:e.original_price)?Number(e.original_price):null!==(null==(a=null==e?void 0:e.package)?void 0:a.original_price)&&void 0!==(null==(l=null==e?void 0:e.package)?void 0:l.original_price)&&""!==(null==(t=null==e?void 0:e.package)?void 0:t.original_price)?Number(e.package.original_price):null},Ne=e=>{var a,l;const t=te.value;if(!t)return 0;const s=(Array.isArray(t.custom_slot_prices)?t.custom_slot_prices:[]).find((a=>Number(a.time_slot)===e));if(s&&void 0!==s.price)return Number(s.price)||0;if(null!==t.custom_price&&void 0!==t.custom_price&&""!==t.custom_price)return Number(t.custom_price)||0;const u=(Array.isArray(null==(a=t.package)?void 0:a.slot_prices)?t.package.slot_prices:[]).find((a=>Number(a.time_slot)===e));return u&&void 0!==u.price?Number(u.price)||0:Number((null==(l=t.package)?void 0:l.price)||t.price||0)},$e=t((()=>`${String(K.value)}-${String(P.value).padStart(2,"0")}`)),xe=t((()=>new Date(K.value,P.value-1,1).getDay())),De=t((()=>{const e=Q.value.days||{};return Object.values(e).map((e=>({...e,is_past:L(e.date),schedules:e.schedules?Object.values(e.schedules):[]})))})),je=async()=>{if(V.value)try{const e=await A((()=>{const e={staff_id:V.value,year:K.value,month:P.value};return te.value&&(e.booking_type=re.value,1===re.value&&de.value.length>0&&(e.allowed_time_slots=de.value)),1===re.value&&U.value.length>0&&(e.time_slots=U.value),e})());Q.value=e,!E.value&&e.staff&&(E.value=e.staff)}catch(e){const a="string"==typeof e?e:e.msg||e.message||"获取档期失败";i({title:a,icon:"none"})}},Se=()=>{1===P.value?(K.value--,P.value=12):P.value--,R.value="",je()},ze=()=>{12===P.value?(K.value++,P.value=1):P.value++,R.value="",je()},Ae=()=>{const e=new Date;K.value=e.getFullYear(),P.value=e.getMonth()+1,R.value="",je()},Me=e=>{const a=new Date(e.detail.value);K.value=a.getFullYear(),P.value=a.getMonth()+1,R.value="",je()},Ye=e=>{if(!e.schedules||0===e.schedules.length)return"";return{0:"unavailable",1:"available",2:"booked",3:"locked",4:"reserved"}[e.schedules[0].status]||""},Ie=()=>D().isLogin?R.value?te.value?1!==re.value||0!==U.value.length||(i({title:"请选择时间段",icon:"none"}),!1):(i({title:"请选择套餐",icon:"none"}),!1):(i({title:"请选择日期",icon:"none"}),!1):(i({title:"请先登录",icon:"none"}),setTimeout((()=>{b({url:"/pages/login/login"})}),1500),!1),Oe=async()=>{if(Ie())if(R.value&&L(R.value))i({title:"当天不支持候补",icon:"none"});else try{try{await q("waitlist_release")}catch(e){}const a={staff_id:V.value,date:R.value,package_id:J.value};1===re.value?a.time_slots=U.value:a.time_slot=U.value[0]??0,await M(a),i({title:"已加入候补",icon:"success"})}catch(e){const a="string"==typeof e?e:e.msg||e.message||"加入候补失败";i({title:a,icon:"none"})}},Te=async()=>{if(Ie())if(R.value&&L(R.value))i({title:"当天不支持预约",icon:"none"});else if(_e.value)try{const e={staff_id:V.value,date:R.value,package_id:J.value};1===re.value?e.time_slots=U.value:e.time_slot=U.value[0]??0,await Y(e),i({title:"已加入购物车",icon:"success"}),setTimeout((()=>{b({url:"/packages/pages/cart/cart"})}),1500)}catch(e){const a="string"==typeof e?e:e.msg||e.message||"加入购物车失败";i({title:a,icon:"none"})}else i({title:"该日期不可预约",icon:"none"})};return s(te,(e=>{Z.value=!0,(()=>{if(!te.value)return void(U.value=[]);if(0===re.value)return void(U.value=[0]);const e=de.value,a=U.value.filter((e=>0!==e));U.value=e.length>0?a.filter((a=>e.includes(a))):a})(),e&&je()})),s([R,_e,ue],(()=>{R.value&&!_e.value?(async()=>{if(R.value&&!_e.value&&ue.value)try{X.value=!0;const e=await O({page_no:1,page_size:6,sort:"rating",category_id:ue.value,date:R.value}),a=Array.isArray(null==e?void 0:e.lists)?e.lists:[];W.value=a.filter((e=>Number(e.id)!==Number(V.value)))}catch(e){W.value=[],console.error("获取推荐人员失败",e)}finally{X.value=!1}else W.value=[]})():W.value=[]})),s((()=>U.value),(()=>{Z.value?Z.value=!1:1===re.value&&R.value&&je()}),{deep:!0}),u((async e=>{if(V.value=parseInt(e.staff_id||"0"),!V.value)return i({title:"工作人员不存在",icon:"none"}),void setTimeout((()=>{n()}),1500);if(e.date){R.value=e.date;const a=new Date(e.date);isNaN(a.getTime())||(K.value=a.getFullYear(),P.value=a.getMonth()+1)}if(e.package_id){const a=parseInt(e.package_id||"0");a>0&&(J.value=a)}if(e.time_slots){const a=String(e.time_slots).split(",").map((e=>Number(e))).filter((e=>Number.isFinite(e)));a.length>0&&(U.value=a)}else if(e.time_slot){const a=Number(e.time_slot);Number.isFinite(a)&&(U.value=[a])}await(async()=>{try{const e=await I({id:V.value});if(E.value=e,H.value=Array.isArray(e.packages)?e.packages:[],!J.value&&H.value.length>0){const e=H.value.find((e=>1===Number(e.is_default)));J.value=(e||H.value[0]).package_id}}catch(e){const a="string"==typeof e?e:e.msg||e.message||"获取人员信息失败";i({title:a,icon:"none"})}})(),0===H.value.length&&je()})),(e,l)=>{const t=F(w("navigation-bar"),j),s=F(w("page-meta"),S),u=C,n=N,D=F(w("tn-icon"),z),A=$,M=x;return c(),r(y,null,[o(s,{"page-style":e.$theme.pageStyle},{default:d((()=>[o(t,{title:"选择档期","front-color":e.$theme.navColor,"background-color":e.$theme.navBgColor},null,8,["front-color","background-color"])])),_:1},8,["page-style"]),o(A,{class:"schedule-calendar"},{default:d((()=>[v(" 工作人员信息卡片 "),E.value?(c(),f(A,{key:0,class:"staff-card"},{default:d((()=>[o(A,{class:"staff-header"},{default:d((()=>[o(u,{src:E.value.avatar||"/static/images/default-avatar.png",class:"staff-avatar",mode:"aspectFill"},null,8,["src"]),o(A,{class:"staff-info"},{default:d((()=>[o(A,{class:"info-row"},{default:d((()=>[o(n,{class:"staff-name"},{default:d((()=>[_(m(E.value.name),1)])),_:1}),E.value.rating?(c(),f(A,{key:0,class:"staff-rating"},{default:d((()=>[o(D,{name:"star-fill",size:"24",color:"#FFD700"}),o(n,{class:"rating-text"},{default:d((()=>[_(m(E.value.rating),1)])),_:1})])),_:1})):v("v-if",!0)])),_:1}),o(A,{class:"info-row"},{default:d((()=>[o(n,{class:"staff-category"},{default:d((()=>{var e;return[_(m(null==(e=E.value.category)?void 0:e.name),1)]})),_:1}),E.value.experience_years?(c(),f(n,{key:0,class:"staff-experience"},{default:d((()=>[_(m(E.value.experience_years)+"年经验",1)])),_:1})):v("v-if",!0)])),_:1}),E.value.order_count?(c(),f(A,{key:0,class:"info-row"},{default:d((()=>[o(n,{class:"staff-orders"},{default:d((()=>[_("已服务"+m(E.value.order_count)+"单",1)])),_:1})])),_:1})):v("v-if",!0)])),_:1})])),_:1})])),_:1})):v("v-if",!0),v(" 日历选择 "),o(A,{class:"calendar-section"},{default:d((()=>[v(" 月份选择器 "),o(A,{class:"month-selector"},{default:d((()=>[o(A,{class:"selector-header"},{default:d((()=>[o(A,{class:"nav-btn",onClick:Se},{default:d((()=>[o(D,{name:"left",size:"32",color:e.$theme.primaryColor},null,8,["color"])])),_:1}),o(M,{mode:"date",value:g($e),fields:"month",onChange:Me},{default:d((()=>[o(A,{class:"month-display"},{default:d((()=>[o(n,{class:"month-text"},{default:d((()=>[_(m(K.value)+"年"+m(P.value)+"月",1)])),_:1}),o(D,{name:"down",size:"24",color:"#999999"})])),_:1})])),_:1},8,["value"]),o(A,{class:"nav-btn",onClick:ze},{default:d((()=>[o(D,{name:"right",size:"32",color:e.$theme.primaryColor},null,8,["color"])])),_:1}),o(A,{class:"today-btn",style:p({background:e.$theme.primaryColor,color:"#FFFFFF"}),onClick:Ae},{default:d((()=>[o(n,null,{default:d((()=>[_("今天")])),_:1})])),_:1},8,["style"])])),_:1})])),_:1}),v(" 日历主体 "),o(A,{class:"calendar-container"},{default:d((()=>[v(" 星期标题 "),o(A,{class:"week-header"},{default:d((()=>[(c(),r(y,null,k(a,((e,a)=>o(A,{key:e,class:h(["week-item",{"is-weekend":0===a||6===a}])},{default:d((()=>[o(n,null,{default:d((()=>[_(m(e),1)])),_:2},1024)])),_:2},1032,["class"]))),64))])),_:1}),v(" 日历网格 "),o(A,{class:"calendar-grid"},{default:d((()=>[v(" 填充空白 "),(c(!0),r(y,null,k(g(xe),(e=>(c(),f(A,{key:"empty-"+e,class:"day-cell empty"})))),128)),v(" 日期单元格 "),(c(!0),r(y,null,k(g(De),(e=>(c(),f(A,{key:e.date,class:h(["day-cell",{"is-today":e.date===g(B),"is-past":e.is_past,"is-selected":R.value===e.date,"is-disabled":!e.is_available||e.is_past,"is-lucky":e.is_lucky_day,"is-holiday":e.is_holiday}]),onClick:a=>(e=>{var a;e.is_past?i({title:(a=e.date,T(a)<T(B)?"不能选择过去日期":"当天不支持预约"),icon:"none"}):(R.value=e.date,0===re.value&&(U.value=[0]),e.is_available||i({title:"该日期不可预约，可加入候补",icon:"none"}))})(e)},{default:d((()=>[o(A,{class:"day-content"},{default:d((()=>[o(n,{class:"day-number"},{default:d((()=>[_(m(e.date.split("-")[2]),1)])),_:2},1024),e.lunar_date?(c(),f(n,{key:0,class:"lunar-text"},{default:d((()=>[_(m(e.lunar_date.slice(-2)),1)])),_:2},1024)):v("v-if",!0)])),_:2},1024),v(" 状态标识 "),e.schedules&&e.schedules.length>0?(c(),f(A,{key:0,class:"status-badge"},{default:d((()=>[o(A,{class:h(["badge-dot",Ye(e)])},null,8,["class"])])),_:2},1024)):v("v-if",!0),v(" 特殊标记 "),o(A,{class:"day-tags"},{default:d((()=>[e.is_lucky_day?(c(),f(A,{key:0,class:"tag-lucky"},{default:d((()=>[_("吉")])),_:1})):v("v-if",!0),e.is_holiday?(c(),f(A,{key:1,class:"tag-holiday"},{default:d((()=>[_("假")])),_:1})):v("v-if",!0)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),v(" 图例说明 "),o(A,{class:"legend-section"},{default:d((()=>[o(A,{class:"legend-title"},{default:d((()=>[_("图例说明")])),_:1}),o(A,{class:"legend-grid"},{default:d((()=>[o(A,{class:"legend-item"},{default:d((()=>[o(A,{class:"legend-dot available"}),o(n,{class:"legend-text"},{default:d((()=>[_("可预约")])),_:1})])),_:1}),o(A,{class:"legend-item"},{default:d((()=>[o(A,{class:"legend-dot booked"}),o(n,{class:"legend-text"},{default:d((()=>[_("已预约")])),_:1})])),_:1}),o(A,{class:"legend-item"},{default:d((()=>[o(A,{class:"legend-dot locked"}),o(n,{class:"legend-text"},{default:d((()=>[_("已锁定")])),_:1})])),_:1}),o(A,{class:"legend-item"},{default:d((()=>[o(A,{class:"legend-dot reserved"}),o(n,{class:"legend-text"},{default:d((()=>[_("预留")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),v(" 推荐人员 "),g(me)?(c(),f(A,{key:1,class:"recommend-section"},{default:d((()=>[o(A,{class:"section-header"},{default:d((()=>[o(n,{class:"section-title"},{default:d((()=>[_("同类型推荐")])),_:1}),o(n,{class:"section-hint"},{default:d((()=>[_("该日期暂无档期")])),_:1})])),_:1}),X.value?(c(),f(A,{key:0,class:"recommend-loading"},{default:d((()=>[o(n,null,{default:d((()=>[_("推荐加载中...")])),_:1})])),_:1})):W.value.length?(c(),f(A,{key:1,class:"recommend-list"},{default:d((()=>[(c(!0),r(y,null,k(W.value,(e=>(c(),f(A,{key:e.id,class:"recommend-card",onClick:a=>(e=>{if(!(null==e?void 0:e.id))return;let a=`/packages/pages/schedule_calendar/schedule_calendar?staff_id=${e.id}`;R.value&&(a+=`&date=${R.value}`),b({url:a})})(e)},{default:d((()=>[o(u,{class:"recommend-avatar",src:e.avatar||"/static/images/default-avatar.png",mode:"aspectFill"},null,8,["src"]),o(A,{class:"recommend-info"},{default:d((()=>[o(A,{class:"recommend-name-row"},{default:d((()=>[o(n,{class:"recommend-name"},{default:d((()=>[_(m(e.name),1)])),_:2},1024),e.rating?(c(),f(A,{key:0,class:"recommend-rating"},{default:d((()=>[o(D,{name:"star-fill",size:"20",color:"#FFD700"}),o(n,{class:"rating-text"},{default:d((()=>[_(m(e.rating),1)])),_:2},1024)])),_:2},1024)):v("v-if",!0)])),_:2},1024),o(A,{class:"recommend-meta"},{default:d((()=>[o(n,{class:"recommend-category"},{default:d((()=>[_(m(e.category_name||g(ie)),1)])),_:2},1024),e.experience_years?(c(),f(n,{key:0,class:"recommend-exp"},{default:d((()=>[_(m(e.experience_years)+"年经验",1)])),_:2},1024)):v("v-if",!0)])),_:2},1024),e.tags&&e.tags.length?(c(),f(A,{key:0,class:"recommend-tags"},{default:d((()=>[(c(!0),r(y,null,k(e.tags.slice(0,3),((a,l)=>(c(),f(n,{key:`${e.id}-${l}`,class:"recommend-tag"},{default:d((()=>[_(m(a),1)])),_:2},1024)))),128))])),_:2},1024)):v("v-if",!0)])),_:2},1024),o(A,{class:"recommend-action"},{default:d((()=>[o(n,{class:"action-text"},{default:d((()=>[_("去查看")])),_:1}),o(D,{name:"right",size:"18",color:"#999999"})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1})):(c(),f(A,{key:2,class:"recommend-empty"},{default:d((()=>[o(n,null,{default:d((()=>[_("暂无"+m(g(ie))+"可推荐人员",1)])),_:1})])),_:1}))])),_:1})):v("v-if",!0),v(" 套餐选择 "),R.value&&H.value.length>0?(c(),f(A,{key:2,class:"package-section"},{default:d((()=>[o(A,{class:"section-header"},{default:d((()=>[o(n,{class:"section-title"},{default:d((()=>[_("选择套餐")])),_:1}),g(se)?(c(),f(n,{key:0,class:"section-hint"},{default:d((()=>[_("当前："+m(g(se)),1)])),_:1})):v("v-if",!0)])),_:1}),o(A,{class:"package-list"},{default:d((()=>[(c(!0),r(y,null,k(H.value,(e=>(c(),f(A,{key:e.package_id,class:h(["package-card",{active:J.value===e.package_id}]),onClick:a=>(e=>{J.value=e.package_id})(e)},{default:d((()=>[o(A,{class:"package-main"},{default:d((()=>[o(A,{class:"package-info"},{default:d((()=>[o(n,{class:"package-name"},{default:d((()=>{var a;return[_(m((null==(a=e.package)?void 0:a.name)||"未命名套餐"),1)]})),_:2},1024),o(n,{class:"package-type"},{default:d((()=>[_(m(be(e)),1)])),_:2},1024)])),_:2},1024),o(A,{class:"package-price-wrapper"},{default:d((()=>[Ce(e)?(c(),f(A,{key:0,class:"original-price"},{default:d((()=>[o(n,{class:"original-price-text"},{default:d((()=>[_("¥"+m(Ce(e)),1)])),_:2},1024)])),_:2},1024)):v("v-if",!0),o(n,{class:"package-price"},{default:d((()=>[_("¥"+m(we(e)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),Fe(e).length?(c(),f(A,{key:0,class:"package-slots"},{default:d((()=>[(c(!0),r(y,null,k(Fe(e),(e=>(c(),f(A,{key:e,class:"slot-tag"},{default:d((()=>[_(m(e),1)])),_:2},1024)))),128))])),_:2},1024)):v("v-if",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})):v("v-if",!0),v(" 时间段选择 "),R.value&&g(te)?(c(),f(A,{key:3,class:"time-slot-section"},{default:d((()=>[o(A,{class:"section-header"},{default:d((()=>[o(n,{class:"section-title"},{default:d((()=>[_("选择时间段")])),_:1}),o(n,{class:"section-hint"},{default:d((()=>[_(m(R.value)+m(1===g(re)?" · 可多选":""),1)])),_:1})])),_:1}),o(A,{class:"time-slots"},{default:d((()=>[(c(!0),r(y,null,k(g(ve),(a=>(c(),f(A,{key:a.value,class:h(["slot-item",{"is-selected":ke(a.value),"is-unavailable":!he(a.value)}]),style:p(ke(a.value)?{background:e.$theme.primaryColor,borderColor:e.$theme.primaryColor}:{}),onClick:e=>(e=>{if(R.value&&L(R.value))return void i({title:"当天不支持预约",icon:"none"});if(0===re.value)return void(U.value=[e.value]);const a=U.value.slice(),l=a.indexOf(e.value);l>=0?a.splice(l,1):a.push(e.value),U.value=a})(a)},{default:d((()=>[o(D,{name:a.icon,size:"40",color:ke(a.value)?"#FFFFFF":e.$theme.primaryColor},null,8,["name","color"]),o(n,{class:"slot-label"},{default:d((()=>[_(m(a.label),1)])),_:2},1024),null!==a.price?(c(),f(n,{key:0,class:"slot-price"},{default:d((()=>[_("¥"+m(a.price),1)])),_:2},1024)):v("v-if",!0)])),_:2},1032,["class","style","onClick"])))),128))])),_:1})])),_:1})):v("v-if",!0),o(A,{class:"bottom-placeholder"}),v(" 底部操作栏 "),o(A,{class:"bottom-bar"},{default:d((()=>[o(A,{class:"price-summary"},{default:d((()=>[o(n,{class:"summary-label"},{default:d((()=>[_("合计")])),_:1}),o(A,{class:"summary-price"},{default:d((()=>[o(n,{class:"price-symbol"},{default:d((()=>[_("¥")])),_:1}),o(n,{class:"price-value"},{default:d((()=>[_(m(g(ye)),1)])),_:1})])),_:1})])),_:1}),o(A,{class:"action-buttons"},{default:d((()=>[g(ge)?(c(),f(A,{key:0,class:"btn-waitlist",onClick:Oe},{default:d((()=>[o(D,{name:"clock",size:"32",color:"#FFFFFF"}),o(n,null,{default:d((()=>[_("候补")])),_:1})])),_:1})):v("v-if",!0),o(A,{class:h(["btn-cart",{disabled:!g(pe)||!g(_e)}]),style:p({background:g(pe)&&g(_e)?`linear-gradient(135deg, ${e.$theme.primaryColor} 0%, ${e.$theme.primaryColor} 100%)`:"#CCCCCC"}),onClick:Te},{default:d((()=>[o(D,{name:"cart",size:"32",color:"#FFFFFF"}),o(n,null,{default:d((()=>[_("加入购物车")])),_:1})])),_:1},8,["class","style"])])),_:1})])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-9d133417"]]);export{B as default};
