import{_ as e}from"./page-meta.a4be6114.js";import{d as a,s as t,aR as s,M as r,c as l,O as u,o,h as i,e as n,g as m,w as d,f as p,j as c,t as _,b as f,F as g,ai as x,r as y,a as h,G as j,l as v,m as w}from"./index-e3492752.js";import{_ as b}from"./empty.46586fce.js";import{_ as k}from"./button.c1dc664f.js";import{g as O,_ as R}from"./pay.de9b74c8.js";import{_ as L}from"./_plugin-vue_export-helper.1b428a4d.js";import"./icon.e613abcd.js";import"./index.f1be293a.js";import"./index.89b6df5d.js";import"./loading.2b80eb94.js";import"./debounce.096fb07a.js";const A=L(a({__name:"payment_result",setup(a){const L=x(),A={succeed:{text:"支付成功",image:"/static/images/payment/icon_succeed.png"},waiting:{text:"等待支付",image:"/static/images/payment/icon_waiting.png"}},C=t(s.LOADING),E=t({id:"",from:""}),F=r({order:{}}),G=l((()=>{const e=!!F.pay_status;return A[e?"succeed":"waiting"]})),I=()=>{L.reLaunch("/pages/index/index")},M=()=>{if("recharge"===E.value.from)L.navigateBack()};return u((async e=>{try{if(!e.id)throw new Error("订单不存在");E.value=e,await new Promise(((e,a)=>{O({order_id:E.value.id,from:E.value.from}).then((a=>{Object.assign(F,a),e(a)})).catch((e=>{a(e)}))})),C.value=s.NORMAL}catch(a){console.log(a),C.value=s.ERROR}})),(a,t)=>{const s=y(h("page-meta"),e),r=y(h("tn-empty"),b),l=j,u=v,x=w,O=y(h("tn-button"),k),L=y(h("page-status"),R);return o(),i(g,null,[n(s,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),m(" 页面状态 "),n(L,{status:C.value},{error:d((()=>[n(r,{mode:"data",text:"订单不存在"})])),default:d((()=>[n(x,{class:"payment-result p-[20rpx]"},{default:d((()=>[n(x,{class:"result bg-white p-[20rpx] rounded-md"},{default:d((()=>[n(x,{class:"flex flex-col items-center my-[40rpx]"},{default:d((()=>[m(" 支付状态图片 "),n(l,{class:"status-image w-[200rpx] h-[200rpx]",src:p(G).image,mode:"aspectFit"},null,8,["src"]),m(" 支付状态文字 "),n(u,{class:"text-2xl font-medium mt-[20rpx]"},{default:d((()=>[c(_(p(G).text),1)])),_:1}),n(x,{class:"text-3xl font-medium mt-[20rpx]"},{default:d((()=>[c(" ¥ "+_(F.order.order_amount),1)])),_:1})])),_:1}),m(" 支付信息 "),n(x,{class:"result-info"},{default:d((()=>[n(x,{class:"result-info__item"},{default:d((()=>[n(u,null,{default:d((()=>[c("订单编号")])),_:1}),n(u,null,{default:d((()=>[c(_(F.order.order_sn),1)])),_:1})])),_:1}),n(x,{class:"result-info__item"},{default:d((()=>[n(u,null,{default:d((()=>[c("付款时间")])),_:1}),n(u,null,{default:d((()=>[c(_(F.order.pay_time),1)])),_:1})])),_:1}),n(x,{class:"result-info__item"},{default:d((()=>[n(u,null,{default:d((()=>[c("支付方式")])),_:1}),F.pay_status?(o(),f(u,{key:0},{default:d((()=>[c(_(F.order.pay_way||"-"),1)])),_:1})):(o(),f(u,{key:1},{default:d((()=>[c("未支付")])),_:1}))])),_:1})])),_:1})])),_:1}),n(x,{class:"mt-[40rpx]"},{default:d((()=>[n(x,{class:"mb-[20rpx]"},{default:d((()=>["recharge"==E.value.from?(o(),f(O,{key:0,type:"primary",shape:"round",onClick:M},{default:d((()=>[c(" 继续充值 ")])),_:1})):m("v-if",!0)])),_:1}),n(x,{class:"mb-[20rpx]"},{default:d((()=>[n(O,{type:"primary",plain:!0,shape:"round",onClick:I},{default:d((()=>[c(" 返回首页 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"])],64)}}}),[["__scopeId","data-v-b16e1bf5"]]);export{A as default};
