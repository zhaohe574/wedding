import{as as e,T as l,c as a,x as o,V as s,d as t,o as c,b as n,w as u,g as r,y as i,f as d,z as v,e as m,n as b,A as p,m as h,q as f,v as k,s as x,at as y,j as C,t as g,au as _}from"./index-e3492752.js";import{u as S,a as j,i as B,_ as V}from"./icon.e613abcd.js";import{b as z,u as w,a as T}from"./index.f1be293a.js";import{i as D}from"./is-boolean.00bf65dc.js";import{i as $}from"./is-number.7ef6fec2.js";import{U as M,C as G}from"./event.5568c9d8.js";import{u as I,a as N,b as q}from"./index.23c2867d.js";import{a as E,i as F}from"./is-empty.c0d66e4a.js";import"./index.89b6df5d.js";import{_ as O}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as U}from"./popup.b8b85cf1.js";import{Z as A}from"./z-index.5f93cfb9.js";const J=Symbol("checkboxGroupKey"),K=z({size:S,checkedShape:{type:String,values:["square","circle"]},disabled:Boolean,labelDisabled:Boolean,border:Boolean,activeColor:{type:String,default:""}}),Z=z({...K,modelValue:{type:[String,Number,Boolean],default:void 0},label:{type:[String,Number]},indeterminate:Boolean,activeValue:{type:[String,Number,Boolean],default:!0},inactiveValue:{type:[String,Number,Boolean],default:!1},customStyle:j,customClass:String,validateEvent:{type:Boolean,default:!0}}),H=e=>{const o=l(J,void 0),s=I(a((()=>E(null==e?void 0:e.size,null==o?void 0:o.size)))),t=a((()=>E(null==e?void 0:e.checkedShape,null==o?void 0:o.checkedShape,"square"))),c=N(a((()=>(null==e?void 0:e.disabled)||(null==o?void 0:o.disabled)||!1))),n=a((()=>(null==o?void 0:o.modelValue)&&(null==o?void 0:o.max)&&(null==o?void 0:o.modelValue.length)>=(null==o?void 0:o.max)&&!(null==o?void 0:o.modelValue.includes(e.label)))),u=a((()=>(null==e?void 0:e.labelDisabled)||(null==o?void 0:o.labelDisabled)||!1)),r=a((()=>(null==e?void 0:e.border)||(null==o?void 0:o.border)||!1)),i=a((()=>(null==e?void 0:e.activeColor)||(null==o?void 0:o.activeColor)));return{checkboxGroup:o,size:s,checkedShape:t,disabled:c,maxDisabled:n,labelDisabled:u,border:r,activeColor:i}},L=O(t({__name:"checkbox",props:Z,emits:{[M]:l=>e(l)||$(l)||D(l),[G]:l=>e(l)||$(l)||D(l)},setup(e){const l=e,{isGroup:t,selected:f,handleCheckboxClick:k}=(e=>{const{emit:l}=s(),{checkboxGroup:t,disabled:c,maxDisabled:n,labelDisabled:u}=H(e),{formItem:r}=q(),i=a((()=>!!t)),d=a((()=>{return i.value?(l=t.modelValue,a=e.label,l.includes(a)):e.modelValue===e.activeValue;var l,a}));return{isGroup:i,selected:d,handleCheckboxClick:a=>{var s;if(!(c.value||n.value||"label"===a&&u.value))if(i.value)t.changeEvent(e.label);else{const a=d.value?e.inactiveValue:e.activeValue;l(M,a),o((()=>{l(G,a)})),e.validateEvent&&(null==(s=null==r?void 0:r.validate)||s.call(r,"change").catch((e=>{})))}}}})(l),{ns:x,checkboxClass:y,checkboxStyle:C,checkboxCheckedBoxClass:g,checkboxCheckedBoxStyle:_}=(e=>{const l=w("checkbox"),{activeColor:o,disabled:s,maxDisabled:t,size:c,border:n,checkedShape:u}=H(e),[r,i]=T(o,"bg"),[d,v]=T(o,"text"),[m,b]=T(o,"border"),p=a((()=>a=>{const o=[l.b()];return(s.value||t.value)&&o.push(l.m("disabled")),c.value&&o.push(l.m(c.value)),a&&(o.push(l.m("selected")),d.value&&o.push(d.value)),n.value?(o.push("tn-border"),a&&m.value?o.push(m.value):o.push("tn-gray-disabled_border")):o.push(l.m("no-border")),e.customClass&&o.push(e.customClass),o.join(" ")})),h=a((()=>l=>{const a={};return l&&(n.value&&!m.value&&(a.borderColor=b.value||"var(--tn-color-primary)"),d.value||(a.color=v.value||"var(--tn-color-primary)")),B(e.customStyle)||Object.assign(a,e.customStyle),a})),f=a((()=>a=>{const o=[l.e("checked-box")];return u.value&&o.push(l.em("checked-box",u.value)),a||e.indeterminate?(o.push(l.em("checked-box","selected")),r.value&&o.push(r.value)):o.push("tn-border tn-gray-disabled_border"),o.join(" ")})),k=a((()=>l=>{const a={};return!l&&!e.indeterminate||r.value||(a.backgroundColor=i.value||"var(--tn-color-primary)"),a}));return{ns:l,checkboxClass:p,checkboxStyle:h,checkboxCheckedBoxClass:f,checkboxCheckedBoxStyle:k}})(Object.assign(l));return(e,l)=>{const a=h;return c(),n(a,{class:i([d(y)(d(f)),{[d(x).m("group")]:d(t)}]),style:b(d(C)(d(f))),onClick:l[1]||(l[1]=p((e=>d(k)("label")),["stop"]))},{default:u((()=>[r(" 左边内容 "),e.$slots.left&&!e.$slots.default?(c(),n(a,{key:0,class:i([d(x).em("content","left")])},{default:u((()=>[v(e.$slots,"left",{},void 0,!0)])),_:3},8,["class"])):r("v-if",!0),r(" 选择框 "),m(a,{class:i([d(g)(d(f)),{[d(x).em("checked-box","indeterminate")]:!d(f)&&e.indeterminate}]),style:b(d(_)(d(f))),onClick:l[0]||(l[0]=p((e=>d(k)("checkbox")),["stop"]))},{default:u((()=>[d(f)?(c(),n(V,{key:0,name:"check"})):r("v-if",!0)])),_:1},8,["class","style"]),r(" 右边内容 "),e.$slots.default?(c(),n(a,{key:1,class:i([d(x).em("content","right")])},{default:u((()=>[v(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])):r("v-if",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-6b87225c"]]),P=z({zIndex:{type:Number,default:A.modal}}),Q=O(t({__name:"modal",props:P,setup(e,{expose:l}){const{openModal:o,showModal:s,title:t,content:S,showCancel:j,cancelText:B,confirmText:V,mask:z,maskClosable:$,cancelStyle:M,confirmStyle:G,clickCancel:I,clickConfirm:N}=(()=>{const e=x(!1),l=x(""),a=x(""),o=x(!1),s=x(""),t=x({}),c=x(""),n=x({}),u=x(!0),r=x(!1),i=x(void 0),d=x(void 0),v=()=>{e.value=!1};return{openModal:e,showModal:v=>{e.value=!0,l.value=F(v.title,""),a.value=v.content,o.value=F(null==v?void 0:v.showCancel,!1),s.value=F(null==v?void 0:v.cancelText,"取 消"),t.value=F(null==v?void 0:v.cancelStyle,{}),c.value=F(null==v?void 0:v.confirmText,"确 认"),n.value=F(null==v?void 0:v.confirmStyle,{}),u.value=F(null==v?void 0:v.mask,!0),r.value=F(null==v?void 0:v.maskClosable,!1),i.value=null==v?void 0:v.cancel,d.value=null==v?void 0:v.confirm},title:l,content:a,showCancel:o,cancelText:s,cancelStyle:t,confirmText:c,confirmStyle:n,mask:u,maskClosable:r,cancelFunc:i,confirmFunc:d,clickCancel:()=>{if(!i.value)return void v();const e=i.value();[y(e),D(e)].includes(!0)?y(e)?e.then((e=>{e&&v()})).catch((e=>{console.warn(`[TnModal] some error occured: ${e}`)})):e&&v():v()},clickConfirm:()=>{if(!d.value)return void v();const e=d.value();[y(e),D(e)].includes(!0)?y(e)?e.then((e=>{e&&v()})).catch((e=>{console.warn(`[TnModal] some error occured: ${e}`)})):e&&v():v()}}})(),{ns:q,operationBtnClass:E,operationBtnStyle:O}=((e,l)=>{const o=w("modal"),[s,t,c]=T(f(e.value,"bgColor"),"bg"),[n,u,r]=T(f(e.value,"color"),"text"),[i,d,v]=T(f(l.value,"bgColor"),"bg"),[m,b,p]=T(f(l.value,"color"),"text");k((()=>l),(e=>{v(e.value.bgColor),p(e.value.color)}),{deep:!0}),k((()=>e),(e=>{c(e.value.bgColor),r(e.value.color)}),{deep:!0});const h=a((()=>e=>{const l=[o.e("operation-btn"),o.em("operation-btn",e)];return"cancel"===e&&(s.value&&l.push(s.value),n.value&&l.push(n.value)),"confirm"===e&&(i.value&&l.push(i.value),m.value&&l.push(m.value)),l.join(" ")})),x=a((()=>e=>{const l={};return"cancel"===e&&(t.value&&(l.backgroundColor=t.value),u.value?l.color=u.value:s.value||n.value||(l.color="var(--tn-color-danger)")),"confirm"===e&&(d.value&&(l.backgroundColor=d.value),b.value?l.color=b.value:i.value||m.value||(l.color="var(--tn-color-primary)")),l}));return{ns:o,operationBtnClass:h,operationBtnStyle:x}})(M,G);return l({showModal:s}),(e,l)=>{const a=h;return c(),n(U,{modelValue:d(o),"onUpdate:modelValue":l[0]||(l[0]=e=>_(o)?o.value=e:null),"open-direction":"center","bg-color":"transparent",radius:"0",width:"80%",overlay:d(z),"overlay-closeable":d($),"z-index":e.zIndex},{default:u((()=>[m(a,{class:i([d(q).b()])},{default:u((()=>[d(t)?(c(),n(a,{key:0,class:i(["tn-text-ellipsis-1",[d(q).e("title")]])},{default:u((()=>[C(g(d(t)),1)])),_:1},8,["class"])):r("v-if",!0),m(a,{class:i([d(q).e("content")])},{default:u((()=>[v(e.$slots,"default",{},(()=>[m(a,{class:i(["tn-gray_text",[d(q).em("content","text")]])},{default:u((()=>[C(g(d(S)),1)])),_:1},8,["class"])]),!0)])),_:3},8,["class"]),m(a,{class:i([d(q).e("operation")])},{default:u((()=>[d(j)?(c(),n(a,{key:0,class:i([d(E)("cancel")]),style:b(d(O)("cancel")),"hover-class":"tn-u-btn-hover","hover-stay-time":300,onClick:p(d(I),["stop"])},{default:u((()=>[C(g(d(B)),1)])),_:1},8,["class","style","onClick"])):r("v-if",!0),m(a,{class:i([d(E)("confirm")]),style:b(d(O)("confirm")),"hover-class":"tn-u-btn-hover","hover-stay-time":300,onClick:p(d(N),["stop"])},{default:u((()=>[C(g(d(V)),1)])),_:1},8,["class","style","onClick"])])),_:1},8,["class"])])),_:3},8,["class"])])),_:3},8,["modelValue","overlay","overlay-closeable","z-index"])}}}),[["__scopeId","data-v-fef86277"]]);export{L as _,Q as a};
