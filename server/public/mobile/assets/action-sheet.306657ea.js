import{M as e,c as s,s as a,at as t,V as l,d as o,o as c,b as n,w as i,e as r,y as u,f as v,g as d,z as p,j as m,t as f,h,F as x,i as y,A as b,m as k}from"./index-e3492752.js";import{b as _,u as C}from"./index.f1be293a.js";import"./index.89b6df5d.js";import{_ as j}from"./popup.b8b85cf1.js";import{Z as w}from"./z-index.5f93cfb9.js";import{i as T}from"./is-empty.c0d66e4a.js";import{i as z}from"./is-boolean.00bf65dc.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const E=_({zIndex:{type:Number,default:w.popup}}),A=g(o({__name:"action-sheet",props:E,setup(o,{expose:_}){const w=C("action-sheet"),{data:g,showTitle:E,title:A,showCancel:I,cancelText:O,overlay:P,overlayClosable:S,openPopup:$,showActionSheet:F,popupCloseEvent:J,actionClickEvent:M}=(()=>{const o=l(),{slots:c}=o,n={actions:[],title:"",cancelText:"取 消",mask:!0,maskClosable:!1,cancel:void 0,select:void 0},i=e({actions:[],title:"",cancelText:"取 消",mask:!0,cancel:void 0,select:void 0}),r=s((()=>i.actions)),u=s((()=>!!(null==c?void 0:c.title)||!!i.title)),v=s((()=>i.title)),d=s((()=>!!(null==c?void 0:c.cancel)||!!i.cancelText)),p=s((()=>i.cancelText)),m=s((()=>T(i.mask,!0))),f=s((()=>T(i.maskClosable,!1))),h=a(!1);return{data:r,showTitle:u,title:v,showCancel:d,cancelText:p,overlay:m,overlayClosable:f,openPopup:h,showActionSheet:e=>{Object.assign(i,n,e),h.value=!0},popupCloseEvent:()=>{if(!i.cancel||f.value)return void(h.value=!1);const e=i.cancel();[t(e),z(e)].includes(!0)&&(t(e)?e.then((e=>{e&&(h.value=!1)})):e&&(h.value=!1))},actionClickEvent:e=>{if(!i.select)return void(h.value=!1);const s=i.select(e,i.actions[e].value);[t(s),z(s)].includes(!0)&&(t(s)?s.then((e=>{e&&(h.value=!1)})):s&&(h.value=!1))}}})();return _({show:F}),(e,s)=>{const a=k;return c(),n(j,{"model-value":v($),"open-direction":"bottom",overlay:v(P),"z-index":e.zIndex,"bg-color":"transparent","safe-area-inset-bottom":!1,"overlay-closeable":v(S),onOverlayClick:v(J)},{default:i((()=>[r(a,{class:u(["tn-u-safe-area",[v(w).b(),v(w).is("shadow",!v(P))]])},{default:i((()=>[d(" 标题 "),v(E)?(c(),n(a,{key:0,class:u([v(w).e("title")])},{default:i((()=>[p(e.$slots,"title",{},(()=>[m(f(v(A)),1)]),!0)])),_:3},8,["class"])):d("v-if",!0),d(" 选项 "),r(a,{class:u([v(w).e("actions")])},{default:i((()=>[(c(!0),h(x,null,y(v(g),((e,s)=>(c(),n(a,{key:s,class:u([v(w).e("action")]),"hover-class":"tn-u-btn-hover","hover-stay-time":150,onClick:b((e=>v(M)(s)),["stop"])},{default:i((()=>[d(" 选项显示内容 "),r(a,{class:"text"},{default:i((()=>[m(f(e.text),1)])),_:2},1024),d(" 选项描述 "),e.desc?(c(),n(a,{key:0,class:"desc"},{default:i((()=>[m(f(e.desc),1)])),_:2},1024)):d("v-if",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["class"]),d(" 取消按钮 "),v(I)?(c(),n(a,{key:1,class:u([v(w).e("cancel")]),"hover-class":"tn-u-btn-hover","hover-stay-time":150,onClick:b(v(J),["stop"])},{default:i((()=>[p(e.$slots,"cancel",{},(()=>[m(f(v(O)),1)]),!0)])),_:3},8,["class","onClick"])):d("v-if",!0)])),_:3},8,["class"])])),_:3},8,["model-value","overlay","z-index","overlay-closeable","onOverlayClick"])}}}),[["__scopeId","data-v-0dcaf44b"]]);export{A as _};
