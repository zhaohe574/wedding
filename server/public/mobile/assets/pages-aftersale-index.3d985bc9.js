import{bd as e,s as a,v as l,af as t,ag as s,aV as o,at as i,as as n,bE as c,aD as r,c as u,aP as d,J as p,V as f,x as m,d as v,o as _,b as g,w as y,g as b,h as k,F as h,i as x,f as C,y as U,z as w,e as T,A as j,n as V,G as z,m as F,M as I,U as E,j as P,t as S,k as q,aa as B,r as A,a as M,l as N,a5 as R,b0 as H}from"./index-e3492752.js";import{_ as O}from"./icon.e613abcd.js";import{b as $,d as D,u as J}from"./index.f1be293a.js";import"./index.89b6df5d.js";import{U as L,C as G}from"./event.5568c9d8.js";import{i as K}from"./is-boolean.00bf65dc.js";import{t as Q}from"./error.a3858cc2.js";import{b as W}from"./index.23c2867d.js";import{i as X}from"./is-empty.c0d66e4a.js";import{_ as Y}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as Z}from"./button.c1dc664f.js";import{_ as ee}from"./popup.b8b85cf1.js";import{g as ae,a as le,c as te,s as se}from"./aftersale.1766d410.js";import"./_objectToString.c905654b.js";import"./install.8446dea8.js";import"./index.04c93aab.js";import"./debounce.096fb07a.js";import"./clone-deep.2124c060.js";import"./loading.2b80eb94.js";import"./z-index.5f93cfb9.js";const oe=["jpg","jpeg","png","gif","webp","ico"],ie=$({modelValue:{type:D(Array),default:()=>[]},disabled:Boolean,action:String,name:{type:String,default:"file"},header:{type:Object,default:()=>({})},formData:{type:Object,default:()=>({})},limit:{type:Number,default:9},autoUpload:{type:Boolean,default:!0},showRemove:{type:Boolean,default:!0},showErrorTips:{type:Boolean,default:!0},showUploadProgress:{type:Boolean,default:!0},sizeType:{type:D(Array),default:()=>["original","compressed"]},sourceType:{type:D(Array),default:()=>["album","camera"]},multiple:{type:Boolean,default:!0},maxSize:{type:Number,default:10485760},extensions:{type:D(Array),default:()=>oe},autoRemoveFaildFile:{type:Boolean,default:!1},customUploadHandler:{type:D(Function)},customUploadCallback:{type:D(Function)},beforeUpload:{type:D(Function)},beforeRemove:{type:D(Function)},validateEvent:{type:Boolean,default:!0}});function ne(u){const d=a(!1);l((()=>d.value),(e=>{u.showErrorTips&&(e?t({title:"上传中"}):s())}));return{chooseImage:a=>new Promise(((l,t)=>{o({count:a,sizeType:u.sizeType,sourceType:u.sourceType,success:a=>{l(e(a.tempFiles)?a.tempFiles:[a.tempFiles])},fail:e=>{t(e)}})})),uploadProcess:e=>{const{customUploadHandler:a,customUploadCallback:l}=u;return d.value?Promise.reject("有文件正在上传"):new Promise(((t,s)=>{if(a){const l=a(e.file);if(![i(l),n(l)].includes(!0))return console.error("[TnImageUpload]自定义上传处理函数必须返回Promise和String"),void s("自定义上传处理函数必须返回Promise和String");d.value=!0,e.status="uploading",i(l)?l.then((a=>{a?(e.url=a,t(!0)):t(!1)})).catch((e=>{console.error("[TnImageUpload]上传文件发生错误",e),s((null==e?void 0:e.errMsg)||"上传文件发生错误")})).finally((()=>{d.value=!1})):(l?(e.url=l,t(!0)):t(!1),d.value=!1)}else{d.value=!0,e.status="uploading";const a=c({url:u.action,filePath:e.url,name:u.name,formData:u.formData,header:u.header,success:a=>{if(l){const o=l(a);if(![i(o),n(o)].includes(!0))return console.error("[TnImageUpload]自定义上传回调函数必须返回Promise和String"),void s("自定义上传回调函数必须返回Promise和String");i(o)?o.then((a=>{a?(e.url=a,t(!0)):t(!1)})).catch((e=>{console.error("[TnImageUpload]上传文件发生错误",e),s((null==e?void 0:e.errMsg)||"上传文件发生错误")})):o?(e.url=o,t(!0)):t(!1)}else{const{statusCode:l,data:o}=a;if(![200,201,204].includes(l))return console.error("[TnImageUpload]上传文件发生错误",a),void s((null==a?void 0:a.errMsg)||"上传文件发生错误");{const l=(e=>{if("string"==typeof e)try{const a=JSON.parse(e);return!("object"!=typeof a||!a)}catch(a){return!1}return!1})(o)?JSON.parse(o):o;200===l.code&&0===l.data.errCode?(e.url=l.data.url,t(!0)):(console.error("[TnImageUpload]上传文件发生错误",a),s(X(null==l?void 0:l.message,(null==l?void 0:l.msg)||"上传文件发生错误")))}}},fail:e=>{console.error("[TnImageUpload]上传文件发生错误",e),s((null==e?void 0:e.errMsg)||"上传文件发生错误")},complete:()=>{d.value=!1,t(!0)}});e.uploadTask=a,a.onProgressUpdate((a=>{a.progress>0&&(e.progress=a.progress)}))}}))},checkFileSizeAndExtension:e=>{const{extensions:a,maxSize:l}=u,t=/.+\./;return e.filter((e=>{let s="";return s=e.name.replace(t,"").toLowerCase(),!a.some((e=>e.toLowerCase()===s))||e.size>l}))},showErrorTips:e=>{u.showErrorTips&&r({icon:"none",title:e})}}}const ce=e=>{const{emit:t}=f(),{chooseImage:s,uploadProcess:o,checkFileSizeAndExtension:n,showErrorTips:c}=ne(e),{formItem:r}=W(),v=a([]);let _=!1;l((()=>e.modelValue),(e=>{_?_=!1:v.value=e.map((e=>({url:e,status:"done",progress:100})))}),{immediate:!0});const g=u((()=>v.value.length>=e.limit)),y=u((()=>e.multiple?e.limit-v.value.length:e.limit-v.value.length>0?1:0)),b=(e,a,l=!1)=>{o(e).then((a=>{a?x(e):C(e,"上传失败")})).catch((a=>{C(e,a)})).finally((()=>{l||k(a+1)}))},k=(a,l=!1)=>{const{autoUpload:t,beforeUpload:s}=e,o=t&&!l;if(a>=v.value.length)return void(e.autoRemoveFaildFile&&U());const n=v.value[a];if(100===n.progress)return n.status="done",n.uploadTask=void 0,void(o&&k(a+1));if(!s)return void b(n,a,l);const c=s(n.file);[i(c),K(c)].includes(!0)||Q("[TnImageUpload]","beforeUpload返回值必须是Promise或者Boolean"),i(c)?c.then((e=>{e?b(n,a,l):(w(a),o&&k(a))})).catch((e=>{n.status="failed"})):c?b(n,a,l):(w(a),o&&k(a))},h=()=>{_=!0;const a=v.value.filter((e=>"done"===e.status)).map((e=>e.url));t(L,a),m((()=>{var l;t(G,a),e.validateEvent&&(null==(l=null==r?void 0:r.validate)||l.call(r,"change").catch((e=>{})))}))},x=e=>{e.status="done",e.progress=100,e.uploadTask=void 0,e.file=void 0,t("success",e),h()},C=(e,a)=>{e.status="failed",e.progress=0,e.uploadTask=void 0,e.file=void 0,c(a),t("fail",new Error(a),e)},U=()=>{[...v.value].forEach(((e,a)=>{"failed"===e.status&&w(a)}))},w=e=>{const a=v.value[e];"uploading"===a.status&&a.uploadTask&&a.progress>0&&a.progress<100&&a.uploadTask.abort(),v.value.splice(e,1),"done"===a.status&&(t("remove",a.url),h())};return{fileList:v,isExceedMaxCount:g,chooseFile:async()=>{const{disabled:a,action:l,customUploadHandler:o}=e;if(a)return;if(!l&&!o)return void c("请设置action或者自定义图片上传处理函数");const i=v.value.length;s(y.value).then((a=>{let l=a;const s=n(l);s.length&&(c("文件格式或大小不符合要求"),t("oversizeOrNoSupport",s),l=l.filter((e=>!s.includes(e)))),v.value.push(...l.map((e=>({url:e.path,status:"ready",progress:0,file:e})))),e.autoUpload&&l.length&&k(i)})).catch((e=>{c((null==e?void 0:e.errMsg)||"选择图片失败")}))},retryUploadFile:e=>{const a=v.value[e];a.status="ready",a.progress=0,k(e,!0)},retryAllUpload:()=>{const e=v.value.findIndex((e=>"failed"===e.status));k(e)},customUploadHandle:()=>{v.value.length&&k(0)},removeFileEvent:a=>{const{disabled:l,beforeRemove:t}=e;if(l)return;const s=v.value[a];s&&d({title:"操作提示",content:"确认需要移除该图片吗?",showCancel:!0,cancelText:"取 消",confirmText:"确 认",success:e=>{if(e.confirm){if(!t)return void w(a);const e=t(s);[i(e),K(e)].includes(!0)||Q("[TnImageUpload]","beforeRemove返回值必须是Promise或者Boolean"),i(e)?e.then((e=>{e&&w(a)})).catch((e=>{})):e&&w(a)}}})},clearAllFile:()=>{v.value.forEach((e=>{"uploading"===e.status&&e.uploadTask&&e.progress>0&&e.progress<100&&e.uploadTask.abort()})),v.value=[],h()},previewImage:e=>{const a=v.value.filter((e=>"done"===e.status)).map((e=>e.url));p({current:e,urls:a}),t("preview",a[e])}}},re=Y(v({__name:"image-upload",props:ie,emits:{[L]:a=>e(a),[G]:a=>e(a),oversizeOrNoSupport:e=>!0,success:e=>!0,fail:(e,a)=>!0,remove:e=>!0,preview:e=>!0},setup(e,{expose:a}){const l=e,t=J("image-upload"),s=J("image-upload-item"),{fileList:o,isExceedMaxCount:i,chooseFile:n,retryUploadFile:c,retryAllUpload:r,customUploadHandle:u,removeFileEvent:d,clearAllFile:p,previewImage:f}=ce(l);return a({chooseFile:n,upload:u,retry:r,clear:p}),(e,a)=>{const l=z,r=F;return _(),g(r,{class:U([C(t).b()])},{default:y((()=>[b(" 上传列表 "),(_(!0),k(h,null,x(C(o),((a,t)=>(_(),g(r,{key:t,class:U([C(s).b(),C(s).is("custom",!!e.$slots.uploadImage)])},{default:y((()=>[w(e.$slots,"uploadImage",{data:a},(()=>[b(" 已上传图片 "),T(r,{class:U(["tn-gray-light_bg",[C(s).e("image"),C(s).is("finish","done"===a.status)]]),onClick:j((e=>C(f)(t)),["stop"])},{default:y((()=>[T(l,{class:"image",src:a.url,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["class","onClick"]),b(" 删除按钮 "),e.showRemove&&!e.disabled?(_(),g(r,{key:0,class:U([C(s).e("remove")]),onClick:j((e=>C(d)(t)),["stop"])},{default:y((()=>[T(r,{class:U([C(s).em("remove","icon")])},{default:y((()=>[T(O,{name:"close-fill"})])),_:1},8,["class"])])),_:2},1032,["class","onClick"])):b("v-if",!0),b(" 重试蒙层 "),"failed"!==a.status||e.disabled?b("v-if",!0):(_(),g(r,{key:1,class:U([C(s).e("retry")]),onClick:j((e=>C(c)(t)),["stop"])},{default:y((()=>[T(O,{name:"refresh-simple"})])),_:2},1032,["class","onClick"])),b(" 进度波浪 "),b(" 进度0 ~ 100 => -300 ~ -400 "),e.showUploadProgress&&a.progress>0&&a.progress<100&&!e.disabled?(_(),g(r,{key:2,class:U([C(s).e("progress"),C(s).is("finish",100===a.progress)])},{default:y((()=>[T(r,{class:U([C(s).em("progress","wave")]),style:V({top:-300-a.progress+"%"})},null,8,["class","style"]),T(r,{class:U([C(s).em("progress","wave")]),style:V({top:-300-a.progress+"%"})},null,8,["class","style"])])),_:2},1032,["class"])):b("v-if",!0)]),!0)])),_:2},1032,["class"])))),128)),b(" 上传按钮 "),C(i)||e.disabled?b("v-if",!0):w(e.$slots,"uploadBtn",{key:0},(()=>[T(r,{class:U(["tn-gray-light_bg tn-gray-disabled_text",[C(s).b()]]),onClick:j(C(n),["stop"])},{default:y((()=>[T(r,{class:U([C(s).e("add-btn")])},{default:y((()=>[w(e.$slots,"addBtn",{},(()=>[T(r,{class:U([C(s).em("add-btn","icon")])},{default:y((()=>[T(O,{name:"add-fill"})])),_:1},8,["class"])]),!0)])),_:3},8,["class"])])),_:3},8,["class","onClick"])]),!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-adc03e01"]]),ue=Y(v({__name:"index",setup(e){const l=a({}),t=a([]),s=a(!1),o=a(!1),i=a(!1),n="/api/upload/image",c=[{label:"咨询",value:2},{label:"售后",value:3},{label:"建议",value:4},{label:"其他",value:5}],u=[{label:"服务态度",value:1},{label:"专业能力",value:2},{label:"迟到早退",value:3},{label:"违规行为",value:4},{label:"其他",value:5}],d=[{label:"一般",value:1},{label:"严重",value:2},{label:"紧急",value:3}],p=I({type:3,title:"",content:"",images:[]}),f=I({type:1,level:1,order_id:0,staff_id:0,title:"",content:"",images:[]}),m=a([{question:"如何申请退款？",answer:'您可以在订单详情页面点击"申请退款"按钮，填写退款原因后提交申请，我们会在1-3个工作日内处理。',expanded:!1},{question:"补拍/重拍需要额外付费吗？",answer:"如果是因为服务人员原因导致的效果不满意，我们将免费为您安排补拍。如果是个人原因，可能需要支付一定费用。",expanded:!1},{question:"投诉后多久会有回复？",answer:"我们承诺在24小时内响应您的投诉，并在3个工作日内给出处理结果。紧急投诉会优先处理。",expanded:!1},{question:"如何修改预约时间？",answer:'您可以在订单详情页面提交"改期申请"，提前3天申请可免费更改，临时更改可能需要支付差价。',expanded:!1}]),v=async()=>{try{const e=await ae();l.value=e}catch(e){console.error(e)}},C=async()=>{try{const e=await le({page:1,limit:3});t.value=e.lists||[]}catch(e){console.error(e)}},w=e=>{q({url:`/pages/aftersale/${e}`})},j=()=>{p.type=3,p.title="",p.content="",p.images=[],s.value=!0},V=()=>{f.type=1,f.level=1,f.title="",f.content="",f.images=[],o.value=!0},z=()=>{q({url:"/pages/aftersale/apply_reshoot"})},$=()=>{uni.openCustomerServiceChat?uni.openCustomerServiceChat({extInfo:{url:""},corpId:"",success:()=>{},fail:()=>{r({title:"暂无法联系客服",icon:"none"})}}):B({phoneNumber:"400-xxx-xxxx",fail:()=>{r({title:"拨打失败",icon:"none"})}})},D=async()=>{if(p.title)if(p.content){i.value=!0;try{await te(p),r({title:"提交成功",icon:"success"}),s.value=!1,v(),C()}catch(e){console.error(e)}finally{i.value=!1}}else r({title:"请输入详细描述",icon:"none"});else r({title:"请输入标题",icon:"none"})},J=async()=>{if(f.title)if(f.content){i.value=!0;try{await se(f),r({title:"投诉提交成功",icon:"success"}),o.value=!1,v()}catch(e){console.error(e)}finally{i.value=!1}}else r({title:"请输入详细描述",icon:"none"});else r({title:"请输入投诉标题",icon:"none"})};return E((()=>{v(),C()})),(e,a)=>{const r=A(M("tn-icon"),O),v=F,C=N,I=R,E=H,B=A(M("tn-image-upload"),re),L=A(M("tn-button"),Z),G=A(M("tn-popup"),ee);return _(),g(v,{class:"aftersale-container"},{default:y((()=>[b(" 统计卡片 "),T(v,{class:"stat-cards"},{default:y((()=>[T(v,{class:"stat-card",onClick:a[0]||(a[0]=e=>w("ticket"))},{default:y((()=>{var e;return[T(v,{class:"stat-icon ticket-icon"},{default:y((()=>[T(r,{name:"file-text",size:"48rpx",color:"#fff"})])),_:1}),T(v,{class:"stat-info"},{default:y((()=>[T(C,{class:"stat-value"},{default:y((()=>{var e;return[P(S((null==(e=l.value.ticket)?void 0:e.total)||0),1)]})),_:1}),T(C,{class:"stat-label"},{default:y((()=>[P("我的工单")])),_:1})])),_:1}),(null==(e=l.value.ticket)?void 0:e.pending)>0?(_(),g(v,{key:0,class:"stat-badge"},{default:y((()=>[P(S(l.value.ticket.pending),1)])),_:1})):b("v-if",!0)]})),_:1}),T(v,{class:"stat-card",onClick:a[1]||(a[1]=e=>w("complaint"))},{default:y((()=>{var e;return[T(v,{class:"stat-icon complaint-icon"},{default:y((()=>[T(r,{name:"warning",size:"48rpx",color:"#fff"})])),_:1}),T(v,{class:"stat-info"},{default:y((()=>[T(C,{class:"stat-value"},{default:y((()=>{var e;return[P(S((null==(e=l.value.complaint)?void 0:e.total)||0),1)]})),_:1}),T(C,{class:"stat-label"},{default:y((()=>[P("我的投诉")])),_:1})])),_:1}),(null==(e=l.value.complaint)?void 0:e.pending)>0?(_(),g(v,{key:0,class:"stat-badge"},{default:y((()=>[P(S(l.value.complaint.pending),1)])),_:1})):b("v-if",!0)]})),_:1}),T(v,{class:"stat-card",onClick:a[2]||(a[2]=e=>w("reshoot"))},{default:y((()=>{var e;return[T(v,{class:"stat-icon reshoot-icon"},{default:y((()=>[T(r,{name:"camera",size:"48rpx",color:"#fff"})])),_:1}),T(v,{class:"stat-info"},{default:y((()=>[T(C,{class:"stat-value"},{default:y((()=>{var e;return[P(S((null==(e=l.value.reshoot)?void 0:e.total)||0),1)]})),_:1}),T(C,{class:"stat-label"},{default:y((()=>[P("补拍申请")])),_:1})])),_:1}),(null==(e=l.value.reshoot)?void 0:e.pending)>0?(_(),g(v,{key:0,class:"stat-badge"},{default:y((()=>[P(S(l.value.reshoot.pending),1)])),_:1})):b("v-if",!0)]})),_:1}),T(v,{class:"stat-card",onClick:a[3]||(a[3]=e=>w("callback"))},{default:y((()=>{var e;return[T(v,{class:"stat-icon callback-icon"},{default:y((()=>[T(r,{name:"edit",size:"48rpx",color:"#fff"})])),_:1}),T(v,{class:"stat-info"},{default:y((()=>[T(C,{class:"stat-value"},{default:y((()=>{var e;return[P(S((null==(e=l.value.callback)?void 0:e.total)||0),1)]})),_:1}),T(C,{class:"stat-label"},{default:y((()=>[P("回访问卷")])),_:1})])),_:1}),(null==(e=l.value.callback)?void 0:e.pending)>0?(_(),g(v,{key:0,class:"stat-badge"},{default:y((()=>[P(S(l.value.callback.pending),1)])),_:1})):b("v-if",!0)]})),_:1})])),_:1}),b(" 快捷入口 "),T(v,{class:"quick-actions"},{default:y((()=>[T(v,{class:"section-title"},{default:y((()=>[P("快捷服务")])),_:1}),T(v,{class:"action-grid"},{default:y((()=>[T(v,{class:"action-item",onClick:j},{default:y((()=>[T(v,{class:"action-icon"},{default:y((()=>[T(r,{name:"add-circle",size:"56rpx",color:"#667eea"})])),_:1}),T(C,{class:"action-text"},{default:y((()=>[P("提交工单")])),_:1})])),_:1}),T(v,{class:"action-item",onClick:V},{default:y((()=>[T(v,{class:"action-icon"},{default:y((()=>[T(r,{name:"warning-circle",size:"56rpx",color:"#f5576c"})])),_:1}),T(C,{class:"action-text"},{default:y((()=>[P("我要投诉")])),_:1})])),_:1}),T(v,{class:"action-item",onClick:z},{default:y((()=>[T(v,{class:"action-icon"},{default:y((()=>[T(r,{name:"camera",size:"56rpx",color:"#4facfe"})])),_:1}),T(C,{class:"action-text"},{default:y((()=>[P("申请补拍")])),_:1})])),_:1}),T(v,{class:"action-item",onClick:$},{default:y((()=>[T(v,{class:"action-icon"},{default:y((()=>[T(r,{name:"service",size:"56rpx",color:"#43e97b"})])),_:1}),T(C,{class:"action-text"},{default:y((()=>[P("联系客服")])),_:1})])),_:1})])),_:1})])),_:1}),b(" 最近工单 "),t.value.length>0?(_(),g(v,{key:0,class:"recent-tickets"},{default:y((()=>[T(v,{class:"section-title"},{default:y((()=>[T(C,null,{default:y((()=>[P("最近工单")])),_:1}),T(C,{class:"more",onClick:a[4]||(a[4]=e=>w("ticket"))},{default:y((()=>[P("查看全部")])),_:1})])),_:1}),T(v,{class:"ticket-list"},{default:y((()=>[(_(!0),k(h,null,x(t.value,(e=>(_(),g(v,{class:"ticket-item",key:e.id,onClick:a=>(e=>{q({url:`/pages/aftersale/ticket_detail?id=${e.id}`})})(e)},{default:y((()=>[T(v,{class:"ticket-header"},{default:y((()=>{return[T(C,{class:"ticket-sn"},{default:y((()=>[P(S(e.ticket_sn),1)])),_:2},1024),T(v,{class:U(["ticket-status",(a=e.status,{0:"status-pending",1:"status-processing",2:"status-confirming",3:"status-completed",4:"status-closed"}[a]||"")])},{default:y((()=>[P(S(e.status_desc),1)])),_:2},1032,["class"])];var a})),_:2},1024),T(v,{class:"ticket-title"},{default:y((()=>[P(S(e.title),1)])),_:2},1024),T(v,{class:"ticket-footer"},{default:y((()=>[T(C,{class:"ticket-type"},{default:y((()=>[P(S(e.type_desc),1)])),_:2},1024),T(C,{class:"ticket-time"},{default:y((()=>[P(S(e.create_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):b("v-if",!0),b(" 常见问题 "),T(v,{class:"faq-section"},{default:y((()=>[T(v,{class:"section-title"},{default:y((()=>[P("常见问题")])),_:1}),T(v,{class:"faq-list"},{default:y((()=>[(_(!0),k(h,null,x(m.value,((e,a)=>(_(),g(v,{class:"faq-item",key:a,onClick:e=>(e=>{m.value[e].expanded=!m.value[e].expanded})(a)},{default:y((()=>[T(v,{class:"faq-question"},{default:y((()=>[T(C,null,{default:y((()=>[P(S(e.question),1)])),_:2},1024),T(r,{name:e.expanded?"up":"down",size:"32rpx",color:"#999"},null,8,["name"])])),_:2},1024),e.expanded?(_(),g(v,{key:0,class:"faq-answer"},{default:y((()=>[P(S(e.answer),1)])),_:2},1024)):b("v-if",!0)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),b(" 提交工单弹窗 "),T(G,{modelValue:s.value,"onUpdate:modelValue":a[9]||(a[9]=e=>s.value=e),mode:"bottom",radius:24},{default:y((()=>[T(v,{class:"popup-content"},{default:y((()=>[T(v,{class:"popup-header"},{default:y((()=>[T(C,{class:"popup-title"},{default:y((()=>[P("提交工单")])),_:1}),T(r,{name:"close",size:"40rpx",onClick:a[5]||(a[5]=e=>s.value=!1)})])),_:1}),T(v,{class:"popup-body"},{default:y((()=>[T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("工单类型")])),_:1}),T(v,{class:"type-options"},{default:y((()=>[(_(),k(h,null,x(c,(e=>T(v,{class:U(["type-option",{active:p.type===e.value}]),key:e.value,onClick:a=>p.type=e.value},{default:y((()=>[P(S(e.label),1)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("标题")])),_:1}),T(I,{class:"form-input",modelValue:p.title,"onUpdate:modelValue":a[6]||(a[6]=e=>p.title=e),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("详细描述")])),_:1}),T(E,{class:"form-textarea",modelValue:p.content,"onUpdate:modelValue":a[7]||(a[7]=e=>p.content=e),placeholder:"请详细描述您的问题"},null,8,["modelValue"])])),_:1}),T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("图片凭证")])),_:1}),T(B,{modelValue:p.images,"onUpdate:modelValue":a[8]||(a[8]=e=>p.images=e),action:n,maxCount:5},null,8,["modelValue"])])),_:1})])),_:1}),T(v,{class:"popup-footer"},{default:y((()=>[T(L,{type:"primary",size:"lg",loading:i.value,onClick:D},{default:y((()=>[P(" 提交工单 ")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),b(" 投诉弹窗 "),T(G,{modelValue:o.value,"onUpdate:modelValue":a[14]||(a[14]=e=>o.value=e),mode:"bottom",radius:24},{default:y((()=>[T(v,{class:"popup-content"},{default:y((()=>[T(v,{class:"popup-header"},{default:y((()=>[T(C,{class:"popup-title"},{default:y((()=>[P("提交投诉")])),_:1}),T(r,{name:"close",size:"40rpx",onClick:a[10]||(a[10]=e=>o.value=!1)})])),_:1}),T(v,{class:"popup-body"},{default:y((()=>[T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("投诉类型")])),_:1}),T(v,{class:"type-options"},{default:y((()=>[(_(),k(h,null,x(u,(e=>T(v,{class:U(["type-option",{active:f.type===e.value}]),key:e.value,onClick:a=>f.type=e.value},{default:y((()=>[P(S(e.label),1)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("投诉等级")])),_:1}),T(v,{class:"type-options"},{default:y((()=>[(_(),k(h,null,x(d,(e=>T(v,{class:U(["type-option",{active:f.level===e.value}]),key:e.value,onClick:a=>f.level=e.value},{default:y((()=>[P(S(e.label),1)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("投诉标题")])),_:1}),T(I,{class:"form-input",modelValue:f.title,"onUpdate:modelValue":a[11]||(a[11]=e=>f.title=e),placeholder:"请输入投诉标题"},null,8,["modelValue"])])),_:1}),T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("详细描述")])),_:1}),T(E,{class:"form-textarea",modelValue:f.content,"onUpdate:modelValue":a[12]||(a[12]=e=>f.content=e),placeholder:"请详细描述投诉内容"},null,8,["modelValue"])])),_:1}),T(v,{class:"form-item"},{default:y((()=>[T(C,{class:"form-label"},{default:y((()=>[P("图片/视频凭证")])),_:1}),T(B,{modelValue:f.images,"onUpdate:modelValue":a[13]||(a[13]=e=>f.images=e),action:n,maxCount:9},null,8,["modelValue"])])),_:1})])),_:1}),T(v,{class:"popup-footer"},{default:y((()=>[T(L,{type:"primary",size:"lg",loading:i.value,onClick:J},{default:y((()=>[P(" 提交投诉 ")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-32c97427"]]);export{ue as default};
