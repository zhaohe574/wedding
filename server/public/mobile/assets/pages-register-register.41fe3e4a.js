import{d as e,s as a,C as s,u as t,c as l,M as o,o as r,h as c,e as n,w as i,g as u,f as p,j as d,b as m,y as f,A as _,F as g,aq as v,ar as w,r as j,a as b,m as h,l as y}from"./index-e3492752.js";import{_ as x}from"./page-meta.a4be6114.js";import{_ as k}from"./icon.e613abcd.js";import{_ as V}from"./input.1776ceae.js";import{_ as C}from"./router-navigate.c1035981.js";import{_ as $,a as z}from"./modal.cf421c49.js";import{_ as U}from"./_plugin-vue_export-helper.1b428a4d.js";import"./index.f1be293a.js";import"./is-number.7ef6fec2.js";import"./_objectToString.c905654b.js";import"./event.5568c9d8.js";import"./index.23c2867d.js";import"./install.8446dea8.js";import"./is-empty.c0d66e4a.js";import"./is-boolean.00bf65dc.js";import"./index.89b6df5d.js";import"./index.04c93aab.js";import"./debounce.096fb07a.js";import"./clone-deep.2124c060.js";import"./popup.b8b85cf1.js";import"./z-index.5f93cfb9.js";const A=U(e({__name:"register",setup(e){const U=a(!1),A=s(),I=t(),S=l((()=>1==A.getLoginConfig.login_agreement)),T=o({account:"",password:"",password_confirm:""}),q=a(!1),D=l((()=>I.primaryColor)),E=l((()=>{let e=0;return T.password.length>=6&&e++,/[a-zA-Z]/.test(T.password)&&/[0-9]/.test(T.password)&&e++,e})),F=l((()=>T.account&&T.password&&T.password_confirm)),G=()=>{v()},H=()=>{v()},J=async()=>{if(!T.account)return uni.$u.toast("请输入账号");if(!T.password)return uni.$u.toast("请输入密码");if(T.password.length<6)return uni.$u.toast("密码至少6位字符");if(!T.password_confirm)return uni.$u.toast("请输入确认密码");if(!U.value&&S.value)return q.value=!0;if(T.password!=T.password_confirm)return uni.$u.toast("两次输入的密码不一致");try{await w(T),uni.$u.toast("注册成功"),setTimeout((()=>{v()}),1500)}catch(e){uni.$u.toast(e||"注册失败")}};return(e,a)=>{const s=j(b("page-meta"),x),t=h,l=j(b("tn-icon"),k),o=j(b("tn-input"),V),v=y,w=j(b("router-navigate"),C),A=j(b("tn-checkbox"),$),I=j(b("tn-modal"),z);return r(),c(g,null,[n(s,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),n(t,{class:"register-container"},{default:i((()=>[u(" 背景装饰 "),n(t,{class:"bg-decoration"},{default:i((()=>[n(t,{class:"circle circle-1"}),n(t,{class:"circle circle-2"}),n(t,{class:"circle circle-3"})])),_:1}),u(" 主内容区 "),n(t,{class:"register-content"},{default:i((()=>[u(" 头部区域 "),n(t,{class:"header-section"},{default:i((()=>[n(t,{class:"back-btn",onClick:G},{default:i((()=>[n(l,{name:"left",size:"40",color:p(D)},null,8,["color"])])),_:1}),n(t,{class:"title-text"},{default:i((()=>[d("注册新账号")])),_:1}),n(t,{class:"subtitle-text"},{default:i((()=>[d("创建您的账号开始使用")])),_:1})])),_:1}),u(" 注册表单卡片 "),n(t,{class:"form-card glass-card"},{default:i((()=>[n(t,{class:"form-title"},{default:i((()=>[d("账号信息")])),_:1}),u(" 账号输入 "),n(t,{class:"input-group"},{default:i((()=>[n(t,{class:"input-wrapper"},{default:i((()=>[n(l,{name:"user",size:"36",color:"#9ca3af",class:"input-icon"}),n(o,{class:"custom-input",modelValue:T.account,"onUpdate:modelValue":a[0]||(a[0]=e=>T.account=e),border:!1,placeholder:"请输入账号"},null,8,["modelValue"])])),_:1})])),_:1}),u(" 密码输入 "),n(t,{class:"input-group"},{default:i((()=>[n(t,{class:"input-wrapper"},{default:i((()=>[n(l,{name:"lock",size:"36",color:"#9ca3af",class:"input-icon"}),n(o,{class:"custom-input",modelValue:T.password,"onUpdate:modelValue":a[1]||(a[1]=e=>T.password=e),type:"password",border:!1,placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})])),_:1}),u(" 确认密码 "),n(t,{class:"input-group"},{default:i((()=>[n(t,{class:"input-wrapper"},{default:i((()=>[n(l,{name:"shield-check",size:"36",color:"#9ca3af",class:"input-icon"}),n(o,{class:"custom-input",modelValue:T.password_confirm,"onUpdate:modelValue":a[2]||(a[2]=e=>T.password_confirm=e),type:"password",border:!1,placeholder:"请再次输入密码"},null,8,["modelValue"])])),_:1})])),_:1}),u(" 密码强度提示 "),T.password?(r(),m(t,{key:0,class:"password-tips"},{default:i((()=>[n(t,{class:f(["tip-item",{"tip-active":p(E)>=1}])},{default:i((()=>[n(t,{class:"tip-dot"}),n(v,{class:"tip-text"},{default:i((()=>[d("至少6位字符")])),_:1})])),_:1},8,["class"]),n(t,{class:f(["tip-item",{"tip-active":p(E)>=2}])},{default:i((()=>[n(t,{class:"tip-dot"}),n(v,{class:"tip-text"},{default:i((()=>[d("包含字母和数字")])),_:1})])),_:1},8,["class"])])),_:1})):u("v-if",!0),u(" 协议勾选 "),p(S)?(r(),m(t,{key:1,class:"agreement-section"},{default:i((()=>[n(A,{modelValue:U.value,"onUpdate:modelValue":a[5]||(a[5]=e=>U.value=e),shape:"round"},{default:i((()=>[n(t,{class:"agreement-text"},{default:i((()=>[d(" 已阅读并同意 "),n(w,{class:"agreement-link","hover-class":"none",to:"/pages/agreement/agreement?type=service",onClick:a[3]||(a[3]=_((()=>{}),["stop"]))},{default:i((()=>[d(" 《服务协议》 ")])),_:1}),d(" 和 "),n(w,{class:"agreement-link","hover-class":"none",to:"/pages/agreement/agreement?type=privacy",onClick:a[4]||(a[4]=_((()=>{}),["stop"]))},{default:i((()=>[d(" 《隐私协议》 ")])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})):u("v-if",!0),u(" 注册按钮 "),n(t,{class:"register-btn-wrapper"},{default:i((()=>[n(t,{class:f(["btn-primary btn-register",{"btn-disabled":!p(F)}]),onClick:J,"hover-class":"btn-hover"},{default:i((()=>[n(v,{class:"btn-text"},{default:i((()=>[d("立即注册")])),_:1})])),_:1},8,["class"])])),_:1}),u(" 底部提示 "),n(t,{class:"bottom-tip"},{default:i((()=>[n(v,{class:"tip-text"},{default:i((()=>[d("已有账号？")])),_:1}),n(v,{class:"tip-link",onClick:H},{default:i((()=>[d("立即登录")])),_:1})])),_:1})])),_:1})])),_:1}),u(" 协议弹框 "),n(I,{modelValue:q.value,"onUpdate:modelValue":a[6]||(a[6]=e=>q.value=e),"show-cancel-button":"","show-title":!1,"confirm-color":p(D),onConfirm:a[7]||(a[7]=e=>{U.value=!0,q.value=!1}),onCancel:a[8]||(a[8]=e=>q.value=!1)},{default:i((()=>[n(t,{class:"modal-content"},{default:i((()=>[n(t,{class:"modal-title"},{default:i((()=>[d("温馨提示")])),_:1}),n(t,{class:"modal-text"},{default:i((()=>[d(" 请先阅读并同意 "),n(w,{"data-theme":"",to:"/pages/agreement/agreement?type=service"},{default:i((()=>[n(v,{class:"modal-link"},{default:i((()=>[d("《服务协议》")])),_:1})])),_:1}),d(" 和 "),n(w,{to:"/pages/agreement/agreement?type=privacy"},{default:i((()=>[n(v,{class:"modal-link"},{default:i((()=>[d("《隐私协议》")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","confirm-color"])])),_:1})],64)}}}),[["__scopeId","data-v-ec1299d3"]]);export{A as default};
