import{a0 as R,H as q,D as A,q as M,i as N,B as S}from"./element-plus-ChK2e5qA.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-T0yi5BSL.js";import{b as V,i as F}from"./index-D465kfFn.js";import{g as H,u as z,a as I}from"./consumer-BeFFkFD9.js";import{_ as K}from"./account-adjust.vue_vue_type_script_setup_true_lang-DG35Y2Dz.js";import{u as L}from"./vue-router-Cg6aTb_d.js";import{d as C,a0 as g,s as O,at as T,c as G,o as p,U as t,L as o,u as a,a as d,R as n,M as c,S as i,K as y}from"./@vue-ygbFPFRc.js";import"./@element-plus-C4Lf8veM.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@vueuse-yz9uDhpq.js";import"./nprogress-UhqZPtFR.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";import"./index-n-Jqn6Y-.js";const J={class:"bg-page flex py-5 mb-10 items-center"},Q={class:"basis-40 flex flex-col justify-center items-center"},W={class:"basis-40 flex flex-col justify-center items-center"},X={class:"mt-2 flex items-center"},Y=C({name:"consumerDetail"}),Ne=C({...Y,setup(Z){const w=L(),s=g({avatar:"",channel:"",create_time:"",login_time:"",mobile:"",nickname:"",real_name:0,sex:0,sn:"",account:"",user_money:""}),u=g({show:!1,value:""}),j=O(),E=async()=>{const l=await H({id:w.query.id});Object.keys(s).forEach(e=>{s[e]=l[e]})},v=async(l,e)=>{F(l)||(await z({id:w.query.id,field:e,value:l}),E())},D=l=>{u.show=!0,u.value=l},h=async l=>{await I({user_id:w.query.id,...l}),u.show=!1,E()};return E(),(l,e)=>{const B=R,k=q,$=M,f=N,m=S,b=V,x=U,P=A,_=T("perms");return p(),G("div",null,[t(k,{class:"!border-none",shadow:"never"},{default:o(()=>[t(B,{content:"用户详情",onBack:e[0]||(e[0]=r=>l.$router.back())})]),_:1}),t(k,{class:"mt-4 !border-none",header:"基本资料",shadow:"never"},{default:o(()=>[t(P,{ref_key:"formRef",ref:j,class:"ls-form",model:a(s),"label-width":"120px"},{default:o(()=>[d("div",J,[d("div",Q,[e[7]||(e[7]=d("div",{class:"mb-2 text-tx-regular"},"用户头像",-1)),t($,{src:a(s).avatar,size:58},null,8,["src"])]),d("div",W,[e[9]||(e[9]=d("div",{class:"text-tx-regular"},"账户余额",-1)),d("div",X,[n(" ¥"+i(a(s).user_money)+" ",1),c((p(),y(f,{type:"primary",link:"",onClick:e[1]||(e[1]=r=>D(a(s).user_money))},{default:o(()=>e[8]||(e[8]=[n(" 调整 ")])),_:1})),[[_,["user.user/adjustMoney"]]])])])]),t(m,{label:"用户昵称："},{default:o(()=>[n(i(a(s).nickname),1)]),_:1}),t(m,{label:"账号："},{default:o(()=>[n(i(a(s).account)+" ",1),c((p(),y(x,{class:"ml-[10px]",onConfirm:e[2]||(e[2]=r=>v(r,"account")),limit:32},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"真实姓名："},{default:o(()=>[n(i(a(s).real_name||"-")+" ",1),c((p(),y(x,{class:"ml-[10px]",onConfirm:e[3]||(e[3]=r=>v(r,"real_name")),limit:32},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"性别："},{default:o(()=>[n(i(a(s).sex)+" ",1),c((p(),y(x,{class:"ml-[10px]",type:"select",options:[{label:"未知",value:0},{label:"男",value:1},{label:"女",value:2}],onConfirm:e[4]||(e[4]=r=>v(r,"sex"))},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"联系电话："},{default:o(()=>[n(i(a(s).mobile||"-")+" ",1),c((p(),y(x,{class:"ml-[10px]",type:"number",onConfirm:e[5]||(e[5]=r=>v(r,"mobile"))},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"注册来源："},{default:o(()=>[n(i(a(s).channel),1)]),_:1}),t(m,{label:"注册时间："},{default:o(()=>[n(i(a(s).create_time),1)]),_:1}),t(m,{label:"最近登录时间："},{default:o(()=>[n(i(a(s).login_time),1)]),_:1})]),_:1},8,["model"])]),_:1}),t(K,{show:a(u).show,"onUpdate:show":e[6]||(e[6]=r=>a(u).show=r),value:a(u).value,onConfirm:h},null,8,["show","value"])])}}});export{Ne as default};
