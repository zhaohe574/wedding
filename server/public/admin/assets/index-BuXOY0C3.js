import{_ as I}from"./index-B-cygYOY.js";import{r as V,b as L,d as N}from"./index-D465kfFn.js";import{D as z,B as M,T as $,U as q,H as A,i as G,L as H,M as K,C as j}from"./element-plus-ChK2e5qA.js";import{d as C,a0 as J,b as O,at as P,c as _,o as i,U as e,M as x,L as o,u as m,a,R as d,K as y,T as Q,ab as W,S as X}from"./@vue-ygbFPFRc.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./@element-plus-C4Lf8veM.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";function Y(){return V.get({url:"/setting.hot_search/getConfig"})}function Z(u){return V.post({url:"/setting.hot_search/setConfig",params:u})}const tt={class:"hot-search"},et={class:"lg:flex"},ot={class:"flex-1 min-w-0"},st={class:"hot-search-phone mt-4 lg:mt-0 lg:ml-4 flex-none"},at={class:"hot-search-phone-content"},nt={class:"search-com"},lt={class:"search-con flex items-center px-[15px]"},rt={class:"hot-search-text"},it=C({name:"search"}),mt=C({...it,setup(u){const l=J({status:1,data:[]}),w=O(()=>l.data.filter(s=>s.name).sort((s,t)=>t.sort-s.sort)),f=async()=>{try{const s=await Y();for(const t in l)l[t]=s[t]}catch(s){console.log("获取=>",s)}},k=()=>{l.data.push({name:"",sort:0})},E=s=>{l.data.splice(s,1)},D=async()=>{try{await Z(l),f()}catch(s){console.log("保存=>",s)}};return f(),(s,t)=>{const h=q,U=$,B=M,S=z,g=A,p=G,v=j,c=K,T=H,R=L,F=I,b=P("perms");return i(),_("div",tt,[e(g,{class:"!border-none",shadow:"never"},{default:o(()=>[e(S,{ref:"formRef",model:m(l),"label-width":"100px"},{default:o(()=>[e(B,{label:"功能状态",style:{"margin-bottom":"0"}},{default:o(()=>[a("div",null,[e(U,{modelValue:m(l).status,"onUpdate:modelValue":t[0]||(t[0]=n=>m(l).status=n)},{default:o(()=>[e(h,{value:1},{default:o(()=>t[1]||(t[1]=[d("开启")])),_:1}),e(h,{value:0},{default:o(()=>t[2]||(t[2]=[d("关闭")])),_:1})]),_:1},8,["modelValue"]),t[3]||(t[3]=a("div",{class:"form-tips"},"默认开启，关闭则前端不显示该功能",-1))])]),_:1})]),_:1},8,["model"])]),_:1}),e(g,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[a("div",et,[a("div",ot,[e(p,{type:"primary",class:"mb-4",onClick:k},{default:o(()=>t[4]||(t[4]=[d("添加")])),_:1}),e(T,{size:"large",data:m(l).data},{default:o(()=>[e(c,{label:"关键词",prop:"describe","min-width":"160"},{default:o(({row:n})=>[e(v,{modelValue:n.name,"onUpdate:modelValue":r=>n.name=r,clearable:"",placeholder:"请输入关键字","show-word-limit":"",maxlength:"30"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"排序",prop:"describe","min-width":"160"},{default:o(({row:n})=>[e(v,{modelValue:n.sort,"onUpdate:modelValue":r=>n.sort=r,type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"操作","min-width":"80",fixed:"right"},{default:o(({$index:n})=>[x((i(),y(p,{type:"danger",link:"",onClick:r=>E(n)},{default:o(()=>t[5]||(t[5]=[d(" 删除 ")])),_:2},1032,["onClick"])),[[b,["setting:storage:edit"]]])]),_:1})]),_:1},8,["data"])]),a("div",st,[t[8]||(t[8]=a("div",{class:"mb-4 text-center"},"- 热搜预览图 -",-1)),a("div",at,[a("div",nt,[a("div",lt,[e(R,{name:"el-icon-Search",size:17}),t[6]||(t[6]=a("span",{class:"ml-[5px]"},"请输入关键词搜索",-1))])]),t[7]||(t[7]=a("div",{class:"hot-search-title"},"热门搜索",-1)),a("div",rt,[(i(!0),_(Q,null,W(m(w),(n,r)=>(i(),_("span",{key:r},X(n.name),1))),128))])])])])]),_:1}),x((i(),y(F,null,{default:o(()=>[e(p,{type:"primary",onClick:D},{default:o(()=>t[9]||(t[9]=[d("保存")])),_:1})]),_:1})),[[b,["setting.hot_search/setConfig"]]])])}}}),Gt=N(mt,[["__scopeId","data-v-2569ecde"]]);export{Gt as default};
