import{B as K,C as q,D as T,F as j,i as P}from"./element-plus-ChK2e5qA.js";import{u as C,a as M,c as b,A as k,_ as O,b as X,P as Y,d as G}from"./index-D465kfFn.js";import{d as R,b as L,c as u,o as d,a as r,T as H,ab as J,u as f,S,s as V,r as Q,a0 as W,l as Z,U as o,L as n,a9 as E,R as ee}from"./@vue-ygbFPFRc.js";import{u as oe}from"./useLockFn-CMsc1iXZ.js";import{u as te,a as se}from"./vue-router-Cg6aTb_d.js";import"./@element-plus-C4Lf8veM.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-UhqZPtFR.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";const re={class:"layout-footer"},ne={class:"text-center p-2 text-xs text-tx-secondary max-w-[900px] mx-auto"},ae=["href"],ce=R({__name:"footer",setup(U){const i=C(),m=L(()=>i.config.copyright_config||[]);return(g,x)=>(d(),u("footer",re,[r("div",ne,[(d(!0),u(H,null,J(f(m),a=>(d(),u("a",{class:"mx-1 hover:underline",href:a.value,target:"_blank",key:a.key},S(a.key),9,ae))),128))])]))}}),le={class:"login flex flex-col"},ie={class:"flex-1 flex items-center justify-center"},me={class:"login-card flex rounded-md overflow-hidden"},pe={class:"flex-1 h-full hidden md:inline-block"},ue={class:"login-form bg-body flex flex-col justify-center px-10 py-10 md:w-[400px] w-[375px] flex-none mx-auto"},de={class:"text-center text-3xl font-medium mb-8"},_e={class:"mb-5"},fe=R({__name:"login",setup(U){const i=V(),m=V(),g=C(),x=M(),a=te(),F=se(),c=Q(!1),h=L(()=>g.config),s=W({account:"",password:""}),B={account:[{required:!0,message:"请输入账号",trigger:["blur"]}],password:[{required:!0,message:"请输入密码",trigger:["blur"]}]},N=()=>{var e;if(!s.password)return(e=i.value)==null?void 0:e.focus();_()},_=async()=>{var p;await((p=m.value)==null?void 0:p.validate()),b.set(k,{remember:c.value,account:c.value?s.account:""}),await x.login(s);const{query:{redirect:e}}=a,t=typeof e=="string"?e:Y.INDEX;F.push(t)},{isLock:$,lockFn:z}=oe(_);return Z(()=>{const e=b.get(k);e!=null&&e.remember&&(c.value=e.remember,s.account=e.account)}),(e,t)=>{const p=O,v=X,y=q,w=K,A=T,D=j,I=P;return d(),u("div",le,[r("div",ie,[r("div",me,[r("div",pe,[o(p,{src:h.value.login_image,width:400,height:"100%"},null,8,["src"])]),r("div",ue,[r("div",de,S(h.value.web_name),1),o(A,{ref_key:"formRef",ref:m,model:s,size:"large",rules:B},{default:n(()=>[o(w,{prop:"account"},{default:n(()=>[o(y,{modelValue:s.account,"onUpdate:modelValue":t[0]||(t[0]=l=>s.account=l),placeholder:"请输入账号",onKeyup:E(N,["enter"])},{prepend:n(()=>[o(v,{name:"el-icon-User",size:"16"})]),_:1},8,["modelValue"])]),_:1}),o(w,{prop:"password"},{default:n(()=>[o(y,{ref_key:"passwordRef",ref:i,modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=l=>s.password=l),"show-password":"",placeholder:"请输入密码",onKeyup:E(_,["enter"])},{prepend:n(()=>[o(v,{name:"el-icon-Lock",size:"16"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),r("div",_e,[o(D,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=l=>c.value=l),label:"记住账号"},null,8,["modelValue"])]),o(I,{type:"primary",size:"large",loading:f($),onClick:f(z)},{default:n(()=>t[3]||(t[3]=[ee(" 登录 ")])),_:1},8,["loading","onClick"])])])]),o(ce)])}}}),Ge=G(fe,[["__scopeId","data-v-5f140fa2"]]);export{Ge as default};
