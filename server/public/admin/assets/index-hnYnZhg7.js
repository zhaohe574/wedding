import{D as I,B as M,C as O,J as q,K as A,i as H,H as J,L as G,M as Q,N as W,O as X}from"./element-plus-ChK2e5qA.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-CCtv5BMP.js";import{b as Z,f as ee}from"./index-D465kfFn.js";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang-BziJy74M.js";import{d as D,s as oe,r as ae,a0 as le,at as se,c as ne,o as m,U as e,K as c,P as ie,L as a,u as o,a9 as V,R as p,a as E,M as y,S as re,i as me,n as x}from"./@vue-ygbFPFRc.js";import{c as $,d as pe}from"./post-BUzrI8ed.js";import{u as de}from"./usePaging-B2jDzebD.js";import{_ as ue}from"./edit.vue_vue_type_script_setup_true_lang-DDDbLsKb.js";import"./@element-plus-C4Lf8veM.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";import"./index-n-Jqn6Y-.js";const ce={class:"post-lists"},_e={class:"flex justify-end mt-4"},fe=D({name:"post"}),et=D({...fe,setup(be){const _=oe(),f=ae(!1),s=le({code:"",name:"",status:""}),{pager:r,getLists:b,resetPage:g,resetParams:K}=de({fetchFun:$,params:s}),h=async()=>{var n;f.value=!0,await x(),(n=_.value)==null||n.open("add")},j=async n=>{var t,d;f.value=!0,await x(),(t=_.value)==null||t.open("edit"),(d=_.value)==null||d.getDetail(n)},B=async n=>{await ee.confirm("确定要删除？"),await pe({id:n}),b()};return b(),(n,t)=>{const d=O,v=M,w=A,P=q,u=H,R=te,L=I,C=J,N=Z,i=Q,S=W,T=G,U=Y,k=se("perms"),z=X;return m(),ne("div",ce,[e(C,{class:"!border-none",shadow:"never"},{default:a(()=>[e(L,{ref:"formRef",class:"mb-[-16px]",model:o(s),inline:!0},{default:a(()=>[e(v,{class:"w-[280px]",label:"岗位编码"},{default:a(()=>[e(d,{modelValue:o(s).code,"onUpdate:modelValue":t[0]||(t[0]=l=>o(s).code=l),placeholder:"请输入岗位编码",clearable:"",onKeyup:V(o(g),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(v,{class:"w-[280px]",label:"岗位名称"},{default:a(()=>[e(d,{modelValue:o(s).name,"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).name=l),clearable:"",onKeyup:V(o(g),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(v,{class:"w-[280px]",label:"岗位状态"},{default:a(()=>[e(P,{modelValue:o(s).status,"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).status=l)},{default:a(()=>[e(w,{label:"全部",value:""}),e(w,{label:"正常",value:1}),e(w,{label:"停用",value:0})]),_:1},8,["modelValue"])]),_:1}),e(v,null,{default:a(()=>[e(u,{type:"primary",onClick:o(g)},{default:a(()=>t[6]||(t[6]=[p("查询")])),_:1},8,["onClick"]),e(u,{onClick:o(K)},{default:a(()=>t[7]||(t[7]=[p("重置")])),_:1},8,["onClick"]),e(R,{class:"ml-2.5","fetch-fun":o($),params:o(s),"page-size":o(r).size},null,8,["fetch-fun","params","page-size"])]),_:1})]),_:1},8,["model"])]),_:1}),e(C,{class:"!border-none mt-4",shadow:"never"},{default:a(()=>[E("div",null,[y((m(),c(u,{type:"primary",onClick:t[3]||(t[3]=l=>h())},{icon:a(()=>[e(N,{name:"el-icon-Plus"})]),default:a(()=>[t[8]||(t[8]=p(" 新增 "))]),_:1})),[[k,["dept.jobs/add"]]])]),y((m(),c(T,{class:"mt-4",size:"large",data:o(r).lists},{default:a(()=>[e(i,{label:"岗位编码",prop:"code","min-width":"100"}),e(i,{label:"岗位名称",prop:"name","min-width":"100"}),e(i,{label:"排序",prop:"sort","min-width":"100"}),e(i,{label:"备注",prop:"remark","min-width":"100","show-overflow-tooltip":""}),e(i,{label:"添加时间",prop:"create_time","min-width":"180"}),e(i,{label:"状态",prop:"status","min-width":"100"},{default:a(({row:l})=>[e(S,{class:"ml-2",type:l.status?"primary":"danger"},{default:a(()=>[p(re(l.status_desc),1)]),_:2},1032,["type"])]),_:1}),e(i,{label:"操作",width:"120",fixed:"right"},{default:a(({row:l})=>[y((m(),c(u,{type:"primary",link:"",onClick:F=>j(l)},{default:a(()=>t[9]||(t[9]=[p(" 编辑 ")])),_:2},1032,["onClick"])),[[k,["dept.jobs/edit"]]]),y((m(),c(u,{type:"danger",link:"",onClick:F=>B(l.id)},{default:a(()=>t[10]||(t[10]=[p(" 删除 ")])),_:2},1032,["onClick"])),[[k,["dept.jobs/delete"]]])]),_:1})]),_:1},8,["data"])),[[z,o(r).loading]]),E("div",_e,[e(U,{modelValue:o(r),"onUpdate:modelValue":t[4]||(t[4]=l=>me(r)?r.value=l:null),onChange:o(b)},null,8,["modelValue","onChange"])])]),_:1}),o(f)?(m(),c(ue,{key:0,ref_key:"editRef",ref:_,onSuccess:o(b),onClose:t[5]||(t[5]=l=>f.value=!1)},null,8,["onSuccess"])):ie("",!0)])}}});export{et as default};
