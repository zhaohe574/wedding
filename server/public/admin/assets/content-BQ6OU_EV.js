import{b as _,d as w}from"./index-D465kfFn.js";import y from"./decoration-img-BIfH34zk.js";import{g as b}from"./decoration-gfwwbLJf.js";import{d as k,r as A,w as C,b as D,c as o,o as i,P as r,a as s,S as n,U as u,T as h,ab as g}from"./@vue-ygbFPFRc.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./element-plus-ChK2e5qA.js";import"./@element-plus-C4Lf8veM.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";import"./decoration-img.vue_vue_type_style_index_0_scoped_2e762fcb_lang-CPJCPwt5.js";const j={class:"activity-zone mx-[10px] mt-[10px]"},E={key:0,class:"flex items-center justify-between mb-[16px]"},F={class:"flex items-center"},z={class:"text-[17px] font-semibold",style:{color:"#4C1D95"}},B={key:0,class:"flex items-center text-[13px] cursor-pointer hover:opacity-80 transition-opacity duration-200",style:{color:"#7C3AED"}},L={key:1,class:"activity-banner space-y-[12px]"},N={class:"absolute inset-0 flex flex-col justify-end p-[16px]",style:{background:"linear-gradient(180deg, transparent 0%, transparent 50%, rgba(0,0,0,0.4) 75%, rgba(0,0,0,0.8) 100%)"}},S={key:0,class:"absolute top-[12px] left-[12px] px-[10px] py-[4px] rounded-full text-white text-[11px] font-medium",style:{background:"#F97316","box-shadow":"0 2px 6px rgba(249, 115, 22, 0.4)"}},V={class:"text-white text-[17px] font-bold mb-[6px] line-clamp-1"},I={key:1,class:"text-white/90 text-[13px] mb-[10px] line-clamp-1"},O={class:"flex items-center justify-between"},T={key:0,class:"flex items-baseline"},q={class:"text-[20px] font-bold text-white"},P={key:2,class:"activity-grid grid grid-cols-2 gap-[12px]"},R={class:"relative overflow-hidden"},U={key:0,class:"absolute top-[8px] left-[8px] px-[8px] py-[3px] rounded-full text-white text-[11px] font-medium",style:{background:"#F97316","box-shadow":"0 1px 4px rgba(249, 115, 22, 0.3)"}},$={class:"p-[10px]"},G={class:"text-[14px] font-semibold line-clamp-1 mb-[6px]",style:{color:"#4C1D95"}},H={key:0,class:"flex items-baseline"},J={class:"text-[15px] font-bold",style:{color:"#7C3AED"}},K={key:3,class:"activity-scroll flex gap-[12px] overflow-x-auto pb-2 -mx-[10px] px-[10px]"},M={class:"absolute inset-0 flex flex-col justify-end p-[14px]",style:{background:"linear-gradient(180deg, transparent 0%, transparent 50%, rgba(0,0,0,0.4) 75%, rgba(0,0,0,0.8) 100%)"}},Q={key:0,class:"absolute top-[10px] left-[10px] px-[8px] py-[3px] rounded-full text-white text-[11px] font-medium",style:{background:"#F97316","box-shadow":"0 2px 6px rgba(249, 115, 22, 0.4)"}},W={class:"text-white text-[15px] font-bold line-clamp-1 mb-[6px]"},X={class:"flex items-center justify-between"},Y={key:0,class:"flex items-baseline"},Z={class:"text-[17px] font-bold text-white"},tt={key:4,class:"activity-list space-y-[12px]"},et={class:"flex"},st={class:"relative flex-shrink-0 overflow-hidden"},ot={key:0,class:"absolute top-[8px] left-[8px] px-[8px] py-[3px] rounded-full text-white text-[11px] font-medium",style:{background:"#F97316","box-shadow":"0 1px 4px rgba(249, 115, 22, 0.3)"}},it={class:"flex-1 p-[12px] flex flex-col justify-between"},rt={class:"text-[14px] font-semibold line-clamp-1 mb-[4px]",style:{color:"#4C1D95"}},nt={key:0,class:"text-[12px] line-clamp-2",style:{color:"#9CA3AF"}},at={class:"flex items-center justify-between mt-[8px]"},lt={key:0,class:"flex items-baseline"},ct={class:"text-[17px] font-bold",style:{color:"#7C3AED"}},pt=k({__name:"content",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(c){const p=c,d=A([]),v=async()=>{var x;try{const t=p.content.data_source||"auto";if(t==="auto"){const l=await b({limit:p.content.show_count||10});d.value=l.data||[]}else if(t==="manual"&&((x=p.content.activity_ids)!=null&&x.length)){const e=(await b({limit:100})).data||[];d.value=p.content.activity_ids.map(a=>e.find(m=>m.id===a)).filter(Boolean)}else d.value=[]}catch(t){console.error("加载活动数据失败:",t),d.value=[]}};C(()=>[p.content.data_source,p.content.activity_ids,p.content.show_count],()=>{v()},{immediate:!0,deep:!0});const f=D(()=>{const x=p.content.show_count||d.value.length;return d.value.slice(0,x).map(t=>{let l="";if(t.tags_arr&&t.tags_arr.length>0)l=t.tags_arr[0];else if(t.tags)if(typeof t.tags=="string"){const e=t.tags.trim();if(e){const a=e.split(",").filter(m=>m.trim());l=a.length>0?a[0].trim():e}}else Array.isArray(t.tags)&&t.tags.length>0&&(l=t.tags[0]);return{image:t.cover_image||"",title:t.title||"",desc:t.content_preview||"",tag:l,price:"",original_price:"",is_show:"1",link:{path:"/pages/dynamic/detail",query:{id:t.id},name:"活动详情"}}})});return(x,t)=>{const l=_;return i(),o("div",j,[c.content.title?(i(),o("div",E,[s("div",F,[t[0]||(t[0]=s("div",{class:"w-[4px] h-[20px] rounded-full mr-[10px]",style:{background:"linear-gradient(180deg, #7C3AED 0%, #A78BFA 100%)"}},null,-1)),s("span",z,n(c.content.title),1)]),c.content.show_more?(i(),o("div",B,[t[1]||(t[1]=s("span",null,"更多活动",-1)),u(l,{name:"el-icon-ArrowRight",size:14,class:"ml-1"})])):r("",!0)])):r("",!0),c.content.style==1?(i(),o("div",L,[(i(!0),o(h,null,g(f.value,(e,a)=>(i(),o("div",{key:a,class:"activity-item relative rounded-[16px] overflow-hidden cursor-pointer group",style:{"box-shadow":"0 4px 12px rgba(124, 58, 237, 0.08)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},[u(y,{width:"100%",height:"180px",src:e.image,fit:"cover",class:"group-hover:scale-105 transition-transform duration-500"},null,8,["src"]),s("div",N,[e.tag?(i(),o("span",S,n(e.tag),1)):r("",!0),s("h3",V,n(e.title),1),e.desc?(i(),o("p",I,n(e.desc),1)):r("",!0),s("div",O,[e.price?(i(),o("div",T,[t[2]||(t[2]=s("span",{class:"text-[12px] text-white/80"},"¥",-1)),s("span",q,n(e.price),1)])):r("",!0),t[3]||(t[3]=s("div",{class:"cta-button px-[16px] py-[8px] rounded-full text-[12px] font-semibold transition-all duration-200",style:{background:"white",color:"#7C3AED"}}," 立即参与 ",-1))])])]))),128))])):r("",!0),c.content.style==2?(i(),o("div",P,[(i(!0),o(h,null,g(f.value,(e,a)=>(i(),o("div",{key:a,class:"activity-item bg-white rounded-[16px] overflow-hidden cursor-pointer group",style:{"box-shadow":"0 2px 8px rgba(124, 58, 237, 0.06)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},[s("div",R,[u(y,{width:"100%",height:"140px",src:e.image,fit:"cover",class:"group-hover:scale-110 transition-transform duration-500"},null,8,["src"]),e.tag?(i(),o("span",U,n(e.tag),1)):r("",!0)]),s("div",$,[s("h4",G,n(e.title),1),e.price?(i(),o("div",H,[t[4]||(t[4]=s("span",{class:"text-[11px]",style:{color:"#7C3AED"}},"¥",-1)),s("span",J,n(e.price),1)])):r("",!0)])]))),128))])):r("",!0),c.content.style==3?(i(),o("div",K,[(i(!0),o(h,null,g(f.value,(e,a)=>(i(),o("div",{key:a,class:"activity-item relative rounded-[16px] overflow-hidden flex-shrink-0 cursor-pointer group",style:{width:"300px","box-shadow":"0 4px 12px rgba(124, 58, 237, 0.08)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},[u(y,{width:"300px",height:"160px",src:e.image,fit:"cover",class:"group-hover:scale-105 transition-transform duration-500"},null,8,["src"]),s("div",M,[e.tag?(i(),o("span",Q,n(e.tag),1)):r("",!0),s("h4",W,n(e.title),1),s("div",X,[e.price?(i(),o("div",Y,[t[5]||(t[5]=s("span",{class:"text-[11px] text-white/80"},"¥",-1)),s("span",Z,n(e.price),1)])):r("",!0),t[6]||(t[6]=s("div",{class:"px-[12px] py-[5px] rounded-full text-white text-[11px] font-medium",style:{background:"rgba(255, 255, 255, 0.25)","backdrop-filter":"blur(5px)"}}," 查看详情 ",-1))])])]))),128))])):r("",!0),c.content.style==4?(i(),o("div",tt,[(i(!0),o(h,null,g(f.value,(e,a)=>(i(),o("div",{key:a,class:"activity-item bg-white rounded-[16px] overflow-hidden cursor-pointer group",style:{"box-shadow":"0 2px 8px rgba(124, 58, 237, 0.06)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},[s("div",et,[s("div",st,[u(y,{width:"140px",height:"100px",src:e.image,fit:"cover",class:"group-hover:scale-110 transition-transform duration-500"},null,8,["src"]),e.tag?(i(),o("span",ot,n(e.tag),1)):r("",!0)]),s("div",it,[s("div",null,[s("h4",rt,n(e.title),1),e.desc?(i(),o("p",nt,n(e.desc),1)):r("",!0)]),s("div",at,[e.price?(i(),o("div",lt,[t[7]||(t[7]=s("span",{class:"text-[11px]",style:{color:"#7C3AED"}},"¥",-1)),s("span",ct,n(e.price),1)])):r("",!0),t[8]||(t[8]=s("div",{class:"cta-button px-[12px] py-[5px] rounded-full text-white text-[11px] font-medium transition-colors duration-200",style:{background:"#7C3AED"}}," 立即参与 ",-1))])])])]))),128))])):r("",!0)])}}}),Ht=w(pt,[["__scopeId","data-v-6864d39b"]]);export{Ht as default};
