import{D as G,B as Q,C as X,J as Y,K as Z,i as h,H as ee,L as le,M as te,N as ae,g as oe,O as ne,P as de,R as ie,E as f,a as I}from"./element-plus-ChK2e5qA.js";import{l as se,m as ue,n as re,o as pe,p as me,q as ve,s as fe}from"./review-BZd6SHk0.js";import{d as be,r as g,a0 as S,l as _e,c as ge,o as W,U as e,L as t,R as s,M as we,a as Ve,K as ce,S as $}from"./@vue-ygbFPFRc.js";import{d as ye}from"./index-D465kfFn.js";import"./@element-plus-C4Lf8veM.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";const Ce={class:"sensitive-word-container"},xe={class:"pagination-wrap"},Se=be({__name:"index",setup(ke){const C=g(!1),k=g([]),E=g(0),V=g([]),b=g(!1),w=g(!1),d=S({page:1,limit:20,word:"",type:void 0,level:void 0}),n=S({id:0,word:"",replace_word:"***",type:5,level:1,status:1}),u=S({content:"",type:5,level:1}),m=async()=>{C.value=!0;try{const i=await se(d);k.value=i.lists||[],E.value=i.count||0}finally{C.value=!1}},z=()=>{d.page=1,m()},L=()=>{Object.assign(d,{page:1,word:"",type:void 0,level:void 0}),m()},M=i=>{V.value=i.map(l=>l.id)},O=()=>{Object.assign(n,{id:0,word:"",replace_word:"***",type:5,level:1,status:1}),b.value=!0},N=i=>{Object.assign(n,i),b.value=!0},P=async()=>{if(!n.word){f.warning("请输入敏感词");return}n.id?await ue(n):await re(n),f.success("操作成功"),b.value=!1,m()},R=async i=>{await I.confirm("确定删除该敏感词吗？","提示"),await pe({id:i.id}),f.success("删除成功"),m()},T=async()=>{await I.confirm(`确定删除选中的 ${V.value.length} 个敏感词吗？`,"提示"),await me({ids:V.value}),f.success("删除成功"),m()},j=async i=>{await ve({id:i.id}),f.success("操作成功")},q=()=>{u.content="",u.type=5,u.level=1,w.value=!0},F=async()=>{if(!u.content){f.warning("请输入敏感词");return}const i=await fe(u);f.success(i.msg||"导入成功"),w.value=!1,m()};return _e(()=>{m()}),(i,l)=>{const c=X,r=Q,o=Z,_=Y,p=h,x=G,U=ee,v=te,D=ae,K=oe,A=le,H=de,B=ie,J=ne;return W(),ge("div",Ce,[e(U,{shadow:"never",class:"mb-4"},{default:t(()=>[e(x,{model:d,inline:""},{default:t(()=>[e(r,{label:"敏感词"},{default:t(()=>[e(c,{modelValue:d.word,"onUpdate:modelValue":l[0]||(l[0]=a=>d.word=a),placeholder:"请输入",clearable:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(r,{label:"类型"},{default:t(()=>[e(_,{modelValue:d.type,"onUpdate:modelValue":l[1]||(l[1]=a=>d.type=a),placeholder:"请选择",clearable:"",style:{width:"120px"}},{default:t(()=>[e(o,{label:"广告",value:1}),e(o,{label:"违法",value:2}),e(o,{label:"政治",value:3}),e(o,{label:"色情",value:4}),e(o,{label:"其他",value:5})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"级别"},{default:t(()=>[e(_,{modelValue:d.level,"onUpdate:modelValue":l[2]||(l[2]=a=>d.level=a),placeholder:"请选择",clearable:"",style:{width:"120px"}},{default:t(()=>[e(o,{label:"警告",value:1}),e(o,{label:"禁止",value:2})]),_:1},8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(p,{type:"primary",onClick:z},{default:t(()=>l[16]||(l[16]=[s("搜索")])),_:1}),e(p,{onClick:L},{default:t(()=>l[17]||(l[17]=[s("重置")])),_:1}),e(p,{type:"success",onClick:O},{default:t(()=>l[18]||(l[18]=[s("添加")])),_:1}),e(p,{type:"warning",onClick:q},{default:t(()=>l[19]||(l[19]=[s("批量导入")])),_:1}),e(p,{type:"danger",disabled:!V.value.length,onClick:T},{default:t(()=>l[20]||(l[20]=[s(" 批量删除 ")])),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])]),_:1}),e(U,{shadow:"never"},{default:t(()=>[we((W(),ce(A,{data:k.value,onSelectionChange:M},{default:t(()=>[e(v,{type:"selection",width:"50"}),e(v,{label:"ID",width:"80",prop:"id"}),e(v,{label:"敏感词","min-width":"150",prop:"word"}),e(v,{label:"替换词",width:"120",prop:"replace_word"}),e(v,{label:"类型",width:"100"},{default:t(({row:a})=>[e(D,null,{default:t(()=>[s($(a.type_text),1)]),_:2},1024)]),_:1}),e(v,{label:"级别",width:"100"},{default:t(({row:a})=>[e(D,{type:a.level===2?"danger":"warning"},{default:t(()=>[s($(a.level_text),1)]),_:2},1032,["type"])]),_:1}),e(v,{label:"状态",width:"100"},{default:t(({row:a})=>[e(K,{modelValue:a.status,"onUpdate:modelValue":y=>a.status=y,"active-value":1,"inactive-value":0,onChange:y=>j(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(v,{label:"操作",width:"150"},{default:t(({row:a})=>[e(p,{link:"",type:"primary",onClick:y=>N(a)},{default:t(()=>l[21]||(l[21]=[s("编辑")])),_:2},1032,["onClick"]),e(p,{link:"",type:"danger",onClick:y=>R(a)},{default:t(()=>l[22]||(l[22]=[s("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[J,C.value]]),Ve("div",xe,[e(H,{"current-page":d.page,"onUpdate:currentPage":l[3]||(l[3]=a=>d.page=a),"page-size":d.limit,"onUpdate:pageSize":l[4]||(l[4]=a=>d.limit=a),total:E.value,layout:"total, sizes, prev, pager, next",onSizeChange:m,onCurrentChange:m},null,8,["current-page","page-size","total"])])]),_:1}),e(B,{modelValue:b.value,"onUpdate:modelValue":l[10]||(l[10]=a=>b.value=a),title:n.id?"编辑敏感词":"添加敏感词",width:"500px"},{footer:t(()=>[e(p,{onClick:l[9]||(l[9]=a=>b.value=!1)},{default:t(()=>l[23]||(l[23]=[s("取消")])),_:1}),e(p,{type:"primary",onClick:P},{default:t(()=>l[24]||(l[24]=[s("确定")])),_:1})]),default:t(()=>[e(x,{model:n,"label-width":"80px",ref:"formRef"},{default:t(()=>[e(r,{label:"敏感词",required:""},{default:t(()=>[e(c,{modelValue:n.word,"onUpdate:modelValue":l[5]||(l[5]=a=>n.word=a),placeholder:"请输入敏感词"},null,8,["modelValue"])]),_:1}),e(r,{label:"替换词"},{default:t(()=>[e(c,{modelValue:n.replace_word,"onUpdate:modelValue":l[6]||(l[6]=a=>n.replace_word=a),placeholder:"默认为***"},null,8,["modelValue"])]),_:1}),e(r,{label:"类型"},{default:t(()=>[e(_,{modelValue:n.type,"onUpdate:modelValue":l[7]||(l[7]=a=>n.type=a)},{default:t(()=>[e(o,{label:"广告",value:1}),e(o,{label:"违法",value:2}),e(o,{label:"政治",value:3}),e(o,{label:"色情",value:4}),e(o,{label:"其他",value:5})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"级别"},{default:t(()=>[e(_,{modelValue:n.level,"onUpdate:modelValue":l[8]||(l[8]=a=>n.level=a)},{default:t(()=>[e(o,{label:"警告",value:1}),e(o,{label:"禁止",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(B,{modelValue:w.value,"onUpdate:modelValue":l[15]||(l[15]=a=>w.value=a),title:"批量导入敏感词",width:"500px"},{footer:t(()=>[e(p,{onClick:l[14]||(l[14]=a=>w.value=!1)},{default:t(()=>l[25]||(l[25]=[s("取消")])),_:1}),e(p,{type:"primary",onClick:F},{default:t(()=>l[26]||(l[26]=[s("导入")])),_:1})]),default:t(()=>[e(x,{model:u,"label-width":"80px"},{default:t(()=>[e(r,{label:"敏感词"},{default:t(()=>[e(c,{modelValue:u.content,"onUpdate:modelValue":l[11]||(l[11]=a=>u.content=a),type:"textarea",rows:8,placeholder:"每行一个敏感词"},null,8,["modelValue"])]),_:1}),e(r,{label:"类型"},{default:t(()=>[e(_,{modelValue:u.type,"onUpdate:modelValue":l[12]||(l[12]=a=>u.type=a)},{default:t(()=>[e(o,{label:"广告",value:1}),e(o,{label:"违法",value:2}),e(o,{label:"政治",value:3}),e(o,{label:"色情",value:4}),e(o,{label:"其他",value:5})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"级别"},{default:t(()=>[e(_,{modelValue:u.level,"onUpdate:modelValue":l[13]||(l[13]=a=>u.level=a)},{default:t(()=>[e(o,{label:"警告",value:1}),e(o,{label:"禁止",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),ol=ye(Se,[["__scopeId","data-v-da68aea6"]]);export{ol as default};
