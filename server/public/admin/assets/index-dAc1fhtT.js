import{v as Ke,E as De,R as qe,a2 as Ze,O as Oe,s as Qe,a3 as Je,n as Xe,o as He,i as et,J as tt,C as lt,r as nt,F as st,L as at,M as ot,a4 as it,p as dt,K as ut}from"./element-plus-ChK2e5qA.js";import{_ as rt}from"./index.vue_vue_type_script_setup_true_lang-CCtv5BMP.js";import{_ as ct}from"./index-DlQH-CEM.js";import{d as Te,b as Ie,r as T,f as fe,k as ft}from"./index-D465kfFn.js";import{P as mt}from"./index-n-Jqn6Y-.js";import{U as pt}from"./index-DFyja3d3.js";import{_ as vt}from"./index.vue_vue_type_script_setup_true_lang-T0yi5BSL.js";import{d as pe,c as f,o as i,a as o,K as h,P as p,H as yt,U as n,_ as Le,s as ve,r as E,a0 as gt,b as Ue,w as O,n as ze,M as Q,V as me,u as l,i as U,L as a,af as _t,q as Ct,l as ht,R as r,Z,T as D,ab as Y,a9 as kt,O as Re,S as re}from"./@vue-ygbFPFRc.js";import{u as wt}from"./usePaging-B2jDzebD.js";const bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAACJElEQVRYR+2YMWsUURSFz3m7s+nskjUIQSutbMRi7WzUVjSadMHCbVLkByjmLygaCVYWRqMEUhkFS9Gg0cJfYCPZjYUQFbPs+I7c2R1Q2ZjZfRNYYS4MAzPv3vnmvDvL3kMA2Hl5/CjLI9ckf4ZwY3Zt15C+gfwIao3So0rt3XsJtPUk9M/cAW6y9ap2DIyfAjgCwANwGeoYiEFtk/5e5CvXeer1D2neATcGgiTZM4+t9RNLEKcBtAFEGeBsiRWzl7EoSXo+8rV9gWc/fDc1B1VSEoEnDpj0KTB33tS26DGaEezvZQZpRxmODyoT5+vwBwS3zeTcT4yjTdZNJEiPSykk1bjZX6HeD/WQJ1zUApgq2w+etcsniBuAVlH9vELOx6Yo1VywgkmTB4X1kEGGhyAtg/Ecq3NNqnknDwVTrNBaactEts88OHs5b8Bw/Tof4M+kr4WrwwhoL9n5uRPWhxWwsxPEl+EGNMacP5I8evCPGgVgqKSFgoWCoQqE5hc9WCgYqkBoftGDeSiYz1/+UJLe+foftvh2A2B1fwQIrapkaFoDcK4PVyH0qVnyU4fjGdW4NQ2WlgDE5hLkMoJmQdh9zW9Dk59K5lhtLjyE01TX/jDILP5MGEbvbFPOJroIXvc5PjvTBbx7GM4vAjjd9WdSc2g/IPaqaTv5Aq58haP1TSb2Au20GGErvgTxIqiTAA7tVSnn+2Z9vAXdCsa4bD6Nsf0C/gYA5PMzcW0AAAAASUVORK5CYII=",xt=pe({props:{uri:{type:String},fileSize:{type:String,default:"100px"},width:{type:String,default:""},height:{type:String,default:""},type:{type:String,default:"image"}},emits:["close"]}),St=["src"],At={key:3,class:"absolute left-1/2 top-1/2 translate-x-[-50%] translate-y-[-50%] rounded-full w-5 h-5 flex justify-center items-center bg-[rgba(0,0,0,0.3)]"};function Vt(s,R,x,g,k,z){const S=Ke,u=Ie;return i(),f("div",null,[o("div",{class:"file-item relative",style:Le({height:s.height||s.fileSize,width:s.width||s.fileSize})},[s.type=="image"?(i(),h(S,{key:0,class:"image",fit:"contain",src:s.uri},null,8,["src"])):s.type=="video"?(i(),f("video",{key:1,class:"video",src:s.uri},null,8,St)):(i(),h(S,{key:2,class:"image",src:"https://img95.699pic.com/element/40103/3946.png_860.png"})),s.type=="video"?(i(),f("div",At,[n(u,{name:"el-icon-CaretRight",size:18,color:"#fff"})])):p("",!0),yt(s.$slots,"default",{},void 0,!0)],4)])}const ce=Te(xt,[["render",Vt],["__scopeId","data-v-acf6f94d"]]);function $e(s){return T.post({url:"/file/addCate",params:s})}function Et(s){return T.post({url:"/file/editCate",params:s})}function zt(s){return T.post({url:"/file/delCate",params:s})}function Rt(s){return T.get({url:"/file/listCate",params:s})}function $t(s){return T.get({url:"/file/lists",params:s},{ignoreCancelToken:!0,isOpenRetry:!1})}function Dt(s){return T.post({url:"/file/delete",params:s})}function Tt(s){return T.post({url:"/file/move",params:s})}function It(s){return T.post({url:"/file/rename",params:s})}function Lt(s){const R=ve(),x=E([]),g=E(""),k=async()=>{const m=await Rt({page_type:0,type:s}),C=[{name:"全部",id:""},{name:"未分组",id:0}];x.value=m.lists,x.value.unshift(...C),setTimeout(()=>{var w;(w=R.value)==null||w.setCurrentKey(g.value)},0)};return{treeRef:R,cateId:g,cateLists:x,handleAddCate:async m=>{await $e({type:s,name:m,pid:0}),k()},handleAddChildCate:async(m,C)=>{await $e({type:s,name:m,pid:C}),k()},handleEditCate:async(m,C)=>{await Et({id:C,name:m}),k()},handleDeleteCate:async(m,C)=>{C?await fe.confirm("删除文件夹将会永久删除文件夹及其所有内容。您确定要继续吗？"):await fe.confirm("确定要删除？"),await zt({id:m}),g.value="",k()},getCateLists:k,handleCatSelect:m=>{g.value=m.id}}}function Ut(s,R,x,g){const k=ve(),z=E("normal"),S=E(0),u=E([]),$=E(!1),_=E(!1),m=gt({name:"",type:R,cid:s,source:""}),{pager:C,getLists:w,resetPage:j}=wt({fetchFun:$t,params:m,firstLoading:!0,size:g}),F=()=>{w()},J=()=>{j()},X=c=>!!u.value.find(d=>d.id==c),H=async c=>{await fe.confirm("确认删除后，本地或云存储文件也将同步删除，如文件已被使用，请谨慎操作！");const d=c||u.value.map(V=>V.id);await Dt({ids:d}),F(),P()},ee=async()=>{const c=u.value.map(d=>d.id);await Tt({ids:c,cid:S.value}),S.value=0,F(),P()},te=c=>{const d=u.value.findIndex(V=>V.id==c.id);if(d!=-1){u.value.splice(d,1);return}if(u.value.length==x.value){if(x.value==1){u.value=[],u.value.push(c);return}De.warning("已达到选择上限");return}u.value.push(c)},P=()=>{u.value=[]};return{listShowType:z,tableRef:k,moveId:S,pager:C,fileParams:m,select:u,isCheckAll:$,isIndeterminate:_,getFileList:F,refresh:J,batchFileDelete:H,batchFileMove:ee,selectFile:te,isSelect:X,clearSelect:P,cancelSelete:c=>{u.value=u.value.filter(d=>d.id!=c)},selectAll:c=>{var d;if(_.value=!1,(d=k.value)==null||d.toggleAllSelection(),c){u.value=[...C.lists];return}P()},handleFileRename:async(c,d)=>{await It({id:d,name:c}),F()}}}const Ft={key:0},Pt={key:1},Mt={class:"aspect-video overflow-hidden"},jt={class:"size-full",controls:""},Bt=["src"],Nt=pe({__name:"preview",props:{modelValue:{type:Boolean,default:!1},url:{type:String,default:""},type:{type:String,default:"image"}},emits:["update:modelValue"],setup(s,{emit:R}){const x=s,g=R,k=ve(),z=Ue({get(){return x.modelValue},set($){g("update:modelValue",$)}}),S=()=>{g("update:modelValue",!1)},u=E([]);return O(()=>x.modelValue,$=>{$?ze(()=>{var _;u.value=[x.url],(_=k.value)==null||_.play()}):ze(()=>{var _;u.value=[],(_=k.value)==null||_.pause()})}),($,_)=>{const m=Ze,C=qe;return Q((i(),f("div",null,[s.type=="image"?(i(),f("div",Ft,[l(u).length?(i(),h(m,{key:0,"url-list":l(u),"hide-on-click-modal":"",onClose:S},null,8,["url-list"])):p("",!0)])):p("",!0),s.type=="video"?(i(),f("div",Pt,[n(C,{modelValue:l(z),"onUpdate:modelValue":_[0]||(_[0]=w=>U(z)?z.value=w:null),width:"740px",title:"视频预览","before-close":S},{default:a(()=>[o("div",Mt,[o("video",jt,[o("source",{src:s.url,type:"video/mp4"},null,8,Bt)])])]),_:1},8,["modelValue"])])):p("",!0)],512)),[[me,s.modelValue]])}}}),Wt={class:"material"},Gt={class:"material__left"},Yt={class:"flex-1 min-h-0"},Kt={class:"material-left__content pt-4 p-b-4"},qt={class:"flex flex-1 items-center min-w-0 pr-4"},Zt={class:"flex-1 truncate mr-2"},Ot=["onClick"],Qt={class:"flex justify-center p-2 border-t border-br"},Jt={class:"material__center flex flex-col"},Xt={class:"operate-btn flex"},Ht={class:"flex-1 flex"},el={class:"flex items-center ml-2"},tl={key:0,class:"mt-3"},ll={class:"material-center__content flex flex-col flex-1 mb-1 min-h-0"},nl={class:"file-list flex flex-wrap mt-4"},sl={key:0,class:"item-selected"},al={class:"operation-btns flex items-center"},ol={class:"inline-block"},il={class:"inline-block"},dl={class:"inline-block"},ul={key:1,class:"flex flex-1 justify-center items-center"},rl={class:"material-center__footer flex justify-between items-center mt-2"},cl={class:"flex"},fl={class:"mr-3"},ml={key:0,class:"material__right"},pl={class:"flex justify-between p-2 flex-wrap"},vl={class:"sm flex items-center"},yl={key:0},gl={class:"flex-1 min-h-0"},_l={class:"select-lists flex flex-col p-t-3"},Cl={class:"select-item"},hl=pe({__name:"index",props:{fileSize:{type:String,default:"100px"},limit:{type:Number,default:1},type:{type:String,default:"image"},mode:{type:String,default:"picker"},pageSize:{type:Number,default:15}},emits:["change"],setup(s,{expose:R,emit:x}){const g=s,k=x,{limit:z}=_t(g),S=Ue(()=>{switch(g.type){case"image":return 10;case"video":return 20;case"file":return 30;default:return 0}}),u=[{value:"0",label:"后台上传"},{value:"1",label:"前端上传"}],$=Ct("visible",E(!1)),_=E(""),m=E(!1),{treeRef:C,cateId:w,cateLists:j,handleAddCate:F,handleAddChildCate:J,handleEditCate:X,handleDeleteCate:H,getCateLists:ee,handleCatSelect:te}=Lt(S.value),{tableRef:P,listShowType:I,moveId:L,pager:A,fileParams:c,select:d,isCheckAll:V,isIndeterminate:B,getFileList:ye,refresh:M,batchFileDelete:K,batchFileMove:ge,selectFile:le,isSelect:_e,clearSelect:Ce,cancelSelete:Fe,selectAll:he,handleFileRename:ke}=Ut(w,S,z,g.pageSize),we=async()=>{var b;await ee(),(b=C.value)==null||b.setCurrentKey(w.value),ye()},ne=b=>{_.value=b,m.value=!0};O(()=>$.value,async b=>{b&&we()},{immediate:!0}),O(w,()=>{c.name="",M()}),O(d,b=>{if(k("change",b),b.length==A.lists.length&&b.length!==0){B.value=!1,V.value=!0;return}b.length>0?B.value=!0:(V.value=!1,B.value=!1)},{deep:!0}),ht(()=>{g.mode=="page"&&we()}),R({clearSelect:Ce});const be=E(),Pe=b=>{const e=b,N=be.value;N.value=e,N.select(),document.execCommand("copy"),De({message:"地址复制成功",type:"success"})};return(b,e)=>{const N=ft,se=He,W=vt,Me=Xe,je=dt,Be=Je,ae=Qe,y=et,oe=pt,ie=ut,de=tt,xe=mt,q=Ie,Ne=lt,Se=nt,ue=st,Ae=ct,Ve=it,G=ot,We=at,Ge=rt,Ye=Oe;return Q((i(),f("div",Wt,[o("div",Gt,[o("div",Yt,[n(ae,null,{default:a(()=>[o("div",Kt,[n(Be,{ref_key:"treeRef",ref:C,"node-key":"id",data:l(j),"empty-text":"","highlight-current":!0,"expand-on-click-node":!1,"current-node-key":l(w),onNodeClick:l(te)},{default:a(({data:t})=>[o("div",qt,[e[16]||(e[16]=o("img",{class:"w-[20px] h-[16px] mr-3",src:bt},null,-1)),o("span",Zt,[n(N,{content:t.name},null,8,["content"])]),t.id>0?(i(),h(je,{key:0,"hide-on-click":!1},{dropdown:a(()=>[n(Me,null,{default:a(()=>[n(W,{onConfirm:v=>l(X)(v,t.id),size:"default",value:t.name,width:"400px",limit:20,"show-limit":"",teleported:""},{default:a(()=>[o("div",null,[n(se,null,{default:a(()=>e[12]||(e[12]=[r(" 命名分组 ")])),_:1})])]),_:2},1032,["onConfirm","value"]),n(W,{onConfirm:v=>l(J)(v,t.id),size:"default",width:"400px",limit:20,"show-limit":"",teleported:""},{default:a(()=>[o("div",null,[n(se,null,{default:a(()=>e[13]||(e[13]=[r(" 添加分组 ")])),_:1})])]),_:2},1032,["onConfirm"]),o("div",{onClick:v=>{var Ee;return l(H)(t.id,(Ee=t==null?void 0:t.children)==null?void 0:Ee.length)}},[n(se,null,{default:a(()=>e[14]||(e[14]=[r("删除分组")])),_:1})],8,Ot)]),_:2},1024)]),default:a(()=>[e[15]||(e[15]=o("span",{class:"muted m-r-10"},"···",-1))]),_:2},1024)):p("",!0)])]),_:1},8,["data","current-node-key","onNodeClick"])])]),_:1})]),o("div",Qt,[n(W,{onConfirm:l(F),size:"default",width:"400px",limit:20,"show-limit":"",teleported:""},{default:a(()=>[n(y,null,{default:a(()=>e[17]||(e[17]=[r(" 添加分组 ")])),_:1})]),_:1},8,["onConfirm"])])]),o("div",Jt,[o("div",Xt,[o("div",Ht,[s.type=="image"?(i(),h(oe,{key:0,class:"mr-3",data:{cid:l(w)},type:s.type,"show-progress":!0,onChange:l(M)},{default:a(()=>[n(y,{type:"primary"},{default:a(()=>e[18]||(e[18]=[r("本地上传")])),_:1})]),_:1},8,["data","type","onChange"])):p("",!0),s.type=="video"?(i(),h(oe,{key:1,class:"mr-3",data:{cid:l(w)},type:s.type,"show-progress":!0,onAllSuccess:l(M)},{default:a(()=>[n(y,{type:"primary"},{default:a(()=>e[19]||(e[19]=[r("本地上传")])),_:1})]),_:1},8,["data","type","onAllSuccess"])):p("",!0),s.type=="file"?(i(),h(oe,{key:2,class:"mr-3",data:{cid:l(w)},type:s.type,"show-progress":!0,onAllSuccess:l(M)},{default:a(()=>[n(y,{type:"primary"},{default:a(()=>e[20]||(e[20]=[r("本地上传")])),_:1})]),_:1},8,["data","type","onAllSuccess"])):p("",!0),s.mode=="page"?(i(),h(y,{key:3,disabled:!l(d).length,onClick:e[0]||(e[0]=Z(t=>l(K)(),["stop"]))},{default:a(()=>e[21]||(e[21]=[r(" 删除 ")])),_:1},8,["disabled"])):p("",!0),s.mode=="page"?(i(),h(xe,{key:4,class:"ml-3",onConfirm:l(ge),disabled:!l(d).length,title:"移动文件"},{trigger:a(()=>[n(y,{disabled:!l(d).length},{default:a(()=>e[22]||(e[22]=[r("移动")])),_:1},8,["disabled"])]),default:a(()=>[o("div",null,[e[23]||(e[23]=o("span",{class:"mr-5"},"移动文件至",-1)),n(de,{modelValue:l(L),"onUpdate:modelValue":e[1]||(e[1]=t=>U(L)?L.value=t:null),placeholder:"请选择"},{default:a(()=>[(i(!0),f(D,null,Y(l(j),t=>(i(),f(D,{key:t.id},[t.id!==""?(i(),h(ie,{key:0,label:t.name,value:t.id},null,8,["label","value"])):p("",!0)],64))),128))]),_:1},8,["modelValue"])])]),_:1},8,["onConfirm","disabled"])):p("",!0)]),n(de,{modelValue:l(c).source,"onUpdate:modelValue":e[2]||(e[2]=t=>l(c).source=t),placeholder:"请选择文件来源",clearable:"",style:{"margin-right":"20px"},class:"max-w-52 ml-3"},{default:a(()=>[(i(),f(D,null,Y(u,t=>n(ie,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),n(Ne,{class:"w-60",placeholder:"请输入名称",modelValue:l(c).name,"onUpdate:modelValue":e[3]||(e[3]=t=>l(c).name=t),onKeyup:kt(l(M),["enter"])},{append:a(()=>[n(y,{onClick:l(M)},{icon:a(()=>[n(q,{name:"el-icon-Search"})]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup"]),o("div",el,[n(Se,{content:"列表视图",placement:"top"},{default:a(()=>[o("div",{class:Re(["list-icon",{select:l(I)=="table"}]),onClick:e[4]||(e[4]=t=>I.value="table")},[n(q,{name:"local-icon-list-2",size:18})],2)]),_:1}),n(Se,{content:"平铺视图",placement:"top"},{default:a(()=>[o("div",{class:Re(["list-icon",{select:l(I)=="normal"}]),onClick:e[5]||(e[5]=t=>I.value="normal")},[n(q,{name:"el-icon-Menu",size:18})],2)]),_:1})])]),s.mode=="page"?(i(),f("div",tl,[n(ue,{disabled:!l(A).lists.length,modelValue:l(V),"onUpdate:modelValue":e[6]||(e[6]=t=>U(V)?V.value=t:null),onChange:l(he),indeterminate:l(B)},{default:a(()=>e[24]||(e[24]=[r(" 当页全选 ")])),_:1},8,["disabled","modelValue","onChange","indeterminate"])])):p("",!0),o("div",ll,[l(A).lists.length?Q((i(),h(ae,{key:0},{default:a(()=>[o("ul",nl,[(i(!0),f(D,null,Y(l(A).lists,t=>(i(),f("li",{class:"file-item-wrap",key:t.id,style:Le({width:s.fileSize})},[n(Ae,{onClose:v=>l(K)([t.id])},{default:a(()=>[n(ce,{uri:t.url,"file-size":s.fileSize,type:s.type,onClick:v=>l(le)(t)},{default:a(()=>[l(_e)(t.id)?(i(),f("div",sl,[n(q,{size:24,name:"el-icon-Check",color:"#fff"})])):p("",!0)]),_:2},1032,["uri","file-size","type","onClick"])]),_:2},1032,["onClose"]),n(N,{class:"mt-1",content:t.name},null,8,["content"]),o("div",al,[n(W,{onConfirm:v=>l(ke)(v,t.id),size:"default",value:t.name,width:"400px",limit:50,"show-limit":"",teleported:""},{default:a(()=>[n(y,{type:"primary",link:""},{default:a(()=>e[25]||(e[25]=[r(" 重命名 ")])),_:1})]),_:2},1032,["onConfirm","value"]),t.type===10||t.type===20?(i(),h(y,{key:0,type:"primary",link:"",onClick:v=>ne(t.url)},{default:a(()=>e[26]||(e[26]=[r(" 查看 ")])),_:2},1032,["onClick"])):p("",!0),t.type===10||t.type===20?(i(),h(y,{key:1,type:"primary",link:"",onClick:v=>Pe(t.url),style:{"margin-left":"1px"}},{default:a(()=>e[27]||(e[27]=[r("地址")])),_:2},1032,["onClick"])):(i(),h(Ve,{key:2,type:"primary",underline:!1,style:{"margin-left":"25px"},href:t.url},{default:a(()=>e[28]||(e[28]=[r("下载")])),_:2},1032,["href"]))])],4))),128))])]),_:1},512)),[[me,l(I)=="normal"]]):p("",!0),Q(n(We,{ref_key:"tableRef",ref:P,class:"mt-4",data:l(A).lists,width:"100%",height:"100%",size:"large",onRowClick:l(le)},{default:a(()=>[n(G,{width:"55"},{default:a(({row:t})=>[n(ue,{modelValue:l(_e)(t.id),onChange:v=>l(le)(t)},null,8,["modelValue","onChange"])]),_:1}),n(G,{label:"图片",width:"100"},{default:a(({row:t})=>[n(ce,{uri:t.url,"file-size":"50px",type:s.type},null,8,["uri","type"])]),_:1}),n(G,{label:"名称","min-width":"100","show-overflow-tooltip":""},{default:a(({row:t})=>[n(Ve,{onClick:Z(v=>ne(t.url),["stop"]),underline:!1},{default:a(()=>[r(re(t.name),1)]),_:2},1032,["onClick"])]),_:1}),n(G,{prop:"create_time",label:"上传时间","min-width":"100"}),n(G,{label:"操作",width:"150",fixed:"right"},{default:a(({row:t})=>[o("div",ol,[n(W,{onConfirm:v=>l(ke)(v,t.id),size:"default",value:t.name,width:"400px",limit:50,"show-limit":"",teleported:""},{default:a(()=>[n(y,{type:"primary",link:""},{default:a(()=>e[29]||(e[29]=[r(" 重命名 ")])),_:1})]),_:2},1032,["onConfirm","value"])]),o("div",il,[n(y,{type:"primary",link:"",onClick:Z(v=>ne(t.url),["stop"])},{default:a(()=>e[30]||(e[30]=[r(" 查看 ")])),_:2},1032,["onClick"])]),o("div",dl,[n(y,{type:"primary",link:"",onClick:Z(v=>l(K)([t.id]),["stop"])},{default:a(()=>e[31]||(e[31]=[r(" 删除 ")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data","onRowClick"]),[[me,l(I)=="table"]]),!l(A).loading&&!l(A).lists.length?(i(),f("div",ul," 暂无数据~ ")):p("",!0)]),o("div",rl,[o("div",cl,[s.mode=="page"?(i(),f(D,{key:0},[o("span",fl,[n(ue,{disabled:!l(A).lists.length,modelValue:l(V),"onUpdate:modelValue":e[7]||(e[7]=t=>U(V)?V.value=t:null),onChange:l(he),indeterminate:l(B)},{default:a(()=>e[32]||(e[32]=[r(" 当页全选 ")])),_:1},8,["disabled","modelValue","onChange","indeterminate"])]),n(y,{disabled:!l(d).length,onClick:e[8]||(e[8]=t=>l(K)())},{default:a(()=>e[33]||(e[33]=[r(" 删除 ")])),_:1},8,["disabled"]),n(xe,{class:"ml-3 inline",onConfirm:l(ge),disabled:!l(d).length,title:"移动文件"},{trigger:a(()=>[n(y,{disabled:!l(d).length},{default:a(()=>e[34]||(e[34]=[r("移动")])),_:1},8,["disabled"])]),default:a(()=>[o("div",null,[e[35]||(e[35]=o("span",{class:"mr-5"},"移动文件至",-1)),n(de,{modelValue:l(L),"onUpdate:modelValue":e[9]||(e[9]=t=>U(L)?L.value=t:null),placeholder:"请选择"},{default:a(()=>[(i(!0),f(D,null,Y(l(j),t=>(i(),f(D,{key:t.id},[t.id!==""?(i(),h(ie,{key:0,label:t.name,value:t.id},null,8,["label","value"])):p("",!0)],64))),128))]),_:1},8,["modelValue"])])]),_:1},8,["onConfirm","disabled"])],64)):p("",!0)]),n(Ge,{modelValue:l(A),"onUpdate:modelValue":e[10]||(e[10]=t=>U(A)?A.value=t:null),onChange:l(ye),layout:"total, prev, pager, next, jumper"},null,8,["modelValue","onChange"])])]),s.mode=="picker"?(i(),f("div",ml,[o("div",pl,[o("div",vl,[r(" 已选择 "+re(l(d).length)+" ",1),l(z)?(i(),f("span",yl,"/"+re(l(z)),1)):p("",!0)]),n(y,{type:"primary",link:"",onClick:l(Ce)},{default:a(()=>e[36]||(e[36]=[r("清空")])),_:1},8,["onClick"])]),o("div",gl,[n(ae,{class:"ls-scrollbar"},{default:a(()=>[o("ul",_l,[(i(!0),f(D,null,Y(l(d),t=>(i(),f("li",{class:"mb-4",key:t.id},[o("div",Cl,[n(Ae,{onClose:v=>l(Fe)(t.id)},{default:a(()=>[n(ce,{uri:t.url,"file-size":"100px",type:s.type},null,8,["uri","type"])]),_:2},1032,["onClose"])])]))),128))])]),_:1})])])):p("",!0),n(Nt,{modelValue:l(m),"onUpdate:modelValue":e[11]||(e[11]=t=>U(m)?m.value=t:null),url:l(_),type:s.type},null,8,["modelValue","url","type"]),o("input",{ref_key:"textCopys",ref:be,id:"textCopys",value:"",style:{opacity:"0",position:"absolute"}},null,512)])),[[Ye,l(A).loading]])}}}),Rl=Te(hl,[["__scopeId","data-v-2dcfa5be"]]);export{ce as F,Nt as _,Rl as a};
