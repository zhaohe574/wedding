import{H as j,T as N,U as O,v as z,B as F,C as K,J as S,K as T,g as $,i as G,D as H}from"./element-plus-ChK2e5qA.js";import{_ as J}from"./picker-COC_GcuI.js";import{b as L,d as M}from"./index-D465kfFn.js";import{I as P,A as q}from"./@element-plus-C4Lf8veM.js";import{D as Q}from"./vuedraggable-RHgmLr3o.js";import{d as W,b as X,l as Y,c as Z,o as v,U as t,L as l,a,u as d,R as m,K as h}from"./@vue-ygbFPFRc.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./index-n-Jqn6Y-.js";import"./index-dAc1fhtT.js";import"./index.vue_vue_type_script_setup_true_lang-CCtv5BMP.js";import"./index-DlQH-CEM.js";import"./index-DFyja3d3.js";import"./index.vue_vue_type_script_setup_true_lang-T0yi5BSL.js";import"./@vueuse-yz9uDhpq.js";import"./usePaging-B2jDzebD.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";import"./vue-CQyKTslw.js";import"./sortablejs-BvvSZPRv.js";const tt={class:"flex-1 mt-4"},et={class:"stats-item mb-4 p-4 bg-gray-50 rounded-lg"},ot={class:"flex items-start"},lt={class:"drag-handle cursor-move mr-3 mt-2"},at={class:"mr-4 flex-shrink-0"},nt={class:"w-[60px] h-[60px] rounded overflow-hidden bg-white border border-gray-200 flex items-center justify-center cursor-pointer hover:border-primary"},st={class:"flex-1 min-w-0"},it={class:"ml-4 flex flex-col gap-2 flex-shrink-0"},dt=W({__name:"attr",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},emits:["update:content"],setup(w,{emit:g}){const c=g,p=w,n=X({get:()=>p.content,set:s=>{c("update:content",s)}});function k(){var s;Array.isArray((s=p.content)==null?void 0:s.data)||c("update:content",{...p.content,data:[]})}Y(()=>{k()});function U(){const s=Array.isArray(n.value.data)?[...n.value.data]:[],e={icon:"",title:"新统计项",value:"order_count",unit:"个",is_show:"1",sort:s.length+1};s.push(e),n.value={...n.value,data:s}}function E(s){const e=Array.isArray(n.value.data)?[...n.value.data]:[];e.splice(s,1),n.value={...n.value,data:e}}return(s,e)=>{const _=O,A=N,x=j,b=L,C=z,B=J,y=K,f=F,r=T,D=S,I=$,V=G,R=H;return v(),Z("div",null,[t(R,{"label-width":"80px"},{default:l(()=>[t(x,{shadow:"never",class:"!border-none flex mt-2"},{default:l(()=>[e[5]||(e[5]=a("div",{class:"flex items-end mb-4"},[a("div",{class:"text-base text-[#101010] font-medium"},"展示样式")],-1)),t(A,{modelValue:d(n).style,"onUpdate:modelValue":e[0]||(e[0]=o=>d(n).style=o)},{default:l(()=>[t(_,{value:1},{default:l(()=>e[2]||(e[2]=[m("横向排列")])),_:1}),t(_,{value:2},{default:l(()=>e[3]||(e[3]=[m("纵向排列")])),_:1}),t(_,{value:3},{default:l(()=>e[4]||(e[4]=[m("网格布局")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(x,{shadow:"never",class:"!border-none flex mt-2"},{default:l(()=>[e[8]||(e[8]=a("div",{class:"flex items-end mb-4"},[a("div",{class:"text-base text-[#101010] font-medium"},"统计项设置"),a("div",{class:"text-xs text-tx-secondary ml-2"},"建议图标尺寸：80px*80px")],-1)),a("div",tt,[t(d(Q),{"model-value":Array.isArray(d(n).data)?d(n).data:[],"onUpdate:modelValue":e[1]||(e[1]=o=>c("update:content",{...p.content,data:o})),"item-key":(o,u)=>o&&o.title?o.title+u:"i"+u,animation:"300",handle:".drag-handle"},{item:l(({element:o,index:u})=>[a("div",et,[a("div",ot,[a("div",lt,[t(b,{name:"el-icon-Rank",size:18,color:"#999"})]),a("div",at,[t(B,{modelValue:o.icon,"onUpdate:modelValue":i=>o.icon=i,limit:1,type:"image"},{default:l(()=>[a("div",nt,[o.icon?(v(),h(C,{key:0,src:o.icon,fit:"cover",class:"w-full h-full"},null,8,["src"])):(v(),h(b,{key:1,name:"el-icon-Plus",size:24,color:"#999"}))])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),a("div",st,[t(f,{label:"标题","label-width":"60px",class:"!mb-2"},{default:l(()=>[t(y,{modelValue:o.title,"onUpdate:modelValue":i=>o.title=i,placeholder:"请输入标题",style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(f,{label:"数据类型","label-width":"60px",class:"!mb-2"},{default:l(()=>[t(D,{modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,placeholder:"选择数据类型",style:{width:"200px"}},{default:l(()=>[t(r,{label:"订单数量",value:"order_count"}),t(r,{label:"优惠券数量",value:"coupon_count"}),t(r,{label:"收藏数量",value:"collect_count"}),t(r,{label:"浏览记录",value:"view_count"}),t(r,{label:"积分余额",value:"points"}),t(r,{label:"余额",value:"balance"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(f,{label:"单位","label-width":"60px",class:"!mb-0"},{default:l(()=>[t(y,{modelValue:o.unit,"onUpdate:modelValue":i=>o.unit=i,placeholder:"如：个、张、元",style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),a("div",it,[t(I,{modelValue:o.is_show,"onUpdate:modelValue":i=>o.is_show=i,"active-value":"1","inactive-value":"0","active-text":"显示"},null,8,["modelValue","onUpdate:modelValue"]),t(V,{type:"danger",text:"",icon:d(P),onClick:i=>E(u)},{default:l(()=>e[6]||(e[6]=[m(" 删除 ")])),_:2},1032,["icon","onClick"])])])])]),_:1},8,["model-value","item-key"]),t(V,{type:"primary",icon:d(q),onClick:U},{default:l(()=>e[7]||(e[7]=[m(" 添加统计项 ")])),_:1},8,["icon"])])]),_:1})]),_:1})])}}}),Xt=M(dt,[["__scopeId","data-v-38d43f40"]]);export{Xt as default};
