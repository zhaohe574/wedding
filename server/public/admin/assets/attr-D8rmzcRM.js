import{H as j,B as N,C as z,T as F,U as O,f as P,v as T,g as $,i as G,D as H}from"./element-plus-ChK2e5qA.js";import{_ as K}from"./picker-COC_GcuI.js";import{b as L,d as M}from"./index-D465kfFn.js";import{I as S,A as q}from"./@element-plus-C4Lf8veM.js";import{D as J}from"./vuedraggable-RHgmLr3o.js";import{d as Q,b as W,l as X,c as Y,o as b,U as e,L as o,a as s,u as i,R as m,K as g}from"./@vue-ygbFPFRc.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./index-n-Jqn6Y-.js";import"./index-dAc1fhtT.js";import"./index.vue_vue_type_script_setup_true_lang-CCtv5BMP.js";import"./index-DlQH-CEM.js";import"./index-DFyja3d3.js";import"./index.vue_vue_type_script_setup_true_lang-T0yi5BSL.js";import"./@vueuse-yz9uDhpq.js";import"./usePaging-B2jDzebD.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";import"./vue-CQyKTslw.js";import"./sortablejs-BvvSZPRv.js";const Z={class:"flex-1 mt-4"},tt={class:"step-item mb-4 p-4 bg-gray-50 rounded-lg"},et={class:"flex items-start"},ot={class:"drag-handle cursor-move mr-3 mt-2"},lt={class:"mr-4 flex-shrink-0"},at={class:"w-[60px] h-[60px] rounded overflow-hidden bg-white border border-gray-200 flex items-center justify-center cursor-pointer hover:border-primary"},st={class:"flex-1 min-w-0"},it={class:"ml-4 flex flex-col gap-2 flex-shrink-0"},nt=Q({__name:"attr",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},emits:["update:content"],setup(k,{emit:U}){const f=U,c=k,l=W({get:()=>c.content,set:n=>{f("update:content",n)}});function h(){var n;Array.isArray((n=c.content)==null?void 0:n.data)||f("update:content",{...c.content,data:[]})}X(()=>{h()});function A(){const n=Array.isArray(l.value.data)?[...l.value.data]:[];if(n.length>=8)return;const t={icon:"",title:"新步骤",description:"请输入步骤描述",is_show:"1",sort:n.length+1};n.push(t),l.value={...l.value,data:n}}function E(n){const t=Array.isArray(l.value.data)?[...l.value.data]:[];t.splice(n,1),l.value={...l.value,data:t}}return(n,t)=>{const v=z,p=N,x=j,u=O,y=F,C=P,V=L,B=T,D=K,I=$,w=G,R=H;return b(),Y("div",null,[e(R,{"label-width":"80px"},{default:o(()=>[e(x,{shadow:"never",class:"!border-none flex mt-2"},{default:o(()=>[t[5]||(t[5]=s("div",{class:"flex items-end mb-4"},[s("div",{class:"text-base text-[#101010] font-medium"},"基础设置")],-1)),e(p,{label:"组件标题"},{default:o(()=>[e(v,{modelValue:i(l).title,"onUpdate:modelValue":t[0]||(t[0]=d=>i(l).title=d),placeholder:"请输入标题",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(x,{shadow:"never",class:"!border-none flex mt-2"},{default:o(()=>[t[11]||(t[11]=s("div",{class:"flex items-end mb-4"},[s("div",{class:"text-base text-[#101010] font-medium"},"展示样式")],-1)),e(y,{modelValue:i(l).style,"onUpdate:modelValue":t[1]||(t[1]=d=>i(l).style=d)},{default:o(()=>[e(u,{value:1},{default:o(()=>t[6]||(t[6]=[m("时间轴")])),_:1}),e(u,{value:2},{default:o(()=>t[7]||(t[7]=[m("步骤卡片")])),_:1}),e(u,{value:3},{default:o(()=>t[8]||(t[8]=[m("横向流程图")])),_:1})]),_:1},8,["modelValue"]),e(p,{label:"流程线颜色",class:"mt-4"},{default:o(()=>[e(C,{modelValue:i(l).line_color,"onUpdate:modelValue":t[2]||(t[2]=d=>i(l).line_color=d)},null,8,["modelValue"])]),_:1}),e(p,{label:"图标样式"},{default:o(()=>[e(y,{modelValue:i(l).icon_style,"onUpdate:modelValue":t[3]||(t[3]=d=>i(l).icon_style=d)},{default:o(()=>[e(u,{value:1},{default:o(()=>t[9]||(t[9]=[m("圆形")])),_:1}),e(u,{value:2},{default:o(()=>t[10]||(t[10]=[m("方形")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(x,{shadow:"never",class:"!border-none flex mt-2"},{default:o(()=>{var d;return[t[14]||(t[14]=s("div",{class:"flex items-end mb-4"},[s("div",{class:"text-base text-[#101010] font-medium"},"流程步骤设置"),s("div",{class:"text-xs text-tx-secondary ml-2"},"建议图标尺寸：80px*80px，最多添加8个步骤")],-1)),s("div",Z,[e(i(J),{"model-value":Array.isArray(i(l).data)?i(l).data:[],"onUpdate:modelValue":t[4]||(t[4]=a=>f("update:content",{...c.content,data:a})),"item-key":(a,_)=>a&&a.title?a.title+_:"i"+_,animation:"300",handle:".drag-handle"},{item:o(({element:a,index:_})=>[s("div",tt,[s("div",et,[s("div",ot,[e(V,{name:"el-icon-Rank",size:18,color:"#999"})]),s("div",lt,[e(D,{modelValue:a.icon,"onUpdate:modelValue":r=>a.icon=r,limit:1,type:"image"},{default:o(()=>[s("div",at,[a.icon?(b(),g(B,{key:0,src:a.icon,fit:"cover",class:"w-full h-full"},null,8,["src"])):(b(),g(V,{key:1,name:"el-icon-Plus",size:24,color:"#999"}))])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("div",st,[e(p,{label:"步骤标题","label-width":"70px",class:"!mb-2"},{default:o(()=>[e(v,{modelValue:a.title,"onUpdate:modelValue":r=>a.title=r,placeholder:"请输入步骤标题",style:{width:"250px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"步骤描述","label-width":"70px",class:"!mb-0"},{default:o(()=>[e(v,{modelValue:a.description,"onUpdate:modelValue":r=>a.description=r,type:"textarea",rows:2,placeholder:"请输入步骤描述",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),s("div",it,[e(I,{modelValue:a.is_show,"onUpdate:modelValue":r=>a.is_show=r,"active-value":"1","inactive-value":"0","active-text":"显示"},null,8,["modelValue","onUpdate:modelValue"]),e(w,{type:"danger",text:"",icon:i(S),onClick:r=>E(_)},{default:o(()=>t[12]||(t[12]=[m(" 删除 ")])),_:2},1032,["icon","onClick"])])])])]),_:1},8,["model-value","item-key"]),e(w,{type:"primary",icon:i(q),onClick:A,disabled:(((d=i(l).data)==null?void 0:d.length)||0)>=8},{default:o(()=>t[13]||(t[13]=[m(" 添加步骤 ")])),_:1},8,["icon","disabled"])])]}),_:1})]),_:1})])}}}),Wt=M(nt,[["__scopeId","data-v-49f6894d"]]);export{Wt as default};
