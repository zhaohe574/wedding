import{D as F,B as z,C as H,i as Z,O as J,L as Q,M as W,F as X,v as Y,r as ee,T as te,U as ae,y as le,w as ne,x as se}from"./element-plus-ChK2e5qA.js";import{d as q,b as oe}from"./index-D465kfFn.js";import{d as w,r as A,a0 as pe,w as k,c as g,o as u,U as d,M as ie,a as l,u as o,L as x,a9 as de,K as O,S as G,i as V,R as T,T as R,ab as $,O as me,b as M,P as b,s as re,Z as ue}from"./@vue-ygbFPFRc.js";import{P as ce}from"./index-n-Jqn6Y-.js";import{_ as _e}from"./index.vue_vue_type_script_setup_true_lang-CCtv5BMP.js";import{T as fe}from"./@element-plus-C4Lf8veM.js";import{k as xe}from"./article-Be81dFL2.js";import{u as ve}from"./usePaging-B2jDzebD.js";var E=(n=>(n.SHOP_PAGES="shop",n.APPTOOL="application_tool",n.OTHER_LINK="other_link",n))(E||{}),t=(n=>(n.SHOP_PAGES="shop",n.ARTICLE_LIST="article",n.CUSTOM_LINK="custom",n.MINI_PROGRAM="mini_program",n))(t||{});const ye={class:"article-list"},Se={class:"flex row-center"},Pe={class:"flex items-center"},he={class:"ml-4 overflow-hidden"},ge={class:"text-base line-clamp-2"},Oe={class:"flex justify-end mt-4"},Ee=w({__name:"article-list",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:S}){const c=n,y=S,i=A({path:"/pages/news_detail/news_detail",name:"",query:{},type:t.ARTICLE_LIST}),a=pe({name:"",is_show:1}),{pager:e,getLists:_,resetPage:s}=ve({fetchFun:xe,params:a}),p=f=>f==Number(i.value.id),r=f=>{i.value={id:f.id,name:f.title,path:"/pages/news_detail/news_detail",query:{id:f.id},type:t.ARTICLE_LIST},y("update:modelValue",i.value)};return k(()=>c.modelValue,f=>{if(f.type!=t.ARTICLE_LIST)return i.value={id:"",name:"",path:"/pages/news_detail/news_detail",type:t.SHOP_PAGES};i.value=f},{immediate:!0}),_(),(f,v)=>{const m=H,P=Z,I=z,C=F,N=X,L=W,U=Y,K=ee,j=Q,B=_e,D=J;return u(),g("div",ye,[d(C,{ref:"formRef",model:o(a),inline:!0},{default:x(()=>[d(I,{class:"w-[280px]",label:"文章名称"},{default:x(()=>[d(m,{modelValue:o(a).name,"onUpdate:modelValue":v[0]||(v[0]=h=>o(a).name=h),placeholder:"请输入",clearable:"",onKeyup:de(o(s),["enter"])},null,8,["modelValue","onKeyup"]),d(P,{type:"primary",class:"ml-4",icon:o(fe),onClick:o(s)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["model"]),ie((u(),O(j,{size:"large",data:o(e).lists,height:"432px",onRowClick:r},{default:x(()=>[d(L,{label:"选择","min-width":"50"},{default:x(({row:h})=>[l("div",Se,[d(N,{"model-value":p(h.id),size:"large",onChange:Je=>r(h)},null,8,["model-value","onChange"])])]),_:1}),d(L,{label:"文章名称","min-width":"180"},{default:x(({row:h})=>[l("div",Pe,[d(U,{fit:"cover",src:h.image,class:"flex-none w-[58px] h-[58px]"},null,8,["src"]),l("div",he,[d(K,{effect:"dark",content:h.title,placement:"top"},{default:x(()=>[l("div",ge,G(h.title),1)]),_:2},1032,["content"])])])]),_:1}),d(L,{label:"创建时间",prop:"create_time","min-width":"140"})]),_:1},8,["data"])),[[D,o(e).loading]]),l("div",Oe,[d(B,{modelValue:o(e),"onUpdate:modelValue":v[1]||(v[1]=h=>V(e)?e.value=h:null),onChange:o(_)},null,8,["modelValue","onChange"])])])}}}),Ve=q(Ee,[["__scopeId","data-v-9e297bd2"]]),we={class:"custom-link h-[530px]"},Ae={class:"flex flex-wrap items-center mt-4"},ke={class:"ml-4 flex-1 min-w-[100px]"},Ie=w({__name:"custom-link",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:S}){const c=S,y=i=>{c("update:modelValue",{path:"/pages/webview/webview",query:{url:i},type:t.CUSTOM_LINK})};return(i,a)=>{var _;const e=H;return u(),g("div",we,[a[1]||(a[1]=l("div",{class:"text-xl font-medium"},"自定义链接",-1)),l("div",Ae,[a[0]||(a[0]=l("div",{class:"w-[86px] text-right"},"自定义链接",-1)),l("div",ke,[d(e,{class:"max-w-[320px]","model-value":(_=n.modelValue.query)==null?void 0:_.url,placeholder:"请输入链接地址",onInput:y},null,8,["model-value"])])]),a[2]||(a[2]=l("div",{class:"form-tips ml-[101px] max-w-[320px]"}," 请填写完整的带有“https://”或“http://”的链接地址，链接的域名必须在微信公众平台设置业务域名 ",-1))])}}}),be={class:"mini-program h-[530px]"},Ge={class:"flex flex-wrap items-center mt-4"},He={class:"ml-4 flex-1 min-w-[100px]"},Ce={class:"flex flex-wrap items-center mt-4"},Le={class:"ml-4 flex-1 min-w-[100px]"},Te={class:"flex flex-wrap items-center mt-4"},Re={class:"ml-4 flex-1 min-w-[100px]"},$e={class:"flex flex-wrap items-center mt-4"},qe={class:"ml-4 flex-1 min-w-[100px]"},Me=w({__name:"mini-program",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:S}){const c=n,y=S,i=(a,e)=>{y("update:modelValue",{...c.modelValue,name:"小程序跳转",query:{...c.modelValue.query,[a]:e},type:t.MINI_PROGRAM})};return k(()=>c.modelValue,a=>{var e;(e=a.query)!=null&&e.env_version||i("env_version","release")},{immediate:!0}),(a,e)=>{var r,f,v,m;const _=H,s=ae,p=te;return u(),g("div",be,[e[11]||(e[11]=l("div",{class:"text-xl font-medium"},"跳转小程序",-1)),l("div",Ge,[e[4]||(e[4]=l("div",{class:"w-[86px] text-right"},"小程序APPID",-1)),l("div",He,[d(_,{class:"max-w-[320px]","model-value":(r=n.modelValue.query)==null?void 0:r.appId,placeholder:"请输入小程序appId",onInput:e[0]||(e[0]=P=>i("appId",P))},null,8,["model-value"])])]),l("div",Ce,[e[5]||(e[5]=l("div",{class:"w-[86px] text-right"},"小程序路径",-1)),l("div",Le,[d(_,{class:"max-w-[320px]","model-value":(f=n.modelValue.query)==null?void 0:f.path,placeholder:"请输入小程序路径链接地址",onInput:e[1]||(e[1]=P=>i("path",P))},null,8,["model-value"])])]),l("div",Te,[e[6]||(e[6]=l("div",{class:"w-[86px] text-right"},"传递参数",-1)),l("div",Re,[d(_,{class:"max-w-[320px]","model-value":(v=n.modelValue.query)==null?void 0:v.query,placeholder:"请输入小程序跳转参数(选填)",onInput:e[2]||(e[2]=P=>i("query",P))},null,8,["model-value"])])]),e[12]||(e[12]=l("div",{class:"form-tips ml-[100px] max-w-[320px]"},[l("div",null,"示例：id=2&ustm=jiny&name=234"),l("div",{class:"text-error"}," 注意：不允许输入中文、特殊字符等。如果出现对不起，当前页面无法访问，大概率是跳转参数的问题！！ ")],-1)),l("div",$e,[e[10]||(e[10]=l("div",{class:"w-[86px] text-right"},"小程序版本",-1)),l("div",qe,[d(p,{"model-value":(m=n.modelValue.query)==null?void 0:m.env_version,onChange:e[3]||(e[3]=P=>i("env_version",P))},{default:x(()=>[d(s,{value:"release"},{default:x(()=>e[7]||(e[7]=[T("正式版")])),_:1}),d(s,{value:"trial"},{default:x(()=>e[8]||(e[8]=[T("体验版")])),_:1}),d(s,{value:"develop"},{default:x(()=>e[9]||(e[9]=[T("开发版")])),_:1})]),_:1},8,["model-value"])])]),e[13]||(e[13]=l("div",null,[l("div",{class:"form-tips ml-[100px] max-w-[320px]"},[l("div",{class:"mt-4"}," 1. 小程序APPID和小程序路径链接地址，小程序路径链接地址请填写小程序的页面路径，如：pages/index/index "),l("div",{class:"mt-2"},[l("span",null,"2. 如果是H5(浏览器)中需要跳转到小程序，则需要以下配置--->"),l("a",{href:"https://mp.weixin.qq.com/",class:"text-primary",target:"_blank",rel:"nofollow"}," 小程序管理后台 -> 设置 -> 隐私与安全 -> 明文 scheme 拉起此小程序 （点击跳转去配置） ")])])],-1))])}}}),Ne={class:"shop-pages h-[530px]"},Ue={class:"link-list flex flex-wrap"},Ke=["onClick"],je=w({__name:"shop-pages",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:S}){const c=S,y=A([{path:"/pages/index/index",name:"商城首页",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/news/news",name:"文章资讯",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/user/user",name:"个人中心",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/collection/collection",name:"我的收藏",type:t.SHOP_PAGES},{path:"/pages/customer_service/customer_service",name:"联系客服",type:t.SHOP_PAGES},{path:"/pages/user_set/user_set",name:"个人设置",type:t.SHOP_PAGES},{path:"/pages/as_us/as_us",name:"关于我们",type:t.SHOP_PAGES},{path:"/pages/user_data/user_data",name:"个人资料",type:t.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"隐私政策",query:{type:"privacy"},type:t.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"服务协议",query:{type:"service"},type:t.SHOP_PAGES},{path:"/pages/search/search",name:"搜索",type:t.SHOP_PAGES},{path:"/packages/pages/user_wallet/user_wallet",name:"我的钱包",type:t.SHOP_PAGES},{path:"/packages/pages/staff_center/staff_center",name:"服务人员中心",type:t.SHOP_PAGES},{path:"/packages/pages/admin_dashboard/admin_dashboard",name:"管理员看板",type:t.SHOP_PAGES},{path:"/packages/pages/staff_list/staff_list",name:"人员列表",type:t.SHOP_PAGES},{path:"/packages/pages/staff_favorite/staff_favorite",name:"收藏人员",type:t.SHOP_PAGES},{path:"/pages/order/order",name:"我的订单",type:t.SHOP_PAGES},{path:"/packages/pages/schedule_calendar/schedule_calendar",name:"档期查询",type:t.SHOP_PAGES},{path:"/packages/pages/waitlist/waitlist",name:"候补列表",type:t.SHOP_PAGES},{path:"/packages/pages/cart/cart",name:"购物车",type:t.SHOP_PAGES},{path:"/packages/pages/cart_plan/cart_plan",name:"婚礼方案",type:t.SHOP_PAGES},{path:"/pages/aftersale/index",name:"售后列表",type:t.SHOP_PAGES},{path:"/pages/aftersale/ticket",name:"我的工单",type:t.SHOP_PAGES},{path:"/pages/review/list",name:"我的评价",type:t.SHOP_PAGES},{path:"/pages/review/publish",name:"发布评价",type:t.SHOP_PAGES},{path:"/pages/dynamic/dynamic",name:"动态广场",type:t.SHOP_PAGES},{path:"/pages/dynamic_publish/dynamic_publish",name:"发布动态",type:t.SHOP_PAGES},{path:"/pages/coupon/list",name:"我的优惠券",type:t.SHOP_PAGES},{path:"/pages/coupon/center",name:"领券中心",type:t.SHOP_PAGES},{path:"/pages/notification/index",name:"消息通知",type:t.SHOP_PAGES},{path:"/packages/pages/recharge/recharge",name:"充值中心",type:t.SHOP_PAGES},{path:"/packages/pages/recharge_record/recharge_record",name:"充值记录",type:t.SHOP_PAGES}]),i=a=>{c("update:modelValue",a)};return(a,e)=>(u(),g("div",Ne,[l("div",Ue,[(u(!0),g(R,null,$(o(y),(_,s)=>(u(),g("div",{class:me(["link-item border border-br px-5 py-[5px] rounded-[3px] cursor-pointer mr-[10px] mb-[10px]",{"border-primary text-primary":n.modelValue.path==_.path&&n.modelValue.name==_.name}]),key:s,onClick:p=>i(_)},G(_.name),11,Ke))),128))])]))}}),Be={class:"link flex"},De={class:"flex-1 ml-4 link-content"},Fe=w({__name:"index",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(n,{emit:S}){const c=n,y=S,i=A([{name:"商城页面",type:E.SHOP_PAGES,children:[{name:"基础页面",type:t.SHOP_PAGES,link:{}}]},{name:"应用工具",type:E.APPTOOL,children:[{name:"文章资讯",type:t.ARTICLE_LIST,link:{}}]},{name:"其他",type:E.OTHER_LINK,children:[{name:"自定义链接",type:t.CUSTOM_LINK,link:{}},{name:"跳转小程序",type:t.MINI_PROGRAM,link:{}}]}]),a=M({get(){let s={};return i.value.forEach(p=>{const r=p.children.find(f=>f.type==e.value);r&&(s=r)}),s.link},set(s){i.value.forEach(p=>{p.children.forEach(r=>{r.type==e.value&&(r.link=s)})})}}),e=A(t.SHOP_PAGES),_=s=>{e.value=s};return k(a,s=>{s.type&&y("update:modelValue",s)},{deep:!0}),k(()=>c.modelValue,s=>{e.value=s.type,a.value=s},{immediate:!0}),(s,p)=>{const r=ne,f=se,v=le;return u(),g("div",Be,[d(v,{"default-active":o(e),class:"flex-none w-[180px] min-h-[350px] link-menu","default-openeds":[o(E).SHOP_PAGES,o(E).APPTOOL,o(E).OTHER_LINK],onSelect:_},{default:x(()=>[(u(!0),g(R,null,$(o(i),(m,P)=>(u(),O(f,{index:m.type,key:P},{title:x(()=>[l("span",null,G(m.name),1)]),default:x(()=>[(u(!0),g(R,null,$(m.children,(I,C)=>(u(),O(r,{index:I.type,key:C,style:{"min-width":"160px"}},{default:x(()=>[l("span",null,G(I.name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active","default-openeds"]),l("div",De,[o(t).SHOP_PAGES==o(e)?(u(),O(je,{key:0,modelValue:o(a),"onUpdate:modelValue":p[0]||(p[0]=m=>V(a)?a.value=m:null)},null,8,["modelValue"])):b("",!0),o(t).ARTICLE_LIST==o(e)?(u(),O(Ve,{key:1,modelValue:o(a),"onUpdate:modelValue":p[1]||(p[1]=m=>V(a)?a.value=m:null)},null,8,["modelValue"])):b("",!0),o(t).CUSTOM_LINK==o(e)?(u(),O(Ie,{key:2,modelValue:o(a),"onUpdate:modelValue":p[2]||(p[2]=m=>V(a)?a.value=m:null)},null,8,["modelValue"])):b("",!0),o(t).MINI_PROGRAM==o(e)?(u(),O(Me,{key:3,modelValue:o(a),"onUpdate:modelValue":p[3]||(p[3]=m=>V(a)?a.value=m:null)},null,8,["modelValue"])):b("",!0)])])}}}),ze=q(Fe,[["__scopeId","data-v-c8ad0dfa"]]),Ze=w({__name:"picker",props:{modelValue:{type:Object},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:S}){const c=n,y=S,i=re(),a=A({path:"",type:t.SHOP_PAGES}),e=()=>{y("update:modelValue",a.value)},_=M(()=>{var s,p,r;switch((s=c.modelValue)==null?void 0:s.type){case t.SHOP_PAGES:return c.modelValue.name;case t.ARTICLE_LIST:return c.modelValue.name;case t.CUSTOM_LINK:return(p=c.modelValue.query)==null?void 0:p.url;default:return(r=c.modelValue)==null?void 0:r.name}});return k(()=>c.modelValue,s=>{s!=null&&s.type&&(a.value=s)},{immediate:!0}),(s,p)=>{const r=oe,f=H;return u(),g("div",{class:"link-picker flex-1",onClick:p[2]||(p[2]=v=>{var m;return!n.disabled&&((m=o(i))==null?void 0:m.open())})},[d(f,{"model-value":o(_),placeholder:"请选择链接",readonly:"",disabled:n.disabled},{suffix:x(()=>{var v;return[(v=n.modelValue)!=null&&v.path?(u(),O(r,{key:1,name:"el-icon-Close",onClick:p[0]||(p[0]=ue(m=>!n.disabled&&y("update:modelValue",{}),["stop"]))})):(u(),O(r,{key:0,name:"el-icon-ArrowRight"}))]}),_:1},8,["model-value","disabled"]),d(ce,{ref_key:"popupRef",ref:i,width:"1050px",title:"链接选择",onConfirm:e},{default:x(()=>[d(ze,{modelValue:o(a),"onUpdate:modelValue":p[1]||(p[1]=v=>V(a)?a.value=v:null)},null,8,["modelValue"])]),_:1},512)])}}}),nt=q(Ze,[["__scopeId","data-v-c281815e"]]);export{nt as _};
