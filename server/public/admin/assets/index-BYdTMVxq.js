import{D as v,B as u,g as w,H as b,E as i}from"./element-plus-ChK2e5qA.js";import{i as g,j as C}from"./dynamic-CEF9d1CA.js";import{d as n,r as x,l as E,c as y,o as h,U as r,L as a,a as m}from"./@vue-ygbFPFRc.js";import{d as V}from"./index-D465kfFn.js";import"./@element-plus-C4Lf8veM.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";const B={class:"dynamic-config-page"},R=n({name:"dynamicConfig"}),S=n({...R,setup(k){const e=x({comment_review_enabled:0}),l=async()=>{try{const t=await g();e.value.comment_review_enabled=t.enabled}catch(t){console.error("获取配置失败",t)}},s=async()=>{try{await C({enabled:e.value.comment_review_enabled}),i.success("设置成功")}catch{i.error("设置失败"),e.value.comment_review_enabled=e.value.comment_review_enabled===1?0:1}};return E(()=>{l()}),(t,o)=>{const p=w,c=u,d=v,_=b;return h(),y("div",B,[r(_,{class:"!border-none",shadow:"never"},{default:a(()=>[o[2]||(o[2]=m("div",{class:"text-lg font-medium mb-4"},"动态配置",-1)),r(d,{ref:"formRef",model:e.value,"label-width":"120px"},{default:a(()=>[r(c,{label:"评论审核"},{default:a(()=>[m("div",null,[r(p,{modelValue:e.value.comment_review_enabled,"onUpdate:modelValue":o[0]||(o[0]=f=>e.value.comment_review_enabled=f),"active-value":1,"inactive-value":0,onChange:s},null,8,["modelValue"]),o[1]||(o[1]=m("div",{class:"form-tips mt-2"}," 开启后，用户发表的评论需要管理员审核通过后才能显示 ",-1))])]),_:1})]),_:1},8,["model"])]),_:1})])}}}),le=V(S,[["__scopeId","data-v-4acf7e97"]]);export{le as default};
