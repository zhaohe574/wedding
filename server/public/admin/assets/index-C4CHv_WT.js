import{$ as M,H as P,m as V,l as B,L as F,M as U,N as O,i as z,O as D}from"./element-plus-ChK2e5qA.js";import{a as S}from"./message-DXM0L22Z.js";import{u as q}from"./usePaging-B2jDzebD.js";import{g as H}from"./index-D465kfFn.js";import{d as y,r as K,a0 as N,a1 as $,ah as j,at as G,c as g,o as n,U as t,L as e,M as v,u as i,i as I,T as J,ab as Q,K as p,R as d}from"./@vue-ygbFPFRc.js";import"./@element-plus-C4Lf8veM.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";const W=y({name:"notice"}),Pt=y({...W,setup(X){let c;(r=>{r[r.USER=1]="USER",r[r.PLATFORM=2]="PLATFORM"})(c||(c={}));const l=K(1),T=[{name:"通知用户",type:1},{name:"通知平台",type:2}],w=N({recipient:l}),{pager:u,getLists:_}=q({fetchFun:S,params:w});return $(()=>{_()}),_(),(r,o)=>{const h=M,f=P,k=B,E=V,s=U,b=O,L=j("router-link"),C=z,R=F,x=G("perms"),A=D;return n(),g("div",null,[t(f,{class:"!border-none",shadow:"never"},{default:e(()=>[t(h,{type:"warning",title:"温馨提示：平台配置在各个场景下的通知发送方式和内容模板",closable:!1,"show-icon":""})]),_:1}),t(f,{class:"!border-none mt-4",shadow:"never"},{default:e(()=>[t(E,{modelValue:i(l),"onUpdate:modelValue":o[0]||(o[0]=a=>I(l)?l.value=a:null),onTabChange:i(_)},{default:e(()=>[(n(),g(J,null,Q(T,(a,m)=>t(k,{key:m,label:a.name,name:a.type,lazy:""},null,8,["label","name"])),64))]),_:1},8,["modelValue","onTabChange"]),v((n(),p(R,{size:"large",data:i(u).lists},{default:e(()=>[t(s,{label:"通知场景",prop:"scene_name","min-width":"120"}),t(s,{label:"通知类型",prop:"type_desc","min-width":"160"}),t(s,{label:"短信通知","min-width":"80"},{default:e(({row:a})=>{var m;return[((m=a.sms_notice)==null?void 0:m.status)==1?(n(),p(b,{key:0},{default:e(()=>o[1]||(o[1]=[d("开启")])),_:1})):(n(),p(b,{key:1,type:"danger"},{default:e(()=>o[2]||(o[2]=[d("关闭")])),_:1}))]}),_:1}),t(s,{label:"操作","min-width":"80",fixed:"right"},{default:e(({row:a})=>[v((n(),p(C,{type:"primary",link:""},{default:e(()=>[t(L,{to:{path:i(H)("notice.notice/set"),query:{id:a.id}}},{default:e(()=>o[3]||(o[3]=[d(" 设置 ")])),_:2},1032,["to"])]),_:2},1024)),[[x,["notice.notice/set"]]])]),_:1})]),_:1},8,["data"])),[[A,i(u).loading]])]),_:1})])}}});export{Pt as default};
