import{$ as R,s as $,i as j}from"./element-plus-ChK2e5qA.js";import{_ as N}from"./index-DlQH-CEM.js";import{_ as S}from"./picker-mSew3b7I.js";import{_ as A}from"./picker-COC_GcuI.js";import{P as D}from"./index-n-Jqn6Y-.js";import{f as _}from"./index-D465kfFn.js";import{e as f}from"./lodash-es-C1lm3Iro.js";import{d as L,s as O,K as g,o as r,L as o,U as n,a as l,c as h,T as P,ab as T,R as F}from"./@vue-ygbFPFRc.js";const K={class:"flex flex-wrap p-4"},q={class:"bg-fill-light w-full p-4"},z={class:"flex items-center"},G={class:"mt-4 ml-4"},Z=L({__name:"content",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},height:{type:String,default:"170px"}},emits:["update:content"],setup(d,{expose:x,emit:k}){const u=k,i=O(),a=d,y=()=>{var e;(e=i.value)==null||e.open()},b=()=>{var e;(e=i.value)==null||e.close()},w=()=>{var e;if(((e=a.content.data)==null?void 0:e.length)<10){const t=f(a.content);t.data.push({image:"",name:"",link:{}}),u("update:content",t)}else _.msgError("最多添加10张图片")},V=e=>{var s;if(((s=a.content.data)==null?void 0:s.length)<=1)return _.msgError("最少保留一个轮播图");const t=f(a.content);t.data.splice(e,1),u("update:content",t)};return x({open:y}),(e,t)=>{const s=R,v=A,C=S,E=N,B=j,U=$;return r(),g(D,{ref_key:"popupRef",ref:i,title:"轮播图设置",async:!0,width:"980px",onConfirm:b},{default:o(()=>[n(s,{title:"最多可添加10张，建议图片尺寸750px*440px",type:"warning"}),n(U,{height:"400px",class:"mt-4"},{default:o(()=>[l("div",K,[(r(!0),h(P,null,T(d.content.data,(c,m)=>(r(),h("div",{key:m,class:"w-[400px] mr-4 mb-4"},[(r(),g(E,{key:m,onClose:p=>V(m),class:"w-full"},{default:o(()=>[l("div",q,[l("div",z,[n(v,{width:"122px",height:"122px",modelValue:c.image,"onUpdate:modelValue":p=>c.image=p,"upload-class":"bg-body","exclude-domain":""},{upload:o(()=>t[0]||(t[0]=[l("div",{class:"w-[122px] h-[122px] flex justify-center items-center"}," 轮播图 ",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),n(C,{modelValue:c.link,"onUpdate:modelValue":p=>c.link=p},null,8,["modelValue","onUpdate:modelValue"])])])]),_:2},1032,["onClose"]))]))),128))]),l("div",G,[n(B,{link:"",type:"primary",onClick:w},{default:o(()=>t[1]||(t[1]=[F("+ 添加轮播图")])),_:1})])]),_:1})]),_:1},512)}}});export{Z as _};
