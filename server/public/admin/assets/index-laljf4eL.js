import{G as je,H as Je,I as qe,m as Ke,l as Ye,i as Ae,d as Ge,C as He,J as We,K as Xe,L as Qe,M as Ze,g as el,O as ll,P as tl,V as al,N as sl,D as nl,B as ol,h as ul,R as dl,T as il,U as rl,W as pl,X as ml,a as be,E as C}from"./element-plus-ChK2e5qA.js";import{d as cl,r,a0 as h,l as fl,c as $,o as _,U as l,L as a,a as m,S as p,M as ne,R as n,u as bl,a9 as gl,T as q,ab as K,K as x,P as ge}from"./@vue-ygbFPFRc.js";import{A as _l}from"./@element-plus-C4Lf8veM.js";import{r as b,d as vl}from"./index-D465kfFn.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";function yl(o){return b.get({url:"/subscribe.subscribe/templateList",params:o})}function Vl(o){return b.post({url:"/subscribe.subscribe/addTemplate",data:o})}function wl(o){return b.post({url:"/subscribe.subscribe/editTemplate",data:o})}function kl(o){return b.post({url:"/subscribe.subscribe/deleteTemplate",data:{id:o}})}function Sl(o){return b.post({url:"/subscribe.subscribe/toggleTemplateStatus",data:{id:o}})}function Cl(){return b.get({url:"/subscribe.subscribe/getSceneOptions"})}function xl(o){return b.get({url:"/subscribe.subscribe/sceneList",params:o})}function Ul(o){return b.get({url:"/subscribe.subscribe/sceneDetail",params:{id:o}})}function Dl(o){return b.post({url:"/subscribe.subscribe/editScene",data:o})}function Tl(o){return b.post({url:"/subscribe.subscribe/toggleSceneStatus",data:{id:o}})}function El(o){return b.post({url:"/subscribe.subscribe/bindTemplate",data:o})}function Ll(o){return b.get({url:"/subscribe.subscribe/logList",params:o})}function hl(o){return b.get({url:"/subscribe.subscribe/logDetail",params:{id:o}})}function zl(o){return b.post({url:"/subscribe.subscribe/retryLog",data:{id:o}})}function Il(o){return b.get({url:"/subscribe.subscribe/getStatistics",params:o})}const Rl={class:"subscribe-container"},Ol={class:"stat-item"},Ml={class:"stat-value"},Nl={class:"stat-item"},$l={class:"stat-value"},Bl={class:"stat-item"},Fl={class:"stat-value"},Pl={class:"stat-item"},jl={class:"stat-value"},Jl={class:"toolbar"},ql={class:"pagination"},Kl={class:"toolbar"},Yl={class:"pagination"},Al={class:"content-pre"},Gl=cl({__name:"index",setup(o){const oe=r("template"),z=r({}),B=r([]),Y=r([]),A=r(!1),I=h({name:"",scene:""}),U=h({page:1,size:20,total:0}),ue=r([]),G=r(!1),de=r([]),H=r(!1),v=h({send_status:"",scene:"",dateRange:null}),D=h({page:1,size:20,total:0}),L=r(!1),ie=r(),W=r(!1),u=h({id:null,template_id:"",name:"",title:"",scene:"",keywords:"",status:1,sort:0,remark:""}),_e={template_id:[{required:!0,message:"请输入模板ID",trigger:"blur"}],name:[{required:!0,message:"请输入模板名称",trigger:"blur"}],scene:[{required:!0,message:"请选择使用场景",trigger:"change"}]},R=r(!1),ve=r(),X=r(!1),d=h({id:null,scene:"",name:"",description:"",trigger_event:"",data_mapping_text:"",page_path:"",is_auto:1,delay_seconds:0,status:1,sort:0}),O=r(!1),Q=r(!1),M=r(""),Z=r(null),ee=r(!1),f=r(null);fl(()=>{ye(),Ve(),w()});const ye=async()=>{const s=await Cl();B.value=s||[]},Ve=async()=>{const s=await Il();z.value=s||{}},w=async()=>{A.value=!0;try{const s=await yl({page_no:U.page,page_size:U.size,...I});Y.value=s.lists||[],U.total=s.count||0}finally{A.value=!1}},F=async()=>{G.value=!0;try{const s=await xl();ue.value=s.lists||[]}finally{G.value=!1}},T=async()=>{H.value=!0;try{const s={page_no:D.page,page_size:D.size};v.send_status!==""&&(s.send_status=v.send_status),v.scene&&(s.scene=v.scene),v.dateRange&&(s.start_date=v.dateRange[0],s.end_date=v.dateRange[1]);const e=await Ll(s);de.value=e.lists||[],D.total=e.count||0}finally{H.value=!1}},we=s=>{s==="template"?w():s==="scene"?F():s==="log"&&T()},ke=()=>{Object.assign(u,{id:null,template_id:"",name:"",title:"",scene:"",keywords:"",status:1,sort:0,remark:""}),L.value=!0},Se=s=>{Object.assign(u,s),L.value=!0},Ce=async s=>{await be.confirm("确定要删除该模板吗？","提示",{type:"warning"}),await kl(s.id),C.success("删除成功"),w()},xe=async s=>{await Sl(s.id),C.success("操作成功"),w()},Ue=async()=>{var s;await((s=ie.value)==null?void 0:s.validate()),W.value=!0;try{u.id?await wl(u):await Vl(u),C.success(u.id?"编辑成功":"添加成功"),L.value=!1,w()}finally{W.value=!1}},De=s=>{if(!s||typeof s!="object"||Object.keys(s).length===0)return"";try{return JSON.stringify(s,null,2)}catch{return""}},Te=s=>{if(!s||!s.trim())return{};try{const e=JSON.parse(s);return!e||typeof e!="object"?null:e}catch{return null}},Ee=async s=>{let e=s;try{const k=await Ul(s.id);k&&k.id&&(e=k)}catch{}Object.assign(d,e,{data_mapping_text:De(e.data_mapping)}),R.value=!0},Le=async s=>{await Tl(s.id),C.success("操作成功"),F()},he=async()=>{const s=Te(d.data_mapping_text);if(s===null){C.warning("数据映射JSON格式不正确");return}X.value=!0;try{const e={...d,data_mapping:s};delete e.data_mapping_text,await Dl(e),C.success("配置成功"),R.value=!1,F()}finally{X.value=!1}},ze=s=>{Z.value=s,M.value=s.template_id||"",O.value=!0},Ie=async()=>{if(!M.value){C.warning("请选择模板");return}Q.value=!0;try{await El({scene_id:Z.value.id,template_id:M.value}),C.success("绑定成功"),O.value=!1,F()}finally{Q.value=!1}},Re=async s=>{const e=await hl(s.id);f.value=e,ee.value=!0},Oe=async s=>{await be.confirm("确定要重试发送该消息吗？","提示",{type:"warning"}),await zl(s.id),C.success("重试成功"),T()},re=s=>({0:"info",1:"success",2:"danger"})[s]||"info";return(s,e)=>{const k=Je,P=je,Me=qe,Ne=Ge,y=Ae,V=He,E=Xe,N=We,i=Ze,j=el,le=Qe,pe=tl,te=Ye,$e=al,me=sl,Be=Ke,c=ol,ce=ul,ae=nl,J=dl,fe=rl,Fe=il,g=ml,Pe=pl,se=ll;return _(),$("div",Rl,[l(Me,{gutter:16,class:"mb-4"},{default:a(()=>[l(P,{span:6},{default:a(()=>[l(k,{shadow:"hover",class:"stat-card"},{default:a(()=>[m("div",Ol,[m("div",Ml,p(z.value.total||0),1),e[35]||(e[35]=m("div",{class:"stat-label"},"消息总数",-1))])]),_:1})]),_:1}),l(P,{span:6},{default:a(()=>[l(k,{shadow:"hover",class:"stat-card success"},{default:a(()=>[m("div",Nl,[m("div",$l,p(z.value.success||0),1),e[36]||(e[36]=m("div",{class:"stat-label"},"发送成功",-1))])]),_:1})]),_:1}),l(P,{span:6},{default:a(()=>[l(k,{shadow:"hover",class:"stat-card danger"},{default:a(()=>[m("div",Bl,[m("div",Fl,p(z.value.failed||0),1),e[37]||(e[37]=m("div",{class:"stat-label"},"发送失败",-1))])]),_:1})]),_:1}),l(P,{span:6},{default:a(()=>[l(k,{shadow:"hover",class:"stat-card info"},{default:a(()=>[m("div",Pl,[m("div",jl,p(z.value.success_rate||0)+"%",1),e[38]||(e[38]=m("div",{class:"stat-label"},"成功率",-1))])]),_:1})]),_:1})]),_:1}),l(k,null,{default:a(()=>[l(Be,{modelValue:oe.value,"onUpdate:modelValue":e[9]||(e[9]=t=>oe.value=t),onTabChange:we},{default:a(()=>[l(te,{label:"消息模板",name:"template"},{default:a(()=>[m("div",Jl,[l(y,{type:"primary",onClick:ke},{default:a(()=>[l(Ne,null,{default:a(()=>[l(bl(_l))]),_:1}),e[39]||(e[39]=n(" 添加模板 "))]),_:1}),l(V,{modelValue:I.name,"onUpdate:modelValue":e[0]||(e[0]=t=>I.name=t),placeholder:"搜索模板名称",style:{width:"200px","margin-left":"16px"},clearable:"",onClear:w,onKeyup:gl(w,["enter"])},null,8,["modelValue"]),l(N,{modelValue:I.scene,"onUpdate:modelValue":e[1]||(e[1]=t=>I.scene=t),placeholder:"选择场景",style:{width:"160px","margin-left":"8px"},clearable:"",onChange:w},{default:a(()=>[(_(!0),$(q,null,K(B.value,t=>(_(),x(E,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),ne((_(),x(le,{data:Y.value,border:""},{default:a(()=>[l(i,{prop:"name",label:"模板名称","min-width":"150"}),l(i,{prop:"template_id",label:"模板ID","min-width":"200","show-overflow-tooltip":""}),l(i,{prop:"scene_desc",label:"使用场景",width:"140"}),l(i,{prop:"status",label:"状态",width:"100",align:"center"},{default:a(({row:t})=>[l(j,{"model-value":t.status===1,onChange:S=>xe(t)},null,8,["model-value","onChange"])]),_:1}),l(i,{prop:"sort",label:"排序",width:"80",align:"center"}),l(i,{prop:"create_time",label:"创建时间",width:"170"}),l(i,{label:"操作",width:"150",fixed:"right"},{default:a(({row:t})=>[l(y,{link:"",type:"primary",onClick:S=>Se(t)},{default:a(()=>e[40]||(e[40]=[n("编辑")])),_:2},1032,["onClick"]),l(y,{link:"",type:"danger",onClick:S=>Ce(t)},{default:a(()=>e[41]||(e[41]=[n("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[se,A.value]]),m("div",ql,[l(pe,{"current-page":U.page,"onUpdate:currentPage":e[2]||(e[2]=t=>U.page=t),"page-size":U.size,"onUpdate:pageSize":e[3]||(e[3]=t=>U.size=t),total:U.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:w,onCurrentChange:w},null,8,["current-page","page-size","total"])])]),_:1}),l(te,{label:"场景配置",name:"scene"},{default:a(()=>[ne((_(),x(le,{data:ue.value,border:""},{default:a(()=>[l(i,{prop:"name",label:"场景名称","min-width":"140"}),l(i,{prop:"scene",label:"场景标识",width:"150"}),l(i,{prop:"template_name",label:"关联模板",width:"150"}),l(i,{prop:"trigger_event",label:"触发事件",width:"140"}),l(i,{prop:"is_auto_desc",label:"发送方式",width:"100",align:"center"}),l(i,{prop:"status",label:"状态",width:"100",align:"center"},{default:a(({row:t})=>[l(j,{"model-value":t.status===1,onChange:S=>Le(t)},null,8,["model-value","onChange"])]),_:1}),l(i,{label:"操作",width:"150",fixed:"right"},{default:a(({row:t})=>[l(y,{link:"",type:"primary",onClick:S=>Ee(t)},{default:a(()=>e[42]||(e[42]=[n("配置")])),_:2},1032,["onClick"]),l(y,{link:"",type:"success",onClick:S=>ze(t)},{default:a(()=>e[43]||(e[43]=[n("绑定模板")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[se,G.value]])]),_:1}),l(te,{label:"发送记录",name:"log"},{default:a(()=>[m("div",Kl,[l(N,{modelValue:v.send_status,"onUpdate:modelValue":e[4]||(e[4]=t=>v.send_status=t),placeholder:"发送状态",style:{width:"120px"},clearable:"",onChange:T},{default:a(()=>[l(E,{label:"待发送",value:0}),l(E,{label:"发送成功",value:1}),l(E,{label:"发送失败",value:2})]),_:1},8,["modelValue"]),l(N,{modelValue:v.scene,"onUpdate:modelValue":e[5]||(e[5]=t=>v.scene=t),placeholder:"选择场景",style:{width:"160px","margin-left":"8px"},clearable:"",onChange:T},{default:a(()=>[(_(!0),$(q,null,K(B.value,t=>(_(),x(E,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l($e,{modelValue:v.dateRange,"onUpdate:modelValue":e[6]||(e[6]=t=>v.dateRange=t),type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD",style:{"margin-left":"8px"},onChange:T},null,8,["modelValue"])]),ne((_(),x(le,{data:de.value,border:""},{default:a(()=>[l(i,{prop:"id",label:"ID",width:"80"}),l(i,{label:"用户",width:"140"},{default:a(({row:t})=>{var S;return[n(p(((S=t.user_info)==null?void 0:S.nickname)||"未知用户"),1)]}),_:1}),l(i,{prop:"scene_desc",label:"场景",width:"140"}),l(i,{prop:"business_type",label:"业务类型",width:"100"}),l(i,{prop:"send_status_desc",label:"发送状态",width:"100",align:"center"},{default:a(({row:t})=>[l(me,{type:re(t.send_status)},{default:a(()=>[n(p(t.send_status_desc),1)]),_:2},1032,["type"])]),_:1}),l(i,{prop:"error_msg",label:"错误信息","min-width":"150","show-overflow-tooltip":""}),l(i,{prop:"create_time",label:"创建时间",width:"170"}),l(i,{label:"操作",width:"120",fixed:"right"},{default:a(({row:t})=>[l(y,{link:"",type:"primary",onClick:S=>Re(t)},{default:a(()=>e[44]||(e[44]=[n("详情")])),_:2},1032,["onClick"]),t.send_status===2?(_(),x(y,{key:0,link:"",type:"warning",onClick:S=>Oe(t)},{default:a(()=>e[45]||(e[45]=[n("重试")])),_:2},1032,["onClick"])):ge("",!0)]),_:1})]),_:1},8,["data"])),[[se,H.value]]),m("div",Yl,[l(pe,{"current-page":D.page,"onUpdate:currentPage":e[7]||(e[7]=t=>D.page=t),"page-size":D.size,"onUpdate:pageSize":e[8]||(e[8]=t=>D.size=t),total:D.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:T,onCurrentChange:T},null,8,["current-page","page-size","total"])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(J,{modelValue:L.value,"onUpdate:modelValue":e[19]||(e[19]=t=>L.value=t),title:u.id?"编辑模板":"添加模板",width:"600px"},{footer:a(()=>[l(y,{onClick:e[18]||(e[18]=t=>L.value=!1)},{default:a(()=>e[46]||(e[46]=[n("取消")])),_:1}),l(y,{type:"primary",onClick:Ue,loading:W.value},{default:a(()=>e[47]||(e[47]=[n("确定")])),_:1},8,["loading"])]),default:a(()=>[l(ae,{ref_key:"templateFormRef",ref:ie,model:u,rules:_e,"label-width":"100px"},{default:a(()=>[l(c,{label:"模板ID",prop:"template_id"},{default:a(()=>[l(V,{modelValue:u.template_id,"onUpdate:modelValue":e[10]||(e[10]=t=>u.template_id=t),placeholder:"微信小程序模板ID"},null,8,["modelValue"])]),_:1}),l(c,{label:"模板名称",prop:"name"},{default:a(()=>[l(V,{modelValue:u.name,"onUpdate:modelValue":e[11]||(e[11]=t=>u.name=t),placeholder:"模板名称"},null,8,["modelValue"])]),_:1}),l(c,{label:"模板标题",prop:"title"},{default:a(()=>[l(V,{modelValue:u.title,"onUpdate:modelValue":e[12]||(e[12]=t=>u.title=t),placeholder:"模板标题（可选）"},null,8,["modelValue"])]),_:1}),l(c,{label:"使用场景",prop:"scene"},{default:a(()=>[l(N,{modelValue:u.scene,"onUpdate:modelValue":e[13]||(e[13]=t=>u.scene=t),placeholder:"选择使用场景",style:{width:"100%"}},{default:a(()=>[(_(!0),$(q,null,K(B.value,t=>(_(),x(E,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(c,{label:"关键词",prop:"keywords"},{default:a(()=>[l(V,{modelValue:u.keywords,"onUpdate:modelValue":e[14]||(e[14]=t=>u.keywords=t),placeholder:"关键词，逗号分隔"},null,8,["modelValue"])]),_:1}),l(c,{label:"状态",prop:"status"},{default:a(()=>[l(j,{modelValue:u.status,"onUpdate:modelValue":e[15]||(e[15]=t=>u.status=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),l(c,{label:"排序",prop:"sort"},{default:a(()=>[l(ce,{modelValue:u.sort,"onUpdate:modelValue":e[16]||(e[16]=t=>u.sort=t),min:0,max:9999},null,8,["modelValue"])]),_:1}),l(c,{label:"备注",prop:"remark"},{default:a(()=>[l(V,{modelValue:u.remark,"onUpdate:modelValue":e[17]||(e[17]=t=>u.remark=t),type:"textarea",rows:3,placeholder:"备注说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(J,{modelValue:R.value,"onUpdate:modelValue":e[30]||(e[30]=t=>R.value=t),title:"场景配置",width:"600px"},{footer:a(()=>[l(y,{onClick:e[29]||(e[29]=t=>R.value=!1)},{default:a(()=>e[52]||(e[52]=[n("取消")])),_:1}),l(y,{type:"primary",onClick:he,loading:X.value},{default:a(()=>e[53]||(e[53]=[n("确定")])),_:1},8,["loading"])]),default:a(()=>[l(ae,{ref_key:"sceneFormRef",ref:ve,model:d,"label-width":"100px"},{default:a(()=>[l(c,{label:"场景标识"},{default:a(()=>[l(V,{modelValue:d.scene,"onUpdate:modelValue":e[20]||(e[20]=t=>d.scene=t),disabled:""},null,8,["modelValue"])]),_:1}),l(c,{label:"场景名称",prop:"name"},{default:a(()=>[l(V,{modelValue:d.name,"onUpdate:modelValue":e[21]||(e[21]=t=>d.name=t),placeholder:"场景名称"},null,8,["modelValue"])]),_:1}),l(c,{label:"场景描述",prop:"description"},{default:a(()=>[l(V,{modelValue:d.description,"onUpdate:modelValue":e[22]||(e[22]=t=>d.description=t),type:"textarea",rows:2,placeholder:"场景描述"},null,8,["modelValue"])]),_:1}),l(c,{label:"触发事件",prop:"trigger_event"},{default:a(()=>[l(V,{modelValue:d.trigger_event,"onUpdate:modelValue":e[23]||(e[23]=t=>d.trigger_event=t),placeholder:"触发事件名称"},null,8,["modelValue"])]),_:1}),l(c,{label:"数据映射"},{default:a(()=>[l(V,{modelValue:d.data_mapping_text,"onUpdate:modelValue":e[24]||(e[24]=t=>d.data_mapping_text=t),type:"textarea",rows:6,placeholder:'请输入JSON对象，例如 {"thing1":"staff_name"}'},null,8,["modelValue"]),e[48]||(e[48]=m("div",{class:"form-tip"},' 示例：{"thing1":"staff_name","time2":"schedule_date","thing3":"time_slot_desc"} ',-1))]),_:1}),l(c,{label:"跳转页面",prop:"page_path"},{default:a(()=>[l(V,{modelValue:d.page_path,"onUpdate:modelValue":e[25]||(e[25]=t=>d.page_path=t),placeholder:"小程序跳转页面路径"},null,8,["modelValue"])]),_:1}),l(c,{label:"发送方式",prop:"is_auto"},{default:a(()=>[l(Fe,{modelValue:d.is_auto,"onUpdate:modelValue":e[26]||(e[26]=t=>d.is_auto=t)},{default:a(()=>[l(fe,{label:1},{default:a(()=>e[49]||(e[49]=[n("自动发送")])),_:1}),l(fe,{label:0},{default:a(()=>e[50]||(e[50]=[n("手动触发")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(c,{label:"延迟发送",prop:"delay_seconds"},{default:a(()=>[l(ce,{modelValue:d.delay_seconds,"onUpdate:modelValue":e[27]||(e[27]=t=>d.delay_seconds=t),min:0,max:86400},null,8,["modelValue"]),e[51]||(e[51]=m("span",{class:"ml-2"},"秒",-1))]),_:1}),l(c,{label:"状态",prop:"status"},{default:a(()=>[l(j,{modelValue:d.status,"onUpdate:modelValue":e[28]||(e[28]=t=>d.status=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(J,{modelValue:O.value,"onUpdate:modelValue":e[33]||(e[33]=t=>O.value=t),title:"绑定模板",width:"500px"},{footer:a(()=>[l(y,{onClick:e[32]||(e[32]=t=>O.value=!1)},{default:a(()=>e[54]||(e[54]=[n("取消")])),_:1}),l(y,{type:"primary",onClick:Ie,loading:Q.value},{default:a(()=>e[55]||(e[55]=[n("确定")])),_:1},8,["loading"])]),default:a(()=>[l(ae,{"label-width":"100px"},{default:a(()=>[l(c,{label:"场景名称"},{default:a(()=>{var t;return[m("span",null,p((t=Z.value)==null?void 0:t.name),1)]}),_:1}),l(c,{label:"选择模板"},{default:a(()=>[l(N,{modelValue:M.value,"onUpdate:modelValue":e[31]||(e[31]=t=>M.value=t),placeholder:"选择模板",style:{width:"100%"}},{default:a(()=>[(_(!0),$(q,null,K(Y.value,t=>(_(),x(E,{key:t.template_id,label:t.name,value:t.template_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(J,{modelValue:ee.value,"onUpdate:modelValue":e[34]||(e[34]=t=>ee.value=t),title:"发送记录详情",width:"600px"},{default:a(()=>[f.value?(_(),x(Pe,{key:0,column:2,border:""},{default:a(()=>[l(g,{label:"记录ID"},{default:a(()=>[n(p(f.value.id),1)]),_:1}),l(g,{label:"用户ID"},{default:a(()=>[n(p(f.value.user_id),1)]),_:1}),l(g,{label:"OpenID"},{default:a(()=>[n(p(f.value.openid),1)]),_:1}),l(g,{label:"模板ID"},{default:a(()=>[n(p(f.value.template_id),1)]),_:1}),l(g,{label:"场景"},{default:a(()=>[n(p(f.value.scene_desc),1)]),_:1}),l(g,{label:"业务类型"},{default:a(()=>[n(p(f.value.business_type),1)]),_:1}),l(g,{label:"业务ID"},{default:a(()=>[n(p(f.value.business_id),1)]),_:1}),l(g,{label:"发送状态"},{default:a(()=>[l(me,{type:re(f.value.send_status)},{default:a(()=>[n(p(f.value.send_status_desc),1)]),_:1},8,["type"])]),_:1}),l(g,{label:"跳转页面",span:2},{default:a(()=>[n(p(f.value.page),1)]),_:1}),l(g,{label:"错误码"},{default:a(()=>[n(p(f.value.error_code||"-"),1)]),_:1}),l(g,{label:"错误信息"},{default:a(()=>[n(p(f.value.error_msg||"-"),1)]),_:1}),l(g,{label:"创建时间"},{default:a(()=>[n(p(f.value.create_time),1)]),_:1}),l(g,{label:"发送时间"},{default:a(()=>[n(p(f.value.send_time||"-"),1)]),_:1}),l(g,{label:"消息内容",span:2},{default:a(()=>[m("pre",Al,p(JSON.stringify(f.value.content,null,2)),1)]),_:1})]),_:1})):ge("",!0)]),_:1},8,["modelValue"])])}}}),Ut=vl(Gl,[["__scopeId","data-v-5dbaf65d"]]);export{Ut as default};
