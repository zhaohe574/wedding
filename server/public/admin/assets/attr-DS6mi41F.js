import{H as D,B as I,C as B,T as N,U as R,g as j,h as q,i as F,D as O}from"./element-plus-ChK2e5qA.js";import{b as T,d as $}from"./index-D465kfFn.js";import{I as z,A as G}from"./@element-plus-C4Lf8veM.js";import{D as H}from"./vuedraggable-RHgmLr3o.js";import{d as L,b as M,l as P,c as S,o as J,U as t,L as a,a as d,u as i,R as u}from"./@vue-ygbFPFRc.js";import"./lodash-es-C1lm3Iro.js";import"./dayjs-Bnps4p3p.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-UhqZPtFR.js";import"./vue-router-Cg6aTb_d.js";import"./pinia-CfRoOCaL.js";import"./axios-DIsA03vz.js";import"./lodash-CMKdTQec.js";import"./@vueuse-yz9uDhpq.js";import"./css-color-function-rr4n3v1N.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BWi338pc.js";import"./clipboard-7pJsftR6.js";import"./echarts-DRRUpF4H.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DDSL_IW4.js";import"./highlight.js-BLB-XFKK.js";import"./@highlightjs-DS9t1Xn3.js";import"./vue-CQyKTslw.js";import"./sortablejs-BvvSZPRv.js";const K={class:"flex-1 mt-4"},Q={class:"store-item mb-4 p-4 bg-gray-50 rounded-lg"},W={class:"flex items-start"},X={class:"drag-handle cursor-move mr-3 mt-2"},Y={class:"flex-1 min-w-0"},Z={class:"flex gap-4"},ee={class:"flex gap-4"},te={class:"ml-4 flex flex-col gap-2 flex-shrink-0"},le=L({__name:"attr",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},emits:["update:content"],setup(y,{emit:g}){const f=g,c=y,o=M({get:()=>c.content,set:n=>{f("update:content",n)}});function w(){var n;Array.isArray((n=c.content)==null?void 0:n.data)||f("update:content",{...c.content,data:[]})}P(()=>{w()});function U(){const n=Array.isArray(o.value.data)?[...o.value.data]:[];if(n.length>=20)return;const e={name:"新门店",address:"",phone:"",business_hours:"09:00-18:00",latitude:39.9042,longitude:116.4074,is_show:"1",sort:n.length+1};n.push(e),o.value={...o.value,data:n}}function A(n){const e=Array.isArray(o.value.data)?[...o.value.data]:[];e.splice(n,1),o.value={...o.value,data:e}}return(n,e)=>{const p=B,m=I,x=D,b=R,k=N,v=j,E=T,V=q,h=F,C=O;return J(),S("div",null,[t(C,{"label-width":"80px"},{default:a(()=>[t(x,{shadow:"never",class:"!border-none flex mt-2"},{default:a(()=>[e[4]||(e[4]=d("div",{class:"flex items-end mb-4"},[d("div",{class:"text-base text-[#101010] font-medium"},"基础设置")],-1)),t(m,{label:"组件标题"},{default:a(()=>[t(p,{modelValue:i(o).title,"onUpdate:modelValue":e[0]||(e[0]=r=>i(o).title=r),placeholder:"请输入标题",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1}),t(x,{shadow:"never",class:"!border-none flex mt-2"},{default:a(()=>[e[8]||(e[8]=d("div",{class:"flex items-end mb-4"},[d("div",{class:"text-base text-[#101010] font-medium"},"展示样式")],-1)),t(k,{modelValue:i(o).style,"onUpdate:modelValue":e[1]||(e[1]=r=>i(o).style=r)},{default:a(()=>[t(b,{value:1},{default:a(()=>e[5]||(e[5]=[u("地图+列表")])),_:1}),t(b,{value:2},{default:a(()=>e[6]||(e[6]=[u("纯地图")])),_:1}),t(b,{value:3},{default:a(()=>e[7]||(e[7]=[u("纯列表")])),_:1})]),_:1},8,["modelValue"]),t(m,{label:"自动排序",class:"mt-4"},{default:a(()=>[t(v,{modelValue:i(o).auto_sort,"onUpdate:modelValue":e[2]||(e[2]=r=>i(o).auto_sort=r),"active-value":1,"inactive-value":0,"active-text":"根据距离自动排序"},null,8,["modelValue"])]),_:1})]),_:1}),t(x,{shadow:"never",class:"!border-none flex mt-2"},{default:a(()=>{var r;return[e[12]||(e[12]=d("div",{class:"flex items-end mb-4"},[d("div",{class:"text-base text-[#101010] font-medium"},"门店列表设置"),d("div",{class:"text-xs text-tx-secondary ml-2"},"最多添加20个门店")],-1)),d("div",K,[t(i(H),{"model-value":Array.isArray(i(o).data)?i(o).data:[],"onUpdate:modelValue":e[3]||(e[3]=l=>f("update:content",{...c.content,data:l})),"item-key":(l,_)=>l&&l.name?l.name+_:"i"+_,animation:"300",handle:".drag-handle"},{item:a(({element:l,index:_})=>[d("div",Q,[d("div",W,[d("div",X,[t(E,{name:"el-icon-Rank",size:18,color:"#999"})]),d("div",Y,[t(m,{label:"门店名称","label-width":"70px",class:"!mb-2"},{default:a(()=>[t(p,{modelValue:l.name,"onUpdate:modelValue":s=>l.name=s,placeholder:"请输入门店名称",style:{width:"250px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{label:"门店地址","label-width":"70px",class:"!mb-2"},{default:a(()=>[t(p,{modelValue:l.address,"onUpdate:modelValue":s=>l.address=s,placeholder:"请输入门店地址",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),d("div",Z,[t(m,{label:"联系电话","label-width":"70px",class:"!mb-2 flex-1"},{default:a(()=>[t(p,{modelValue:l.phone,"onUpdate:modelValue":s=>l.phone=s,placeholder:"请输入联系电话"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{label:"营业时间","label-width":"70px",class:"!mb-2 flex-1"},{default:a(()=>[t(p,{modelValue:l.business_hours,"onUpdate:modelValue":s=>l.business_hours=s,placeholder:"如：09:00-18:00"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),d("div",ee,[t(m,{label:"纬度","label-width":"70px",class:"!mb-0 flex-1"},{default:a(()=>[t(V,{modelValue:l.latitude,"onUpdate:modelValue":s=>l.latitude=s,precision:6,step:1e-6,placeholder:"纬度",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{label:"经度","label-width":"70px",class:"!mb-0 flex-1"},{default:a(()=>[t(V,{modelValue:l.longitude,"onUpdate:modelValue":s=>l.longitude=s,precision:6,step:1e-6,placeholder:"经度",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),e[9]||(e[9]=d("div",{class:"text-xs text-gray-500 mt-1"},[u(" 提示：可通过 "),d("a",{href:"https://lbs.qq.com/getPoint/",target:"_blank",class:"text-primary hover:underline"}," 腾讯地图坐标拾取器 "),u(" 获取经纬度 ")],-1))]),d("div",te,[t(v,{modelValue:l.is_show,"onUpdate:modelValue":s=>l.is_show=s,"active-value":"1","inactive-value":"0","active-text":"显示"},null,8,["modelValue","onUpdate:modelValue"]),t(h,{type:"danger",text:"",icon:i(z),onClick:s=>A(_)},{default:a(()=>e[10]||(e[10]=[u(" 删除 ")])),_:2},1032,["icon","onClick"])])])])]),_:1},8,["model-value","item-key"]),t(h,{type:"primary",icon:i(G),onClick:U,disabled:(((r=i(o).data)==null?void 0:r.length)||0)>=20},{default:a(()=>e[11]||(e[11]=[u(" 添加门店 ")])),_:1},8,["icon","disabled"])])]}),_:1})]),_:1})])}}}),Oe=$(le,[["__scopeId","data-v-a90b53c1"]]);export{Oe as default};
