import{a5 as L,J as N,C as M,i as U,K as $}from"./element-plus-ChK2e5qA.js";import{d as K,r as p,w as O,c as w,o as a,U as m,u as f,i as v,L as i,a as s,Z as x,K as c,T as P,ab as R,R as k,H as T}from"./@vue-ygbFPFRc.js";import{c as A}from"./@vueuse-yz9uDhpq.js";const F={class:"popover-input__input mr-[10px] flex-1"},H={class:"popover-input__btns flex-none"},j=K({__name:"index",props:{value:{type:String},type:{type:String,default:"text"},width:{type:[Number,String],default:"300px"},placeholder:String,disabled:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},size:{type:String,default:"default"},limit:{type:Number,default:200},showLimit:{type:Boolean,default:!1},teleported:{type:Boolean,default:!0}},emits:["confirm"],setup(t,{emit:g}){const y=t,z=g,n=p(!1),u=p(!1),o=p(),V=()=>{r(),z("confirm",o.value)},B=()=>{y.disabled||(n.value=!0)},r=()=>{n.value=!1};return O(()=>y.value,d=>{o.value=d},{immediate:!0}),A(document.documentElement,"click",()=>{u.value||r()}),(d,e)=>{const C=$,E=N,S=M,b=U,h=L;return a(),w("div",{onMouseenter:e[4]||(e[4]=l=>u.value=!0),onMouseleave:e[5]||(e[5]=l=>u.value=!1)},[m(h,{placement:"top",visible:f(n),"onUpdate:visible":e[3]||(e[3]=l=>v(n)?n.value=l:null),width:t.width,trigger:"contextmenu",class:"popover-input",teleported:t.teleported,persistent:!1,"popper-class":"!p-0"},{reference:i(()=>[s("div",{class:"inline",onClick:x(B,["stop"])},[T(d.$slots,"default")])]),default:i(()=>[s("div",{class:"flex p-3",onClick:e[2]||(e[2]=x(()=>{},["stop"]))},[s("div",F,[t.type=="select"?(a(),c(E,{key:0,class:"flex-1",size:t.size,modelValue:f(o),"onUpdate:modelValue":e[0]||(e[0]=l=>v(o)?o.value=l:null),teleported:t.teleported},{default:i(()=>[(a(!0),w(P,null,R(t.options,l=>(a(),c(C,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["size","modelValue","teleported"])):(a(),c(S,{key:1,modelValue:f(o),"onUpdate:modelValue":e[1]||(e[1]=l=>v(o)?o.value=l:null),modelModifiers:{trim:!0},maxlength:t.limit,"show-word-limit":t.showLimit,type:t.type,size:t.size,clearable:"",placeholder:t.placeholder},null,8,["modelValue","maxlength","show-word-limit","type","size","placeholder"]))]),s("div",H,[m(b,{link:"",onClick:r},{default:i(()=>e[6]||(e[6]=[k("取消")])),_:1}),m(b,{type:"primary",size:t.size,onClick:V},{default:i(()=>e[7]||(e[7]=[k("确定")])),_:1},8,["size"])])])]),_:3},8,["visible","width","teleported"])],32)}}});export{j as _};
