import{H as I,B as O,C as R,g as S,i as z,D as A}from"./element-plus-ChK2e5qA.js";import{_ as H}from"./index-DlQH-CEM.js";import{b as K,f as b}from"./index-D465kfFn.js";import{_ as L}from"./picker-mSew3b7I.js";import{_ as P}from"./picker-COC_GcuI.js";import{D as T}from"./vuedraggable-RHgmLr3o.js";import{e as v}from"./lodash-es-C1lm3Iro.js";import{d as q,b as G,c as k,o as c,U as o,L as s,a as n,P as u,u as r,K as _,R as J}from"./@vue-ygbFPFRc.js";const M={class:"flex-1"},Q={class:"bg-fill-light w-full p-4 mt-4"},W={class:"flex-1"},X={class:"flex-1 flex items-center"},Y={class:"drag-move cursor-move ml-auto"},Z={key:0,class:"mt-4"},f=5,ce=q({__name:"attr",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},type:{type:String,default:"mobile"}},emits:["update:content"],setup(m,{emit:y}){const p=y,d=m,g=G({get:()=>d.content,set:a=>{p("update:content",a)}}),w=()=>{var a;if(((a=d.content.data)==null?void 0:a.length)<f){const e=v(d.content);e.data.push({is_show:"1",image:"",name:"",link:{}}),p("update:content",e)}else b.msgError(`最多添加${f}张图片`)},U=a=>{var i;if(((i=d.content.data)==null?void 0:i.length)<=1)return b.msgError("最少保留一张图片");const e=v(d.content);e.data.splice(a,1),p("update:content",e)};return(a,e)=>{const i=P,E=L,C=R,h=O,B=S,D=K,N=H,$=z,j=I,F=A;return c(),k("div",null,[o(F,{"label-width":"70px"},{default:s(()=>[o(j,{shadow:"never",class:"!border-none flex mt-2"},{default:s(()=>{var x;return[e[2]||(e[2]=n("div",{class:"flex items-end"},[n("div",{class:"text-base text-[#101010] font-medium"},"图片设置"),n("div",{class:"text-xs text-tx-secondary ml-2"}," 最多添加5张，建议图片尺寸：750px*200px ")],-1)),n("div",M,[o(r(T),{class:"draggable",modelValue:r(g).data,"onUpdate:modelValue":e[0]||(e[0]=t=>r(g).data=t),animation:"300",handle:".drag-move"},{item:s(({element:t,index:V})=>[(c(),_(N,{key:V,onClose:l=>U(V),class:"w-full"},{default:s(()=>[n("div",Q,[o(i,{width:"396px",height:"196px",modelValue:t.image,"onUpdate:modelValue":l=>t.image=l,"upload-class":"bg-body","exclude-domain":""},null,8,["modelValue","onUpdate:modelValue"]),n("div",W,[o(h,{class:"mt-[18px]",label:"图片链接"},{default:s(()=>[m.type=="mobile"?(c(),_(E,{key:0,modelValue:t.link,"onUpdate:modelValue":l=>t.link=l},null,8,["modelValue","onUpdate:modelValue"])):u("",!0),m.type=="pc"?(c(),_(C,{key:1,placeholder:"请输入链接",modelValue:t.link.path,"onUpdate:modelValue":l=>t.link.path=l},null,8,["modelValue","onUpdate:modelValue"])):u("",!0)]),_:2},1024),o(h,{label:"是否显示",class:"mt-[18px] !mb-0"},{default:s(()=>[n("div",X,[o(B,{modelValue:t.is_show,"onUpdate:modelValue":l=>t.is_show=l,"active-value":"1","inactive-value":"0"},null,8,["modelValue","onUpdate:modelValue"]),n("div",Y,[o(D,{name:"el-icon-Rank",size:"18"})])])]),_:2},1024)])])]),_:2},1032,["onClose"]))]),_:1},8,["modelValue"])]),((x=m.content.data)==null?void 0:x.length)<f?(c(),k("div",Z,[o($,{class:"w-full",type:"primary",onClick:w},{default:s(()=>e[1]||(e[1]=[J("添加图片")])),_:1})])):u("",!0)]}),_:1})]),_:1})])}}});export{ce as _};
