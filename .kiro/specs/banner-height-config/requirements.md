# 需求文档 - 首页轮播图高度自定义配置

## 介绍

本需求旨在为首页轮播图组件添加高度自定义配置功能，使管理员能够在装修页面中灵活设置轮播图的显示高度，以适应不同的设计需求和内容展示场景。

## 术语表

- **装修系统（Decoration System）**: 后台管理系统中用于配置前端页面布局和组件的可视化编辑系统
- **轮播图组件（Banner Component）**: 用于在首页展示多张图片轮播的UI组件
- **常规模式（Normal Mode）**: 轮播图的标准展示样式，默认高度为321rpx
- **大屏模式（Large Screen Mode）**: 轮播图的全屏展示样式，默认高度为1100rpx
- **高度配置（Height Configuration）**: 允许管理员自定义设置轮播图显示高度的数值，单位为rpx

## 需求

### 需求 1：轮播图高度配置界面

**用户故事：** 作为管理员，我想要在装修页面的轮播图属性设置中配置轮播图高度，以便根据实际需求调整轮播图的显示效果。

#### 验收标准

1. WHEN 管理员在装修页面选中轮播图组件 THEN 系统 SHALL 在属性面板中显示"轮播图高度"配置项
2. WHEN 轮播图处于常规模式 THEN 系统 SHALL 显示高度输入框，默认值为321，单位为rpx
3. WHEN 轮播图处于大屏模式 THEN 系统 SHALL 显示高度输入框，默认值为1100，单位为rpx
4. WHEN 管理员输入非数字字符 THEN 系统 SHALL 阻止输入并提示"请输入有效的数字"
5. WHEN 管理员输入的高度值小于100 THEN 系统 SHALL 提示"高度不能小于100rpx"
6. WHEN 管理员输入的高度值大于2000 THEN 系统 SHALL 提示"高度不能大于2000rpx"

### 需求 2：轮播图高度数据存储

**用户故事：** 作为系统，我需要将管理员配置的轮播图高度保存到数据库，以便在前端页面中正确渲染。

#### 验收标准

1. WHEN 管理员修改轮播图高度配置 THEN 系统 SHALL 将高度值保存到装修数据的content字段中
2. WHEN 管理员保存装修页面 THEN 系统 SHALL 验证高度值在有效范围内（100-2000）
3. WHEN 高度值未配置 THEN 系统 SHALL 使用默认值（常规模式321，大屏模式1100）
4. WHEN 装修数据被读取 THEN 系统 SHALL 正确返回已保存的高度配置

### 需求 3：前端轮播图高度渲染

**用户故事：** 作为用户，我希望在移动端查看首页时，轮播图能够按照管理员配置的高度正确显示。

#### 验收标准

1. WHEN 移动端首页加载轮播图组件 THEN 系统 SHALL 从装修数据中读取配置的高度值
2. WHEN 高度值存在 THEN 系统 SHALL 使用配置的高度值渲染轮播图
3. WHEN 高度值不存在 THEN 系统 SHALL 使用默认高度值（常规模式321rpx，大屏模式1100rpx）
4. WHEN 轮播图样式在常规和大屏之间切换 THEN 系统 SHALL 使用对应样式的配置高度
5. WHEN 轮播图高度改变 THEN 系统 SHALL 保持图片的纵横比和裁剪模式不变

### 需求 4：配置界面用户体验

**用户故事：** 作为管理员，我希望在配置轮播图高度时能够获得清晰的提示和实时预览效果。

#### 验收标准

1. WHEN 管理员聚焦高度输入框 THEN 系统 SHALL 显示建议高度范围的提示文字
2. WHEN 管理员修改高度值 THEN 系统 SHALL 在预览区域实时更新轮播图高度
3. WHEN 轮播图处于常规模式 THEN 系统 SHALL 显示提示"建议高度：250-500rpx"
4. WHEN 轮播图处于大屏模式 THEN 系统 SHALL 显示提示"建议高度：800-1200rpx"
5. WHEN 管理员输入的高度值在建议范围外但在有效范围内 THEN 系统 SHALL 显示警告提示但允许保存

### 需求 5：向后兼容性

**用户故事：** 作为系统维护者，我需要确保新功能不会影响现有的轮播图配置和显示。

#### 验收标准

1. WHEN 系统升级后加载旧的装修数据 THEN 系统 SHALL 为未配置高度的轮播图使用默认高度值
2. WHEN 旧数据中不存在height字段 THEN 系统 SHALL 自动补充默认高度值
3. WHEN 前端渲染旧配置的轮播图 THEN 系统 SHALL 保持与升级前相同的显示效果
4. WHEN 管理员编辑旧配置的轮播图 THEN 系统 SHALL 在属性面板中显示当前使用的默认高度值
